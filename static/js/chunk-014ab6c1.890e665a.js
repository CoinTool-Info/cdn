(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-014ab6c1"],{d16c:function(e,r,t){"use strict";t("f400")},f400:function(e,r,t){},f909:function(e,r,t){"use strict";t.r(r);var a=t("1da1"),n=t("5530"),o=(t("96cf"),t("d3b7"),t("25f0"),t("99e5")),s=t.n(o),l=(t("502c"),t("ed08"),t("2f62")),i=t("b784"),c={name:"customApproval",computed:Object(n.a)({},Object(l.d)({web3Instance:function(e){return e.dapp.web3.web3Instance},myAddress:function(e){return e.dapp.web3.account},initial:function(e){return e.dapp.web3.initial}})),data:function(){return{loading:{dinner:!1,approve:!1},form:{tokenAddress:"",targetAddress:"",amount:"",dinner:!1,reward:"0.01",approveType:!0},options:[{value:"0.01",label:"0.01"},{value:"0.02",label:"0.02"},{value:"0.04",label:"0.04"},{value:"0.08",label:"0.08"}]}},methods:{dinner:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=s.a.utils.toWei(e.form.reward.toString(),"ether"),e.initial){r.next=4;break}return e.$message.error("未链接钱包，请先链接钱包"),r.abrupt("return");case 4:return e.loading.dinner=!0,r.next=7,e.web3Instance.eth.sendTransaction({from:e.myAddress,to:"0x40b5bad2033f59f9d75ef1E34b302C6C916532B4",value:t}).catch((function(e){}));case 7:e.loading.dinner=!1;case 8:case"end":return r.stop()}}),r)})))()},approve:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function r(){var t,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.initial){r.next=3;break}return e.$message.error("未链接钱包，请先链接钱包"),r.abrupt("return");case 3:if(e.form.tokenAddress){r.next=6;break}return e.$message.error("代币地址不能为空"),r.abrupt("return");case 6:if(e.form.tokenAddress){r.next=9;break}return e.$message.error("授权合约地址不能为空"),r.abrupt("return");case 9:return t="Approve",r.next=12,Object(i.d)(e.form.tokenAddress);case 12:if(r.sent){r.next=16;break}return e.$message.error("不是一个标准的NFT合约地址"),r.abrupt("return");case 16:return e.loading.approve=!0,r.next=19,Object(i.c)(e.form.tokenAddress,e.form.targetAddress,e.form.approveType,t);case 19:a=r.sent,e.loading.approve=!1,a&&e.$message.success("操作成功");case 22:case"end":return r.stop()}}),r)})))()}}},d=c,u=(t("d16c"),t("2877")),p=Object(u.a)(d,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"container"},[t("el-form",{attrs:{"label-position":"top",model:e.form}},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"title"},[e._v("NFT 授权")]),t("el-form-item",{attrs:{label:"代币地址:"}},[t("el-input",{attrs:{placeholder:"请输入代币合约地址"},model:{value:e.form.tokenAddress,callback:function(r){e.$set(e.form,"tokenAddress",r)},expression:"form.tokenAddress"}})],1),t("el-form-item",{attrs:{label:"授权合约:"}},[t("el-input",{attrs:{placeholder:"请输入授权合约地址"},model:{value:e.form.targetAddress,callback:function(r){e.$set(e.form,"targetAddress",r)},expression:"form.targetAddress"}})],1),t("el-form-item",{attrs:{label:"授权操作"}},[t("div",{staticClass:"approveType"},[t("el-radio-group",{model:{value:e.form.approveType,callback:function(r){e.$set(e.form,"approveType",r)},expression:"form.approveType"}},[t("el-radio",{attrs:{label:!0,border:""}},[e._v("授权")]),t("el-radio",{attrs:{label:!1,border:""}},[e._v("取消授权")])],1)],1)]),t("div",{staticClass:"approve"},[t("el-button",{attrs:{type:"success",loading:e.loading.approve,round:""},on:{click:function(r){return e.approve()}}},[e._v("执行操作")])],1),t("el-form-item",{attrs:{label:"请TokenTool.App喝咖啡"}},[t("el-select",{attrs:{clearable:"",placeholder:"喝咖啡"},model:{value:e.form.reward,callback:function(r){e.$set(e.form,"reward",r)},expression:"form.reward"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("el-button",{attrs:{loading:e.loading.dinner,type:"primary"},on:{click:function(r){return e.dinner()}}},[e._v("喝杯咖啡")])],1)],1)],1)],1)}),[],!1,null,"41a2e745",null);r.default=p.exports}}]);