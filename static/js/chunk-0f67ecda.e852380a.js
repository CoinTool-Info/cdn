(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0f67ecda"],{"0d96":function(e,t,n){"use strict";n("3bfa")},"0f2a":function(e,t,n){e.exports=n.p+"static/img/right.8b4980f6.png"},"1df8":function(e,t,n){"use strict";var i=(n("a9e3"),{props:{index:{type:Number,default:1},number:{type:Number,default:0},fixed:{type:Boolean,default:!1},background:{type:String,default:"#000"},flashColor:{type:String,default:"#939AA7"}}}),a=(n("0d96"),n("2877")),s=Object(a.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"skeleton"},[e.fixed||e.number?e._e():n("div",{staticClass:"block"},e._l(e.index,(function(e,t){return n("ul",{key:t},[n("li"),n("li"),n("li")])})),0),e.number?n("div",{staticClass:"number"},e._l(e.number,(function(t,i){return n("div",{key:i,style:"background-image: linear-gradient(90deg, "+e.background+" 25%, "+e.flashColor+" 37%, "+e.background+" 63%)"})})),0):e._e(),e.fixed?n("div",{staticClass:"fixed"},[n("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[n("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})])]):e._e()])}),[],!1,null,"1cbf9fa0",null);t.a=s.exports},"34eb":function(e,t,n){e.exports=n.p+"static/img/left.4c008f03.png"},"3bfa":function(e,t,n){},"4dec":function(e,t,n){"use strict";n("6370")},6370:function(e,t,n){},8997:function(e,t,n){"use strict";n.r(t);var i=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ornament"},[t("div",{staticClass:"cLgFqB"}),t("div",{staticClass:"left"},[t("img",{attrs:{src:n("34eb"),alt:""}})]),t("div",{staticClass:"right"},[t("img",{attrs:{src:n("0f2a"),alt:""}})])])}],a=n("1da1"),s=n("5530"),r=(n("96cf"),n("b680"),n("99e5")),o=n.n(r),c=n("2f62"),l=n("901e"),d=n.n(l),p=n("e95b"),u=n("51d2"),m=n("ed08"),f=n("b893"),b=n("ac09"),g=n("8325"),v={name:"list",components:{Skeleton:n("1df8").a},computed:Object(s.a)({},Object(c.d)({chainNetwork:function(e){return e.dapp.chainNetwork},networkId:function(e){return e.dapp.web3.networkId},myAddress:function(e){return e.dapp.web3.account},initial:function(e){return e.dapp.web3.initial},menu:function(e){return e.settings.menu},web3Instance:function(e){return e.dapp.web3.web3Instance}})),watch:{initial:function(){this.initialData()}},directives:{clipboard:g.a},data:function(){return{parseTime:m.j,hiddenAddress:m.g,curTime:0,loading:{load:!1},tableData:[]}},methods:{dayReward:function(e){var t=e.duration/86400,n=Object(m.d)(e.totalAccumulatedReward,e.rewardTokenDecimals);return new d.a(n).dividedBy(t).toFixed(2)},calcDays:function(e){var t=e.duration/86400,n=parseInt((e.periodFinish-this.curTime)/86400);return n>=t&&(n=t),parseInt(n)+"/"+t},calcReward:function(e){var t=e.duration/86400,n=new d.a(Object(m.d)(e.totalAccumulatedReward,e.rewardTokenDecimals)),i=n.dividedBy(t),a=parseInt((e.periodFinish-this.curTime)/86400);return a>=t&&(a=t),i.multipliedBy(a).toFixed(2)+"/"+n.toFixed(2)},clipboardSuccess:function(){this.$message({message:this.$t("copySuccess"),type:"success",duration:1500})},jumpCreate:function(){this.$router.push("/mining/create")},initialData:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var n,i,a,s,r,c,l,d,m,g,v,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.myAddress){t.next=3;break}return t.abrupt("return");case 3:if(e.loading.load=!0,(n=Object(f.i)(e.networkId)).miningAddress){t.next=9;break}return e.$message.error(e.$t("networkError.networkNotSupport")),e.loading.load=!1,t.abrupt("return");case 9:return e.miningAddress=n.miningAddress,e.web3=new o.a(new o.a.providers.HttpProvider(n.rpcUrls[0])),t.next=13,e.web3.eth.getBlock("pending");case 13:return i=t.sent,e.curTime=i.timestamp,t.next=17,Object(b.g)(e.web3,e.miningAddress,e.myAddress);case 17:a=t.sent,s=0;case 20:if(!(s<a)){t.next=73;break}return t.next=23,Object(b.e)(e.web3,e.miningAddress,e.myAddress,s);case 23:return r=t.sent,t.next=26,Object(b.f)(e.web3,r);case 26:if((c=t.sent).poolAddress=r,!c.isLpToken){t.next=53;break}return t.next=32,new e.web3.eth.Contract(p.abi,c.lpt);case 32:return l=t.sent,t.next=35,l.methods.token0().call();case 35:return c.token0=t.sent,t.next=38,l.methods.token1().call();case 38:return c.token1=t.sent,t.next=41,new e.web3.eth.Contract(u.abi,c.token0);case 41:return d=t.sent,t.next=44,d.methods.symbol().call();case 44:return c.token0Name=t.sent,t.next=47,new e.web3.eth.Contract(u.abi,c.token1);case 47:return m=t.sent,t.next=50,m.methods.symbol().call();case 50:c.token1Name=t.sent,t.next=59;break;case 53:return t.next=55,new e.web3.eth.Contract(u.abi,c.lpt);case 55:return g=t.sent,t.next=58,g.methods.symbol().call();case 58:c.tokenName=t.sent;case 59:return t.next=61,new e.web3.eth.Contract(u.abi,c.rewardToken);case 61:return v=t.sent,t.next=64,v.methods.symbol().call();case 64:return c.rewardTokenName=t.sent,t.next=67,v.methods.decimals().call();case 67:h=t.sent,c.rewardTokenDecimals=parseInt(h),e.tableData.push(c);case 70:s++,t.next=20;break;case 73:e.loading.load=!1;case 74:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.initialData()}},h=v,w=(n("4dec"),n("2877")),x=Object(w.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"top"},[e._m(0),n("div",{staticClass:"center"},[n("span",[e._v(e._s(e.$t("mining.tips1")))]),n("span",[e._v(e._s(e.$t("mining.tips2")))]),n("span",[n("i",{staticClass:"el-icon-document",staticStyle:{"margin-right":"12px"}}),n("a",{attrs:{href:"https://docs.tokentool.app/mining/create-a-mining",target:"_blank"}},[e._v(e._s(e.$t("mining.view")))])]),n("el-button",{staticClass:"btn",staticStyle:{"font-size":"16px","font-weight":"600",cursor:"pointer","z-index":"2"},attrs:{type:"primary"},on:{click:function(t){return e.jumpCreate()}}},[e._v("创建挖矿")])],1)]),n("div",{staticClass:"mylist"},[n("h5",[e._v(e._s(e.$t("mining.myList")))]),e.loading.load?n("Skeleton",{attrs:{index:1}}):n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"medium","max-height":"500px"}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticStyle:{display:"flex",width:"100%","padding-left":"20px"}},[n("div",{staticStyle:{flex:"1","font-size":"16px","line-height":"30px","font-weight":"400",color:"rgba(26, 26, 27, 0.5)"}},[e._v("奖励")]),n("div",{staticStyle:{flex:"1","font-size":"16px","line-height":"30px","font-weight":"400",color:"rgba(26, 26, 27, 0.5)"}},[e._v("剩余天数/总天数")]),n("div",{staticStyle:{flex:"1","font-size":"16px","line-height":"30px","font-weight":"400",color:"rgba(26, 26, 27, 0.5)"}},[e._v("每日奖励数量")]),n("div",{staticStyle:{flex:"1","font-size":"16px","line-height":"30px","font-weight":"400",color:"rgba(26, 26, 27, 0.5)"}},[e._v("剩余奖励/总奖励")]),n("div",{staticStyle:{flex:"1","font-size":"16px","line-height":"30px","font-weight":"400",color:"rgba(26, 26, 27, 0.5)"}})]),n("div",{staticStyle:{display:"flex",width:"100%","padding-left":"20px"}},[n("div",{staticStyle:{flex:"1","line-height":"30px",color:"#1a1a1b"}},[e._v(e._s(t.row.rewardTokenName))]),n("div",{staticStyle:{flex:"1","line-height":"30px",color:"#1a1a1b"}},[e._v(e._s(e.calcDays(t.row)))]),n("div",{staticStyle:{flex:"1","line-height":"30px",color:"#1a1a1b"}},[e._v(e._s(e.dayReward(t.row)))]),n("div",{staticStyle:{flex:"1","line-height":"30px",color:"#1a1a1b"}},[e._v(e._s(e.calcReward(t.row)))]),n("div",{staticStyle:{flex:"1","line-height":"30px",color:"#1a1a1b"}})])]}}])}),n("el-table-column",{attrs:{label:e.$t("mining.miningType"),"min-width":"200px",prop:"type"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(t.row.isLpToken?e.$t("mining.lpMing"):e.$t("mining.coinMing")))])]}}])}),n("el-table-column",{attrs:{label:e.$t("mining.mingAddress"),"min-width":"200px",prop:"poolAddress"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(e.hiddenAddress(t.row.poolAddress))+" "),n("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.row.poolAddress,expression:"scope.row.poolAddress",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.clipboardSuccess,expression:"clipboardSuccess",arg:"success"}],staticClass:"el-icon-document-copy"})])]}}])}),n("el-table-column",{attrs:{label:e.$t("mining.stakeCoin"),"min-width":"180px",prop:"pledgeToken"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(" "+e._s(t.row.isLpToken?t.row.token0Name+"-"+t.row.token1Name:t.row.tokenName)+" ")])]}}])}),n("el-table-column",{attrs:{label:e.$t("mining.startTime"),"min-width":"200px",prop:"startTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(" "+e._s(e.parseTime(t.row.starttime))+" ")])]}}])}),n("el-table-column",{attrs:{label:e.$t("mining.endTime"),"min-width":"200px",prop:"endTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(" "+e._s(e.parseTime(t.row.periodFinish))+" ")])]}}])}),n("el-table-column",{attrs:{"min-width":"110px",fixed:"right",align:"center",label:"",prop:"desc"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:"https://tokentool.app/mining/detail/"+t.row.poolAddress+"?chainId="+e.networkId,expression:"'https://tokentool.app/mining/detail/' + scope.row.poolAddress + '?chainId='+networkId",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.clipboardSuccess,expression:"clipboardSuccess",arg:"success"}],staticClass:"ddzcNo"},[n("i",{staticClass:"el-icon-share"}),n("span",[e._v(e._s(e.$t("mining.inviteShare")))])])]}}])})],1)],1),n("div",{staticClass:"manual"},[n("h5",[e._v(e._s(e.$t("mining.flowDesc")))]),n("div",{staticClass:"flex"},[n("div",{staticClass:"item"},[n("div",{staticClass:"title"},[n("span",[e._v("1")]),n("span",[e._v(e._s(e.$t("mining.stakeRule")))])]),n("span",[e._v(e._s(e.$t("mining.oneTips")))])]),n("div",{staticClass:"item"},[n("div",{staticClass:"title"},[n("span",[e._v("2")]),n("span",[e._v(e._s(e.$t("mining.settingTips")))])]),n("span",[e._v(e._s(e.$t("mining.twoTips")))])]),n("div",{staticClass:"item"},[n("div",{staticClass:"title"},[n("span",[e._v("3")]),n("span",[e._v(e._s(e.$t("mining.shareUrl")))])]),n("span",[e._v(e._s(e.$t("mining.threeTips")))])])])])])}),i,!1,null,"6707efe3",null);t.default=x.exports}}]);