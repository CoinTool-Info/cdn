(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1baaa865"],{"1d24":function(t,e,n){"use strict";n.r(e);var a=n("c7eb"),r=n("1da1"),s=n("5530"),c=(n("d3b7"),n("25f0"),n("2f62")),o=n("c0d8"),u=n.n(o),i=n("b893"),l=n("502c"),p=n("f9f5"),b={name:"customSender.vue",computed:Object(s.a)(Object(s.a)({},Object(c.d)({networkId:function(t){return t.dapp.web3.networkId},initial:function(t){return t.dapp.web3.initial},web3Instance:function(t){return t.dapp.web3.web3Instance},myAddress:function(t){return t.dapp.web3.account}})),{},{showNetworkName:function(){if(this.initial){var t=Object(i.l)(this.networkId);if(t)return t.chainName}return this.$t("other.unknown")}}),components:{SubmitTxDialog:p.a},watch:{initial:function(t){t&&this.startCall()}},data:function(){return{dialog:{url:"",show:!1},loading:{submit:!1},customFrom:{to:null,value:"0",data:"0x",nonce:null,gasLimit:null,gasPrice:null,gasType:!0,nonceType:!0,limitType:!0},customFromRules:{nonce:[{required:!0,message:this.$t("createNft.isNotNull"),trigger:"change"}],gasPrice:[{required:!0,message:this.$t("createNft.isNotNull"),trigger:"change"}],gasLimit:[{required:!0,message:this.$t("createNft.isNotNull"),trigger:"change"}],data:[{required:!0,message:this.$t("createNft.isNotNull"),trigger:"change"}],value:[{required:!0,message:this.$t("createNft.isNotNull"),trigger:"change"}]}}},methods:{subConfirm:function(){var t=this;return Object(r.a)(Object(a.a)().mark((function e(){var n,r,s,c,o,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.submit=!0,n=u.a.utils.toWei(t.customFrom.gasPrice.toString(),"gwei"),r=u.a.utils.toWei(t.customFrom.value.toString(),"ether"),s=t.customFrom.to?t.customFrom.to:null,c={from:t.myAddress,to:s,value:r,nonce:t.customFrom.nonce,gasPrice:n,data:t.customFrom.data},e.next=8,t.web3Instance.eth.estimateGas(c).catch((function(e){return t.$message.error(e.message),!1}));case 8:if(!(o=e.sent)){e.next=17;break}return c.gasLimit=o,e.next=14,Object(l.d)(c).catch((function(e){return t.$message.error(e.message),!1}));case 14:(i=e.sent)&&(t.$message.success(t.$t("success")),t.dialog.url=i.transactionHash,t.dialog.show=!0);case 17:t.loading.submit=!1;case 18:case"end":return e.stop()}}),e)})))()},getPing:function(){var t=this;return Object(r.a)(Object(a.a)().mark((function e(){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.initial){e.next=2;break}return e.abrupt("return");case 2:if(!t.customFrom.gasType){e.next=10;break}return e.next=6,t.web3Instance.eth.getGasPrice();case 6:n=e.sent,n=u.a.utils.fromWei(n,"gwei"),n=parseInt(1.2*n),t.customFrom.gasPrice=n;case 10:if(!t.customFrom.nonceType){e.next=15;break}return e.next=14,t.web3Instance.eth.getTransactionCount(t.myAddress);case 14:t.customFrom.nonce=e.sent;case 15:case"end":return e.stop()}}),e)})))()},startCall:function(){this.getPing(),this.timer&&clearInterval(this.timer),this.timer=setInterval(this.getPing,1e4)},setMyAddress:function(){this.initial?this.customFrom.to=this.myAddress:this.$message.error(this.$t("networkError.walletConn"))}},created:function(){this.startCall()}},m=b,d=(n("d7c6c"),n("2877")),f=Object(d.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"flexBox"},[n("div",{staticClass:"content"},[n("div",{staticClass:"headerBox"},[n("div",{staticClass:"bgIcon"},[n("svg-icon",{attrs:{"class-name":"icon-transform2","icon-class":"transform2"}})],1),n("h1",{staticClass:"title"},[t._v(t._s(t.$t("other.customSender")))])]),n("div",{staticClass:"label"},[n("span",[t._v("Chainï¼š")]),n("el-tag",[t._v(t._s(t.showNetworkName))])],1),n("el-form",{ref:"customFrom",attrs:{model:t.customFrom,rules:t.customFromRules,"label-position":"top"}},[n("el-form-item",{attrs:{prop:"to"}},[n("span",{attrs:{slot:"label"},slot:"label"},[t._v("to "),n("el-tooltip",{attrs:{content:t.$t("other.toTips"),effect:"dark",placement:"top"}},[n("i",{staticClass:"el-icon-question createTipsIcon"})])],1),n("el-input",{model:{value:t.customFrom.to,callback:function(e){t.$set(t.customFrom,"to",e)},expression:"customFrom.to"}},[n("template",{slot:"append"},[n("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.setMyAddress()}}},[t._v(t._s(t.$t("other.currentAddress")))])])],2)],1),n("el-form-item",{attrs:{label:"value",prop:"value"}},[n("el-input",{model:{value:t.customFrom.value,callback:function(e){t.$set(t.customFrom,"value",e)},expression:"customFrom.value"}})],1),n("el-form-item",{attrs:{prop:"data"}},[n("span",{attrs:{slot:"label"},slot:"label"},[t._v("Data(HEX) "),n("el-tooltip",{attrs:{content:t.$t("other.hex"),effect:"dark",placement:"top"}},[n("i",{staticClass:"el-icon-question createTipsIcon"})])],1),n("el-input",{attrs:{type:"textarea",row:4},model:{value:t.customFrom.data,callback:function(e){t.$set(t.customFrom,"data",e)},expression:"customFrom.data"}})],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:13,xs:24}},[n("el-form-item",{attrs:{label:"Nonce",prop:"nonce"}},[n("span",{attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t.$t("other.nonceTips"))+" "),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.$t("other.nonceTips1"))+" "),n("a",{staticStyle:{color:"#3784fd","text-decoration-line":"underline"},attrs:{href:"https://docs.tokentool.app/tools/tx-speed",target:"_blank"}},[t._v(" "+t._s(t.$t("other.nonceTips2"))+" ")])]),n("i",{staticClass:"el-icon-question createTipsIcon"})])],1),n("el-input",{attrs:{disabled:t.customFrom.nonceType},model:{value:t.customFrom.nonce,callback:function(e){t.$set(t.customFrom,"nonce",e)},expression:"customFrom.nonce"}})],1)],1),n("el-col",{attrs:{span:11,xs:24}},[n("div",{staticClass:"gasType"},[n("el-radio",{attrs:{label:!0,border:"",size:"medium"},model:{value:t.customFrom.nonceType,callback:function(e){t.$set(t.customFrom,"nonceType",e)},expression:"customFrom.nonceType"}},[t._v(t._s(t.$t("other.automatic")))]),n("el-radio",{attrs:{label:!1,border:"",size:"medium"},model:{value:t.customFrom.nonceType,callback:function(e){t.$set(t.customFrom,"nonceType",e)},expression:"customFrom.nonceType"}},[t._v(t._s(t.$t("other.manual")))])],1)])],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:13,xs:24}},[n("el-form-item",{attrs:{label:"Gas Price",prop:"gasPrice"}},[n("el-input",{attrs:{disabled:t.customFrom.gasType},model:{value:t.customFrom.gasPrice,callback:function(e){t.$set(t.customFrom,"gasPrice",e)},expression:"customFrom.gasPrice"}})],1)],1),n("el-col",{attrs:{span:11,xs:24}},[n("div",{staticClass:"gasType"},[n("el-radio",{attrs:{label:!0,border:"",size:"medium"},model:{value:t.customFrom.gasType,callback:function(e){t.$set(t.customFrom,"gasType",e)},expression:"customFrom.gasType"}},[t._v(t._s(t.$t("other.automatic")))]),n("el-radio",{attrs:{label:!1,border:"",size:"medium"},model:{value:t.customFrom.gasType,callback:function(e){t.$set(t.customFrom,"gasType",e)},expression:"customFrom.gasType"}},[t._v(t._s(t.$t("other.manual")))])],1)])],1)],1),n("div",{staticClass:"btnBox"},[n("el-button",{staticClass:"btn",attrs:{type:"primary",loading:t.loading.submit},on:{click:function(e){return t.subConfirm()}}},[t._v("Confirm")])],1)],1)]),n("submit-tx-dialog",{attrs:{showDialog:t.dialog.show,url:t.dialog.url},on:{closeDialog:function(e){t.dialog.show=!1}}})],1)}),[],!1,null,"4f7be487",null);e.default=f.exports},"502c":function(t,e,n){"use strict";n.d(e,"h",(function(){return p})),n.d(e,"k",(function(){return b})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return d})),n.d(e,"l",(function(){return f})),n.d(e,"j",(function(){return w})),n.d(e,"n",(function(){return h})),n.d(e,"i",(function(){return v})),n.d(e,"g",(function(){return g})),n.d(e,"a",(function(){return x})),n.d(e,"b",(function(){return j})),n.d(e,"o",(function(){return O})),n.d(e,"c",(function(){return k})),n.d(e,"m",(function(){return y})),n.d(e,"d",(function(){return F}));var a=n("c7eb"),r=n("1da1"),s=n("51d2"),c=(n("e95b"),n("4360")),o=n("ed08"),u=n("cf29"),i=n("901e"),l=n.n(i),p=function(){var t=Object(r.a)(Object(a.a)().mark((function t(){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new c.a.state.dapp.web3.web3Instance.eth.getGasPrice;case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=Object(r.a)(Object(a.a)().mark((function t(e,n,r){var i,l,p,b;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="getTokenBalance",t.next=3,new c.a.state.dapp.web3.web3Instance.eth.Contract(s.abi,e);case 3:return l=t.sent,p={name:"balanceOf",erc20:!0,data:[r]},t.next=7,Object(u.b)(l,p,c.a.state.dapp.web3.account,i);case 7:return b=t.sent,t.abrupt("return",Object(o.e)(b,n));case 9:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),m=function(){var t=Object(r.a)(Object(a.a)().mark((function t(e,n,r,o){var i,p,b,m;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="getAllowance",t.next=3,new c.a.state.dapp.web3.web3Instance.eth.Contract(s.abi,e);case 3:return p=t.sent,b={name:"allowance",erc20:!0,data:[r,o]},t.next=7,Object(u.b)(p,b,c.a.state.dapp.web3.account,i);case 7:return m=t.sent,t.abrupt("return",new l.a(m));case 9:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),d=function(){var t=Object(r.a)(Object(a.a)().mark((function t(e,n,r){var o,i,l;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="getAllowance",t.next=3,new c.a.state.dapp.web3.web3Instance.eth.Contract(s.abi,e);case 3:return i=t.sent,l={name:"allowance",erc20:!0,data:[n,r]},t.next=7,Object(u.b)(i,l,c.a.state.dapp.web3.account,o);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),f=function(t,e){return c.a.state.dapp.web3.web3Instance.eth.getBalance(t).then((function(t){return new l.a(Object(o.e)(t,e))}))},w=function(){var t=Object(r.a)(Object(a.a)().mark((function t(e){var n,r;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new c.a.state.dapp.web3.web3Instance.eth.Contract(s.abi,e);case 2:return n=t.sent,r={name:"symbol",erc20:!0,data:[]},t.next=6,Object(u.b)(n,r,c.a.state.dapp.web3.account);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(r.a)(Object(a.a)().mark((function t(e,n){var r,i,l;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new c.a.state.dapp.web3.web3Instance.eth.Contract(s.abi,e);case 2:return r=t.sent,i={name:"totalSupply",erc20:!0,data:[]},t.next=6,Object(u.b)(r,i,c.a.state.dapp.web3.account);case 6:return l=t.sent,t.abrupt("return",Object(o.e)(l,n));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),v=function(){var t=Object(r.a)(Object(a.a)().mark((function t(e){var n,r;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new c.a.state.dapp.web3.web3Instance.eth.Contract(s.abi,e);case 2:return n=t.sent,r={name:"name",erc20:!0,data:[]},t.next=6,Object(u.b)(n,r,c.a.state.dapp.web3.account);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(r.a)(Object(a.a)().mark((function t(e){var n,r;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new c.a.state.dapp.web3.web3Instance.eth.Contract(s.abi,e);case 2:return n=t.sent,r={name:"decimals",erc20:!0,data:[]},t.next=6,Object(u.b)(n,r,c.a.state.dapp.web3.account);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(r.a)(Object(a.a)().mark((function t(e,n,r,o){var i,l;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new c.a.state.dapp.web3.web3Instance.eth.Contract(s.abi,e);case 2:return i=t.sent,l={name:"approve",erc20:!0,data:[r,n]},t.next=6,Object(u.d)(i,l,c.a.state.dapp.web3.account,o);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),j=function(){var t=Object(r.a)(Object(a.a)().mark((function t(e,n,r,o){var i,l;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new c.a.state.dapp.web3.web3Instance.eth.Contract(s.abi,e);case 2:return i=t.sent,l={name:"approve",erc20:!0,data:[r,n]},t.next=6,Object(u.e)(i,l,c.a.state.dapp.web3.account,o);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),O=function(){var t=Object(r.a)(Object(a.a)().mark((function t(e,n,r){var o,i;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new c.a.state.dapp.web3.web3Instance.eth.Contract(s.abi,e);case 2:return o=t.sent,"Transfer",i={name:"transfer",erc20:!0,data:[r,n]},t.next=7,Object(u.e)(o,i,c.a.state.dapp.web3.account,"Transfer");case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),k=function(){var t=Object(r.a)(Object(a.a)().mark((function t(e,n){var r;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={from:c.a.state.dapp.web3.account,to:c.a.state.dapp.web3.account,value:"0",nonce:e,gasPrice:n},t.abrupt("return",c.a.state.dapp.web3.web3Instance.eth.sendTransaction(r));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),y=function(){var t=Object(r.a)(Object(a.a)().mark((function t(e,n,r,s,o,u){var i;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={from:c.a.state.dapp.web3.account,to:e,value:n,nonce:r,gasPrice:s,gasLimit:o,data:u},t.abrupt("return",c.a.state.dapp.web3.web3Instance.eth.sendTransaction(i));case 2:case"end":return t.stop()}}),t)})));return function(e,n,a,r,s,c){return t.apply(this,arguments)}}(),F=function(){var t=Object(r.a)(Object(a.a)().mark((function t(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.state.dapp.web3.web3Instance.eth.sendTransaction(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},a927:function(t,e,n){},d7c6c:function(t,e,n){"use strict";n("a927")}}]);