(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-222c42d4"],{19:function(e,t){},20:function(e,t){},21:function(e,t){},"32bf":function(e,t,n){},3796:function(e,t,n){"use strict";var a=(n("ac1f"),n("00b4"),n("b0c0"),n("d3b7"),n("1146")),r=n.n(a),s={props:{beforeUpload:Function,onSuccess:Function},data:function(){return{loading:!1,excelData:{header:null,results:null}}},methods:{generateData:function(e){var t=e.header,n=e.results;this.excelData.header=t,this.excelData.results=n,this.onSuccess&&this.onSuccess(this.excelData)},handleDrop:function(e){if(e.stopPropagation(),e.preventDefault(),!this.loading){var t=e.dataTransfer.files;if(1===t.length){var n=t[0];if(!this.isExcel(n))return this.$message.error(this.$t("excel.ext")),!1;this.upload(n),e.stopPropagation(),e.preventDefault()}else this.$message.error(this.$t("excel.handleDrop"))}},handleDragover:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},handleUpload:function(){this.$refs["excel-upload-input"].click()},handleClick:function(e){var t=e.target.files[0];t&&this.upload(t)},upload:function(e){(this.$refs["excel-upload-input"].value=null,this.beforeUpload)?this.beforeUpload(e)&&this.readerData(e):this.readerData(e)},readerData:function(e){var t=this;return this.loading=!0,/\.(txt)$/.test(e.name)?new Promise((function(n,a){var r=new FileReader;r.onload=function(e){var a=e.target.result;t.generateData({header:null,results:a}),n()},r.readAsText(e,"utf8")})):new Promise((function(n,a){var s=new FileReader;s.onload=function(e){var a=e.target.result,s=r.a.read(a,{type:"array"}),i=s.SheetNames[0],o=s.Sheets[i],c=t.getHeaderRow(o),u=r.a.utils.sheet_to_json(o);t.generateData({header:c,results:u}),t.loading=!1,n()},s.readAsArrayBuffer(e)}))},getHeaderRow:function(e){var t,n=[],a=r.a.utils.decode_range(e["!ref"]),s=a.s.r;for(t=a.s.c;t<=a.e.c;++t){var i=e[r.a.utils.encode_cell({c:t,r:s})],o="UNKNOWN "+t;i&&i.t&&(o=r.a.utils.format_cell(i)),n.push(o)}return n},isExcel:function(e){return/\.(xlsx|xls|csv|txt)$/.test(e.name)}}},i=s,o=(n("f296"),n("2877")),c=Object(o.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"excel-upload"},[n("input",{ref:"excel-upload-input",staticClass:"excel-upload-input",attrs:{type:"file",accept:".xlsx, .xls, .csv , .txt"},on:{change:e.handleClick}}),n("div",{staticClass:"drop",on:{drop:e.handleDrop,dragover:e.handleDragover,dragenter:e.handleDragover,click:e.handleUpload}},[e._m(0),n("p",[e._v(e._s(e.$t("excel.uploadTitle")))])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("i",{staticClass:"el-icon-upload icon"})])}],!1,null,"825cabc4",null);t.a=c.exports},"3e5f":function(e,t,n){"use strict";n("60cb")},"4c94":function(e,t,n){},"4ec9":function(e,t,n){"use strict";var a=n("6d61"),r=n("6566");e.exports=a("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},"502c":function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return h}));var a=n("1da1"),r=(n("96cf"),n("51d2")),s=n("4360"),i=n("ed08"),o=n("cf29"),c=n("901e"),u=n.n(c),l=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new s.a.state.dapp.web3.web3Instance.eth.getGasPrice;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t,n,a){var c,u,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="getTokenBalance",e.next=3,new s.a.state.dapp.web3.web3Instance.eth.Contract(r.abi,t);case 3:return u=e.sent,l={name:"balanceOf",erc20:!0,data:[a]},e.next=7,Object(o.b)(u,l,s.a.state.dapp.web3.account,c);case 7:return d=e.sent,e.abrupt("return",Object(i.d)(d,n));case 9:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t,n,a,i){var c,l,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="getAllowance",e.next=3,new s.a.state.dapp.web3.web3Instance.eth.Contract(r.abi,t);case 3:return l=e.sent,d={name:"allowance",erc20:!0,data:[a,i]},e.next=7,Object(o.b)(l,d,s.a.state.dapp.web3.account,c);case 7:return p=e.sent,e.abrupt("return",new u.a(p));case 9:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),f=function(e,t){return s.a.state.dapp.web3.web3Instance.eth.getBalance(e).then((function(e){return new u.a(Object(i.d)(e,t))}))},b=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new s.a.state.dapp.web3.web3Instance.eth.Contract(r.abi,t);case 2:return n=e.sent,a={name:"symbol",erc20:!0,data:[]},e.next=6,Object(o.b)(n,a,s.a.state.dapp.web3.account);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new s.a.state.dapp.web3.web3Instance.eth.Contract(r.abi,t);case 2:return n=e.sent,a={name:"decimals",erc20:!0,data:[]},e.next=6,Object(o.b)(n,a,s.a.state.dapp.web3.account);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t,n,a,i){var c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new s.a.state.dapp.web3.web3Instance.eth.Contract(r.abi,t);case 2:return c=e.sent,u={name:"approve",erc20:!0,data:[a,n]},e.next=6,Object(o.c)(c,u,s.a.state.dapp.web3.account,i);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},"51d2":function(e){e.exports=JSON.parse('{"contractName":"ERC20","abi":[{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]}')},"5bb2":function(e,t,n){},"60cb":function(e,t,n){},"828d":function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return u})),n("99af");var a=n("b775"),r=function(e,t){return Object(a.a)({method:"GET",url:"/api/proxy?url="+encodeURIComponent("https://vaulted-immense-chartreuse.glitch.me/?chainId=".concat(e,"&address=").concat(t))})},s=function(e,t,n,r){return Object(a.a)({method:"GET",url:"/api/proxy?url="+encodeURIComponent("https://api.yshyqxx.com/api/v1/klines?symbol=".concat(e,"&interval=").concat(t,"&startTime=").concat(n,"&endTime=").concat(r))})},i=function(e){return Object(a.a)({method:"GET",url:"/api/proxy?url="+encodeURIComponent(e)})},o=function(e){return Object(a.a)({method:"GET",url:"/api/v1/price",params:{chain:e}})},c=function(e,t,n,r){return Object(a.a)({method:"GET",url:"https://api.covalenthq.com/v1/1/tokens/".concat(t,"/token_holders/?block-height=").concat(r,"&page-number=0&page-size=").concat(n,"&key=ckey_fdf13a80f62d428cbe85ae4bb16")})},u=function(e){return Object(a.a)({method:"GET",url:"/api/v1/gas_price",params:{chain:e}})}},"9b2e":function(e,t,n){"use strict";n.r(t);var a=n("2909"),r=n("b85c"),s=n("1da1"),i=n("5530"),o=(n("96cf"),n("a15b"),n("d81d"),n("ac1f"),n("1276"),n("d3b7"),n("159b"),n("498a"),n("25f0"),n("b0c0"),n("a434"),n("4de4"),n("c740"),n("ddb0"),n("4ec9"),n("3ca3"),n("3796")),c=n("fa7e"),u=n("b6ed"),l=n("05b3"),d={name:"HeaderBg",data:function(){return{chainList:l.c}},created:function(){}},p=(n("da74"),n("2877")),f=Object(p.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"headerBg"},[n("h2",[e._v(e._s(e.$t("batchSend.welcome"))),n("i",{staticClass:"el-icon-question tutorial"})]),n("ul",{staticClass:"supportBox"},e._l(e.chainList,(function(t){return n("li",{key:t.icon},[n("div",{staticClass:"iconBox"}),n("span",{staticClass:"name"},[e._v(e._s(t.name))])])})),0)])}),[],!1,null,"09dfcc4a",null),b=f.exports,m=n("61f7"),h=n("ed08"),v=n("c224"),g=n("502c"),y=n("2f62"),_=n("2b0e"),k=n("99e5"),w=n.n(k),x=n("b893"),C=n("901e"),A=n.n(C),T=n("828d"),j={name:"EthOneToMore",components:{JsonEditor:c.a,HeaderBg:b,NetworkError:u.a,UploadExcelComponent:o.a},computed:Object(i.a)({},Object(y.d)({chainNetwork:function(e){return e.dapp.chainNetwork},networkId:function(e){return e.dapp.web3.networkId},myAddress:function(e){return e.dapp.web3.account},initial:function(e){return e.dapp.web3.initial},web3Instance:function(e){return e.dapp.web3.web3Instance},menu:function(e){return e.settings.menu}})),watch:{initial:function(){this.getTokenInfo(this.networkId,this.myAddress)}},data:function(){return{amount:null,dialog:{setAmount:!1,openUpload:!1},approveAmountRadio:"1",tableData:[],selectToken:null,slider:{value:1,max:10,min:1,marks:{1:"慢",5:"快",10:"极速"}},userTokenAddress:[],value:"",demo:"0xd41b9AC5767cd90AbC7C997730591cBb7223D3D9,0.001\n0xB3CAB50183a7e414F3615eF1394384C203d8A8F5,0.002\n0x20b7819894b14C46Cb3c10704C6A5f13C36b7983,0.001345",errorObj:{index:0,content:"",address:"",errorAddress:!1,amount:"",errorAmount:!1},errorArray:[],errorArray2:[],active:0,budget:{addressCount:0,amountCount:0,sendCount:1,tokenAmount:0,fee:0,baseFee:0,gasFee:0,chainAmount:0,approve:!1,approveAmount:0,arrayLimit:0,padding:0},loading:{approve:!1,budget:!1,select:!1},filterRepeat:!0}},mounted:function(){this.getTokenInfo(this.networkId,this.myAddress)},methods:{beforeUpload:function(e){return!!(e.size/1024/1024<10)||(this.$message.warning("Please do not upload files larger than 10m in size."),!1)},handleSuccess:function(e){var t=e.results,n=e.header;this.value=n&&t?t.map((function(e){return e.Address+","+e.Amount})).join("\n"):t,this.dialog.openUpload=!1,this.editorChanged(this.value)},setAmount:function(){var e=this;if(this.amount){var t=this.value.split("\n");if(0!==t.length){var n=[];t.forEach((function(t){var a=t.split(",");n.push({address:a[0],amount:e.amount})})),this.value=n.map((function(e){return e.address+","+e.amount})).join("\n"),this.dialog.setAmount=!1}}else this.$message.error("数量不能为空")},handleClose:function(){this.amount=null},validateInfo:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.value){t.next=3;break}return e.$message.error("请至少输入一条地址信息"),t.abrupt("return");case 3:if(e.selectToken){t.next=6;break}return e.$message.error("请选择代币数据"),t.abrupt("return");case 6:if(e.selectToken.decimals){t.next=12;break}return t.t0=parseInt,t.next=10,Object(g.c)(e.selectToken.address);case 10:t.t1=t.sent,e.selectToken.decimals=(0,t.t0)(t.t1);case 12:e.active++,e.tableData=[],e.value.split("\n").forEach((function(t){var n=t.split(",");e.tableData.push({address:n[0].trim(),amount:n[1]})})),e.step2();case 17:case"end":return t.stop()}}),t)})))()},step2:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.errorArray2=[],e.budget.approve=!1,e.loading.budget=!0,e.budget.addressCount=e.tableData.length,e.budget.amountCount=e.tableData.reduce((function(e,t){return new A.a(e).plus(t.amount)}),0),t.next=7,Object(v.a)();case 7:if(e.budget.arrayLimit=t.sent,e.budget.sendCount=Math.ceil(e.tableData.length/parseInt(e.budget.arrayLimit),10),!Object(x.i)(e.selectToken.address)){t.next=16;break}return t.next=12,Object(g.g)(e.myAddress,e.chainNetwork.decimals);case 12:e.budget.tokenAmount=t.sent,e.budget.chainAmount=e.budget.tokenAmount,t.next=26;break;case 16:return t.next=18,Object(g.f)(e.selectToken.address,e.selectToken.decimals,e.myAddress);case 18:return e.budget.tokenAmount=t.sent,t.next=21,Object(g.g)(e.myAddress,e.chainNetwork.decimals);case 21:return e.budget.chainAmount=t.sent,t.next=24,Object(g.b)(e.selectToken.address,e.selectToken.decimals,e.myAddress,e.chainNetwork.multiSenderAddress);case 24:1!==(n=t.sent).comparedTo(e.budget.amountCount.shiftedBy(e.selectToken.decimals))&&(e.budget.approveAmount=Object(h.d)(n.toNumber(),e.selectToken.decimals),e.budget.approve=!0);case 26:return t.next=28,Object(v.b)(e.myAddress);case 28:return a=t.sent,e.budget.baseFee=new A.a(Object(h.d)(a,e.chainNetwork.decimals)).toNumber(),e.loading.budget=!1,t.next=33,Object(g.d)();case 33:r=t.sent,e.budget.gasFee=w.a.utils.fromWei(new A.a(r).multipliedBy(3e6).toString(),"ether"),e.budget.fee=new A.a(e.budget.sendCount).multipliedBy(e.budget.gasFee).plus(e.budget.baseFee),e.budget.chainAmount.comparedTo(e.budget.fee)<1&&e.errorArray2.push({msg:e.chainNetwork.symbol+"余额不足，至少需要"+e.budget.fee.toString()+" "+e.chainNetwork.symbol}),new A.a(e.budget.tokenAmount).comparedTo(e.budget.amountCount)<1&&e.errorArray2.push({msg:e.selectToken.name+"余额不足，至少需要"+e.budget.amountCount.toString()+" "+e.selectToken.name});case 38:case"end":return t.stop()}}),t)})))()},step3:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var n,a,s,i,o,c,u,l,d,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.budget.approve){t.next=11;break}return n="1"===e.approveAmountRadio?new A.a(Object(h.c)(e.budget.amountCount,e.selectToken.decimals)).plus(1):"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",e.loading.approve=!0,"授权",t.next=6,Object(g.a)(e.selectToken.address,n.toString(),e.chainNetwork.multiSenderAddress,"授权");case 6:a=t.sent,e.loading.approve=!1,a&&e.step2(),t.next=41;break;case 11:e.active++,s=Object(x.f)(e.tableData,parseInt(e.budget.arrayLimit)),e.budget.padding=0,i=Object(r.a)(s),t.prev=15,i.s();case 17:if((o=i.n()).done){t.next=33;break}return c=o.value,u=e.selectToken.address,l=c.map((function(e){return e.address})),d=c.map((function(t){return new A.a(Object(h.c)(t.amount,e.selectToken.decimals)).toString()})),"multisendToken",p=new A.a(Object(h.c)(e.budget.baseFee,e.chainNetwork.decimals)),Object(x.i)(e.selectToken.address)&&(p=new A.a(Object(h.c)(e.budget.amountCount,e.selectToken.decimals)).plus(p),u="0x000000000000000000000000000000000000bEEF"),e.budget.padding+=1,t.next=29,Object(v.d)(u,l,d,"multisendToken",p);case 29:t.sent&&e.$message.success(e.$t("success"));case 31:t.next=17;break;case 33:t.next=38;break;case 35:t.prev=35,t.t0=t.catch(15),i.e(t.t0);case 38:return t.prev=38,i.f(),t.finish(38);case 41:case"end":return t.stop()}}),t,null,[[15,35,38,41]])})))()},deleteRow:function(e,t){t.splice(e,1),this.step2()},editorChanged:function(e){this.errorArray=[],""!==e&&this.validateNumber(e)},validateNumber:function(e){var t=this,n=e.split("\n");n.forEach((function(e,a){if(Object(m.f)(e)){var r=e.split(","),s=r[0],i=r[1];if(Object(m.d)(s)){if(Object(m.e)(i)){if(t.filterRepeat){var o=n.filter((function(e){return e.split(",")[0]===s})).length;if(o>1){var c={index:a,content:e,errorStatus:4,count:o};return void t.errorArray.push(c)}}}else{var u={index:a,content:i,errorStatus:3};t.errorArray.push(u)}}else{var l={index:a,content:s,errorStatus:2};t.errorArray.push(l)}}else{var d={index:a,content:e,errorStatus:1};t.errorArray.push(d)}}))},getTokenInfo:function(e,t){var n=this;return Object(s.a)(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e||!t){a.next=10;break}return n.loading.select=!0,a.next=4,Object(T.f)(e,t);case 4:(r=a.sent).data&&(n.userTokenAddress=r.data),s={name:n.chainNetwork.symbol,address:n.chainNetwork.symbol,decimals:n.chainNetwork.decimals},n.selectToken=s,n.userTokenAddress.unshift(s),n.loading.select=!1;case 10:case"end":return a.stop()}}),a)})))()},remoteSelect:function(e){var t=this;return Object(s.a)(regeneratorRuntime.mark((function n(){var a,r,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=t.userTokenAddress.findIndex((function(t){return t.address===e})),!Object(m.d)(e)||-1!==a){n.next=13;break}return t.loading.select=!0,n.next=5,Object(g.e)(e);case 5:return r=n.sent,n.next=8,Object(g.c)(e);case 8:s=n.sent,t.loading.select=!1,r&&s?(t.userTokenAddress.push({name:r,address:e,decimals:parseInt(s)}),t.tokenAddress=e):_.default.prototype.$message({message:"无效的合约地址！",type:"error"}),n.next=14;break;case 13:Object(m.d)(e)&&(t.tokenAddress=e);case 14:case"end":return n.stop()}}),n)})))()},getDemo:function(){this.value=this.demo},deleteError:function(){if(0!==this.errorArray.filter((function(e){return 4!==e.errorStatus})).length){var e=this.value.split("\n"),t=this.errorArray.filter((function(e){return 4!==e.errorStatus})).map((function(e){return e.index})),n=e.filter((function(e,n,a){return-1===t.indexOf(n)}));0!==n.length?this.value=n.join("\n"):this.value=""}},deleteRepeat:function(){if(this.deleteError(),0!==this.errorArray.filter((function(e){return 4===e.errorStatus})).length){var e=this.value.split("\n").filter((function(e,t,n){return n.findIndex((function(t){return t.split(",")[0]===e.split(",")[0]}))===t}));0!==e.length?this.value=e.join("\n"):this.value=""}},deleteMerge:function(){if(this.deleteError(),0!==this.errorArray.filter((function(e){return 4===e.errorStatus})).length){var e=this.value.split("\n"),t=[];e.forEach((function(e){var n=e.split(",");t.push({address:n[0],amount:new A.a(n[1]).toNumber()})}));var n=Object(a.a)(t.reduce((function(e,t){var n=t.address,a=t.amount,r=e.get(n);return r?r.amount+=a:e.set(n,Object.assign({},t)),e}),new Map).values());0!==n.length?this.value=n.map((function(e){return e.address+","+e.amount})).join("\n"):this.value=""}},retainRepeat:function(){var e=this;this.filterRepeat=!1,this.deleteError(),setTimeout((function(){e.filterRepeat=!0}),800)}}},$=j,S=(n("dc4d"),Object(p.a)($,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"headerBox"},[n("HeaderBg")],1),n("div",{staticClass:"containerBg"},[n("div",{staticClass:"oneToMoreBox"},[e.menu?n("NetworkError"):e._e(),n("div",{staticClass:"stepBox"},[n("el-steps",{attrs:{active:e.active,"align-center":"","finish-status":"success"}},[n("el-step",{attrs:{title:e.$t("batchSend.prepare")}}),n("el-step",{attrs:{title:e.$t("batchSend.confirm")}}),n("el-step",{attrs:{title:e.$t("batchSend.send")}})],1)],1),0===e.active?n("div",{staticClass:"step1"},[n("div",{staticClass:"inputBox"},[n("div",{staticClass:"inputContext inputContextAddress"},[n("div",{staticClass:"label"},[n("span",[e._v(e._s(e.$t("batchSend.token"))+" "),e.chainNetwork.chainName?n("el-tag",[e._v("Contract ("+e._s(e.chainNetwork.chainName)+")")]):e._e()],1)]),n("el-select",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.select,expression:"loading.select"}],staticStyle:{width:"90%"},attrs:{"value-key":"address",filterable:"",remote:"","remote-method":e.remoteSelect,placeholder:e.$t("pleaseChoose")},model:{value:e.selectToken,callback:function(t){e.selectToken=t},expression:"selectToken"}},e._l(e.userTokenAddress,(function(t){return n("el-option",{key:t.address,attrs:{label:t.name,value:t}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name))]),n("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.address))])])})),1)],1),n("div",{staticClass:"inputContext inputContextDecimals"},[n("div",{staticClass:"label"},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"bottom"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("如果您的代币有通货紧缩功能，如代币分红、燃烧、税等等，请开启此项!"),n("br"),e._v(" 如您是代币拥有者，请先关闭自动LP功能在开启此开关!")]),n("p",[e._v(e._s(e.$t("batchSend.deflationary"))),n("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"2px"}})])])],1),n("div",{staticClass:"switchBox"},[n("el-switch")],1)])]),n("div",{staticClass:"label"},[n("span",[e._v(e._s(e.$t("batchSend.addressAmounts")))]),n("span",{staticClass:"btnText",on:{click:function(t){e.dialog.setAmount=!0}}},[e._v(e._s(e.$t("batchSend.autoAddAmounts")))]),e.dialog.openUpload?n("span",{staticClass:"btnText",on:{click:function(t){e.dialog.openUpload=!1}}},[e._v(e._s(e.$t("batchSend.insertManually")))]):n("span",{staticClass:"btnText",on:{click:function(t){e.dialog.openUpload=!0}}},[e._v(e._s(e.$t("batchSend.uploadFile")))])]),n("el-row",[n("el-col",{attrs:{xs:24}},[e.dialog.openUpload?n("upload-excel-component",{attrs:{"on-success":e.handleSuccess,"before-upload":e.beforeUpload}}):n("json-editor",{ref:"jsonEditor",on:{changed:e.editorChanged},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1),e.dialog.openUpload?n("div",{staticClass:"label"},[n("span",[e._v(e._s(e.$t("batchSend.accepted"))+"： CSV / Excel / Txt")]),n("span",{staticClass:"btnText"},[n("a",{attrs:{target:"_blank",href:"/example.xlsx"}},[e._v(e._s(e.$t("batchSend.downExample")))])])]):n("div",{staticClass:"label"},[n("span",[e._v(e._s(e.$t("batchSend.tips1")))]),n("span",{staticClass:"btnText",on:{click:function(t){return e.getDemo()}}},[e._v(e._s(e.$t("batchSend.showExample")))])]),e.errorArray.length>0?n("div",{staticClass:"errorInfo"},[e.errorArray.findIndex((function(e){return 4===e.errorStatus}))>-1?n("div",{staticClass:"label-remark"},[n("span",[e._v(e._s(e.$t("batchSend.duplicateAddress")))]),n("span",{staticClass:"btnText",on:{click:function(t){return e.deleteRepeat()}}},[e._v(e._s(e.$t("batchSend.keepFirstOne")))]),n("span",{staticClass:"btnText",on:{click:function(t){return e.deleteMerge()}}},[e._v(e._s(e.$t("batchSend.mergeBalances")))]),n("span",{staticClass:"btnText",on:{click:function(t){return e.retainRepeat()}}},[e._v(e._s(e.$t("batchSend.keepDuplicateAddress")))])]):e.errorArray.findIndex((function(e){return 4!==e.errorStatus}))>-1?n("div",{staticClass:"label-remark"},[n("span",[e._v(e._s(e.$t("batchSend.tips2")))]),n("span",{staticClass:"btnText",on:{click:function(t){return e.deleteError()}}},[e._v(e._s(e.$t("batchSend.invalidDupAddress")))])]):e._e(),n("div",{staticClass:"ul"},e._l(e.errorArray,(function(t,a){return n("div",{key:a,staticClass:"li"},[1===t.errorStatus?n("span",[e._v(e._s(e.$t("batchSend.tips3",[t.index+1]))+": "+e._s(t.content)+e._s(e.$t("batchSend.invalidFormat")))]):e._e(),2===t.errorStatus?n("span",[e._v(e._s(e.$t("batchSend.tips3",[t.index+1]))+": "+e._s(t.content)+" "+e._s(e.$t("batchSend.invalidAddress")))]):e._e(),3===t.errorStatus?n("span",[e._v(e._s(e.$t("batchSend.tips3",[t.index+1]))+": "+e._s(t.content)+" "+e._s(e.$t("batchSend.invalidAmount")))]):e._e(),4===t.errorStatus?n("span",[e._v(e._s(e.$t("batchSend.tips3",[t.index+1]))+": "+e._s(t.content)+" "+e._s(e.$t("batchSend.invalidDupAddress"))+" "+e._s(t.count))]):e._e()])})),0)]):e._e(),e.active<3?n("el-button",{staticStyle:{"margin-top":"12px"},attrs:{disabled:e.errorArray.length>0},on:{click:function(t){return e.validateInfo()}}},[e._v(e._s(e.$t("batchSend.next")))]):e._e()],1):e._e(),1===e.active?n("div",{staticClass:"step2"},[n("div",{staticStyle:{visibility:"hidden"}},[n("span",[e._v("交易速度（5Gwei）")]),n("el-slider",{attrs:{step:.1,min:e.slider.min,max:e.slider.max,marks:e.slider.marks},model:{value:e.slider.value,callback:function(t){e.$set(e.slider,"value",t)},expression:"slider.value"}})],1),n("div",[n("span",[e._v(e._s(e.$t("batchSend.ListRecipients")))]),n("el-table",{attrs:{data:e.tableData,width:"100%",height:"250"}},[n("el-table-column",{attrs:{prop:"address",label:"Address",width:"360"}}),n("el-table-column",{attrs:{prop:"amount",label:"Amount",width:"300"}}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(n){return n.preventDefault(),e.deleteRow(t.$index,e.tableData)}}},[e._v(e._s(e.$t("batchSend.remove")))])]}}],null,!1,2717103760)})],1)],1),n("div",[n("span",[e._v(e._s(e.$t("batchSend.summary")))]),n("ul",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.budget,expression:"loading.budget"}],staticClass:"abstract"},[e.budget.approve?n("li",[n("span",{staticClass:"number"},[e._v(e._s(e.budget.amountCount))]),n("span",{staticClass:"remark"},[e._v(e._s(e.$t("batchSend.requestApproveAmount")))])]):e._e(),e.budget.approve?n("li",[n("span",{staticClass:"number"},[e._v(e._s(e.budget.approveAmount))]),n("span",{staticClass:"remark"},[e._v(e._s(e.$t("batchSend.yourCurrentAllowance")))])]):e._e(),n("li",[n("span",{staticClass:"number"},[e._v(e._s(e.budget.addressCount))]),n("span",{staticClass:"remark"},[e._v(e._s(e.$t("batchSend.totalAddressCount")))])]),n("li",[n("span",{staticClass:"number"},[e._v(e._s(e.budget.amountCount)+" "+e._s(e.selectToken.name))]),n("span",{staticClass:"remark"},[e._v(e._s(e.$t("batchSend.totalAmount")))])]),n("li",[n("span",{staticClass:"number"},[e._v(e._s(e.budget.sendCount))]),n("span",{staticClass:"remark"},[e._v(e._s(e.$t("batchSend.tradeCount")))])]),n("li",[n("span",{staticClass:"number"},[e._v(e._s(e.budget.tokenAmount)+" "+e._s(e.selectToken.name))]),n("span",{staticClass:"remark"},[e._v(e._s(e.$t("batchSend.tokenBalance")))])]),n("li",[n("span",{staticClass:"number"},[e._v(e._s(e.budget.fee)+" "+e._s(e.chainNetwork.symbol))]),n("span",{staticClass:"remark"},[e._v(e._s(e.$t("batchSend.costBalance")))])]),n("li",[n("span",{staticClass:"number"},[e._v(e._s(e.budget.chainAmount)+" "+e._s(e.chainNetwork.symbol))]),n("span",{staticClass:"remark"},[e._v(e._s(e.$t("batchSend.yourBalance",[e.chainNetwork.symbol])))])])])]),e.budget.approve?n("div",[n("span",[e._v(e._s(e.$t("batchSend.amountApprove")))]),[n("el-radio",{attrs:{label:"1"},model:{value:e.approveAmountRadio,callback:function(t){e.approveAmountRadio=t},expression:"approveAmountRadio"}},[e._v(e._s(e.$t("batchSend.exactAmount"))+"("+e._s(e.budget.amountCount)+" "+e._s(e.selectToken.name)+")")]),n("el-radio",{attrs:{label:"2"},model:{value:e.approveAmountRadio,callback:function(t){e.approveAmountRadio=t},expression:"approveAmountRadio"}},[e._v(e._s(e.$t("batchSend.unlimitedAmount")))])]],2):e._e(),e.errorArray2&&e.errorArray2.length>0?n("div",{staticClass:"errorInfo"},[n("div",{staticClass:"ul"},e._l(e.errorArray2,(function(t){return n("div",{staticClass:"li"},[n("span",[e._v(e._s(t.msg))])])})),0)]):e._e(),n("div",[n("el-button",{on:{click:function(t){e.active--}}},[e._v("<")]),n("el-button",{attrs:{loading:e.loading.approve,disabled:e.errorArray2&&e.errorArray2.length>0},on:{click:function(t){return e.step3()}}},[e._v(e._s(e.$t("batchSend.next")))])],1)]):e._e(),2===e.active?n("div",{staticClass:"step3"},[n("div",[e._v(e._s(e.$t("batchSend.tips4",[e.budget.sendCount,e.budget.padding])))]),n("el-button",{on:{click:function(t){e.active--}}},[e._v("<")])],1):e._e()],1)]),n("el-dialog",{attrs:{title:e.$t("batchSend.tips5"),visible:e.dialog.setAmount,width:"30%"},on:{"update:visible":function(t){return e.$set(e.dialog,"setAmount",t)},closed:e.handleClose}},[n("span",[e._v(e._s(e.$t("batchSend.autoAddAmounts")))]),n("el-input",{attrs:{placeholder:e.$t("batchSend.tips6")},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialog.setAmount=!1}}},[e._v(e._s(e.$t("cancel")))]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.setAmount()}}},[e._v(e._s(e.$t("confirm")))])],1)],1)],1)}),[],!1,null,"47abfec6",null));t.default=S.exports},b05e:function(e,t,n){"use strict";n("4c94")},b6ed:function(e,t,n){"use strict";var a=n("5530"),r=n("2f62"),s=n("b893"),i={name:"NetworkError.vue",computed:Object(a.a)({},Object(r.d)({myAddress:function(e){return e.dapp.web3.account},networkId:function(e){return e.dapp.web3.networkId},web3Instance:function(e){return e.dapp.web3.web3Instance},initial:function(e){return e.dapp.web3.initial},chainNetwork:function(e){return e.dapp.chainNetwork}})),watch:{initial:function(){this.initCheck()}},data:function(){return{routerChain:null,show:!1}},methods:{close:function(){this.show=!1},changeNetwork:function(){if(1!==this.routerChain.chainId)Object(s.b)(this.routerChain);else{var e=this.routerChain.chainName+"网络需要你手动切换！";this.$message.warning(e)}},justNetwork:function(){if(this.$route.path){var e=this.$route.path.lastIndexOf("/"),t=this.$route.path.substring(0,e)+"/"+Object(s.j)(this.chainNetwork.aliasName);this.$router.push(t)}},initCheck:function(){if(this.initial){var e=this.$route.meta.symbol;this.routerChain=Object(s.g)(e),this.routerChain&&this.routerChain.chainId!==this.networkId&&(this.show=!0)}}},created:function(){this.initCheck()}},o=i,c=(n("b05e"),n("2877")),u=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("div",{staticClass:"NetworkError"},[n("h5",{staticClass:"title"},[n("i",{staticClass:"el-icon-warning icon"}),n("span",[e._v(e._s(e.$t("networkError.warning")))])]),n("p",{staticClass:"desc"},[e._v(e._s(e.$t("networkError.warningTips",[e.routerChain.aliasName])))]),n("div",{staticClass:"btnBox"},[n("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(t){return e.changeNetwork()}}},[e._v(e._s(e.$t("networkError.changeNetwork",[e.routerChain.aliasName])))]),n("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(t){return e.justNetwork()}}},[e._v(e._s(e.$t("networkError.justNetwork")))])],1),n("div",{staticClass:"close",on:{click:function(t){return e.close()}}},[n("i",{staticClass:"el-icon-close"})])]):e._e()}),[],!1,null,"8ec2da7c",null);t.a=u.exports},b8f2:function(e,t,n){},da74:function(e,t,n){"use strict";n("b8f2")},dc4d:function(e,t,n){"use strict";n("32bf")},f296:function(e,t,n){"use strict";n("5bb2")},fa7e:function(e,t,n){"use strict";var a=n("56b3"),r=n.n(a);n("0dd0"),n("a7be"),n("acdf"),n("f9d4"),n("8822"),n("d2de"),n("ae67");var s={name:"JsonEditor",props:["value"],data:function(){return{jsonEditor:!1}},watch:{value:function(e){e!==this.jsonEditor.getValue()&&this.jsonEditor.setValue(this.value)}},mounted:function(){var e=this;this.jsonEditor=r.a.fromTextArea(this.$refs.textarea,{lineNumbers:!0,theme:"idea",screenReaderLabel:"text/javascript",lint:!0}),this.jsonEditor.setValue(this.value),this.jsonEditor.on("change",(function(t){e.$emit("changed",t.getValue())})),this.jsonEditor.on("inputRead",(function(t){e.$emit("input",t.getValue())}))},methods:{getValue:function(){return this.jsonEditor.getValue()}}},i=s,o=(n("3e5f"),n("2877")),c=Object(o.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"json-editor"},[t("textarea",{ref:"textarea",attrs:{placeholder:"请输入地址和数量，以逗号分隔"}})])}),[],!1,null,"4ee2a88f",null);t.a=c.exports}}]);