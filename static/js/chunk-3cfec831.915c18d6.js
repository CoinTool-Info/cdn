(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3cfec831"],{"1c81":function(t){t.exports=JSON.parse('{"contractName":"Multicall2","abi":[{"inputs":[{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall2.Call[]","name":"calls","type":"tuple[]"}],"name":"aggregate","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"},{"internalType":"bytes[]","name":"returnData","type":"bytes[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall2.Call[]","name":"calls","type":"tuple[]"}],"name":"blockAndAggregate","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"},{"internalType":"bytes32","name":"blockHash","type":"bytes32"},{"components":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"internalType":"struct Multicall2.Result[]","name":"returnData","type":"tuple[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"}],"name":"getBlockHash","outputs":[{"internalType":"bytes32","name":"blockHash","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBlockNumber","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockCoinbase","outputs":[{"internalType":"address","name":"coinbase","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockDifficulty","outputs":[{"internalType":"uint256","name":"difficulty","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockGasLimit","outputs":[{"internalType":"uint256","name":"gaslimit","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockTimestamp","outputs":[{"internalType":"uint256","name":"timestamp","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"getEthBalance","outputs":[{"internalType":"uint256","name":"balance","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLastBlockHash","outputs":[{"internalType":"bytes32","name":"blockHash","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"requireSuccess","type":"bool"},{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall2.Call[]","name":"calls","type":"tuple[]"}],"name":"tryAggregate","outputs":[{"components":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"internalType":"struct Multicall2.Result[]","name":"returnData","type":"tuple[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"requireSuccess","type":"bool"},{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall2.Call[]","name":"calls","type":"tuple[]"}],"name":"tryBlockAndAggregate","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"},{"internalType":"bytes32","name":"blockHash","type":"bytes32"},{"components":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"internalType":"struct Multicall2.Result[]","name":"returnData","type":"tuple[]"}],"stateMutability":"nonpayable","type":"function"}]}')},"21cd":function(t,e,n){},"64ba":function(t,e,n){"use strict";n("21cd")},"7f80":function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return u}));var a=n("c7eb"),s=n("1da1"),r=(n("d3b7"),n("159b"),n("ac1f"),n("5319"),n("4de4"),n("d81d"),n("99af"),n("1c81")),c=n("cf29"),i=function(){var t=Object(s.a)(Object(a.a)().mark((function t(e,n,s){var i,o;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new s.eth.Contract(r.abi,e);case 2:return i=t.sent,o={name:"tryAggregate",erc20:!0,data:[!0,n]},t.next=6,Object(c.c)(i,o);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),o=function(){var t=Object(s.a)(Object(a.a)().mark((function t(e,n,s,i){var o,l,u;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new i.eth.Contract(r.abi,s);case 2:return o=t.sent,l=[],n.forEach((function(t){var n=i.eth.abi.encodeParameter("uint256",t).replace("0x","");l.push({target:e,callData:"0x6352211e"+n})})),u={name:"tryAggregate",erc20:!0,data:[!1,l]},t.next=9,Object(c.c)(o,u).then((function(t){return t&&t.length>0&&t.filter((function(t){return t.success})).length>0?t.filter((function(t){return t.success})).map((function(t){return i.eth.abi.decodeParameter("address",t.returnData)})):null})).catch((function(){return null}));case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)})));return function(e,n,a,s){return t.apply(this,arguments)}}(),l=function(){var t=Object(s.a)(Object(a.a)().mark((function t(e,n,s,i){var o,l,u,p,d;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new i.eth.Contract(r.abi,s);case 2:return o=t.sent,l=["0x8462151c","0x438b6300","0xd63d4af0"],u=i.utils.stripHexPrefix(n),p=[],l.forEach((function(t){p.push({target:e,callData:"".concat(t,"000000000000000000000000").concat(u)})})),d={name:"tryAggregate",erc20:!0,data:[!1,p]},t.next=10,Object(c.c)(o,d).then((function(t){if(t&&t.length>0&&t.filter((function(t){return t.success})).length>0){var e=t.filter((function(t){return t.success}))[0];return i.eth.abi.decodeParameter(["uint256[]"],e.returnData)}return null})).catch((function(){return null}));case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t)})));return function(e,n,a,s){return t.apply(this,arguments)}}(),u=function(){var t=Object(s.a)(Object(a.a)().mark((function t(e,n,s,i,o){var l,u,p,d,b;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new o.eth.Contract(r.abi,i);case 2:for(l=t.sent,u=[],p=0;p<e;p++)d=o.eth.abi.encodeParameters(["address","uint256"],[s,p]).replace("0x",""),u.push({target:n,callData:"0x2f745c59".concat(d)});return b={name:"tryAggregate",erc20:!0,data:[!1,u]},t.next=8,Object(c.c)(l,b).then((function(t){if(t&&t.length>0&&t.filter((function(t){return t.success})).length>0){var e=[];return t.filter((function(t){return t.success})).forEach((function(t){var n=o.eth.abi.decodeParameter("uint256",t.returnData);e.push(n)})),e}return null})).catch((function(){return null}));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})));return function(e,n,a,s,r){return t.apply(this,arguments)}}()},df3b:function(t,e,n){"use strict";n.r(e);var a=n("c7eb"),s=n("b85c"),r=n("1da1"),c=n("5530"),i=(n("b0c0"),n("d3b7"),n("3ca3"),n("ddb0"),n("b64b"),n("d81d"),n("25f0"),n("a15b"),n("c740"),n("fa7e")),o=n("05b3"),l=n("828d"),u=n("61f7"),p=n("7052"),d=n("2f62"),b=n("b893"),f=n("ed08"),y=n("7f80"),m=n("c0d8"),h=n.n(m),g={name:"nftHoldScan",components:{JsonEditor:i.a},computed:Object(c.a)({},Object(d.d)({chainNetwork:function(t){return t.dapp.chainNetwork},networkId:function(t){return t.dapp.web3.networkId},myAddress:function(t){return t.dapp.web3.account},initial:function(t){return t.dapp.web3.initial},web3Instance:function(t){return t.dapp.web3.web3Instance}})),data:function(){return{web3:null,num:100,blackHeight:"",global:{multicallAddress:"0xcA11bde05977b3631167028862bE2a173976CA11"},value:"",progress:0,show:{progress:!1,editor:!1},tokenHoldScan:null,tokenHoldScanList:o.r,selectToken:null,userTokenAddress:[],loading:{scan:!1,exp:!1,select:!1},dataList:[]}},methods:{selectChange:function(t){if(this.$route.path){var e=this.$route.path.lastIndexOf("/"),n=this.$route.path.substring(0,e)+"/"+Object(b.w)(t.name);this.$router.push(n)}},exportExcel:function(){var t=this;this.loading.exp=!0,Promise.all([n.e("chunk-5164a781"),n.e("chunk-60bd4d29")]).then(n.bind(null,"4bf8")).then((function(e){var n=Object.keys(t.dataList[0]),a=t.dataList,s=t.formatJson(n,a),r=Object(f.m)(new Date,"{y}-{m}-{d}")+"_tokentool_"+t.tokenHoldScan.name+"_"+t.selectToken.name;e.export_json_to_excel({header:n,filename:r,data:s}),t.loading.exp=!1}))},formatJson:function(t,e){return e.map((function(e){return t.map((function(t){return"timestamp"===t?Object(f.m)(e[t]):e[t]}))}))},scanToken:function(){var t=this;return Object(r.a)(Object(a.a)().mark((function e(){var n,r,c,i,o,u,p,d,f,m,h,g,k;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.selectToken&&t.selectToken.address){e.next=3;break}return t.$message.error(t.$t("tokenHoldScan.scanAddressError")),e.abrupt("return");case 3:if(t.num&&!(t.num<1)){e.next=6;break}return t.$message.error(t.$t("tokenHoldScan.scanNumError")),e.abrupt("return");case 6:for(t.loading.scan=!0,t.progress=0,t.show.progress=!0,t.dataList=[],n=0;n<20;n++)setTimeout((function(){t.progress>=100||(t.progress=t.progress+5)}),1e3*n);return r=window.atob("MTIzNDEyMzQxMkRFRkFCQw=="),c=window.atob("QUJDRDEyMzQxMkVGMzQxMg=="),i=(new Date).getTime().toString(),o=Object(b.b)(i,r,c),e.next=18,Object(l.n)(t.selectToken.address,t.tokenHoldScan.chainId,i,o).catch((function(e){return t.$message.error(e),{status:401}}));case 18:if(!(200===(u=e.sent).status&&u.data&&u.data.data&&u.data.data.items)){e.next=49;break}p=u.data.data.items.map((function(t){return t.token_id})),d=Object(b.k)(p,1e3),f=Object(s.a)(d),e.prev=24,f.s();case 26:if((m=f.n()).done){e.next=35;break}return h=m.value,e.next=30,Object(y.a)(t.selectToken.address,h,t.global.multicallAddress,t.web3);case 30:for(g=e.sent,k=0;k<h.length;k++)t.dataList.push({Address:g[k],Amount:h[k]});case 33:e.next=26;break;case 35:e.next=40;break;case 37:e.prev=37,e.t0=e.catch(24),f.e(e.t0);case 40:return e.prev=40,f.f(),e.finish(40);case 43:t.value=t.dataList.map((function(t){return t.Address+","+t.Amount})).join("\n"),t.progress=100,t.show.editor=!0,t.$message.success(t.$t("success")),e.next=50;break;case 49:t.progress=100;case 50:t.loading.scan=!1;case 51:case"end":return e.stop()}}),e,null,[[24,37,40,43]])})))()},remoteSelect:function(t){var e=this;return Object(r.a)(Object(a.a)().mark((function n(){var s,r,c;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=e.userTokenAddress.findIndex((function(e){return e.address===t})),!Object(u.j)(t)||-1!==s){n.next=11;break}return e.loading.select=!0,n.next=5,Object(p.o)(t,e.web3).catch((function(t){return!1}));case 5:return r=n.sent,n.next=8,Object(p.i)(t,e.web3);case 8:c=n.sent,e.loading.select=!1,r?e.userTokenAddress.push({name:c,address:t}):e.$message.error(e.$t("tokenHoldScan.invalidContractAddress"));case 11:case"end":return n.stop()}}),n)})))()},getTokenInfo:function(t,e){var n=this;return Object(r.a)(Object(a.a)().mark((function s(){var r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t||!e){a.next=7;break}return n.loading.select=!0,a.next=4,Object(l.t)(t,e).catch((function(t){return{data:null}}));case 4:(r=a.sent).data&&(n.userTokenAddress=r.data),n.loading.select=!1;case 7:case"end":return a.stop()}}),s)})))()},initConfig:function(){var t=this;this.global.symbol=this.$route.meta.symbol;var e=o.r.findIndex((function(e){return e.symbol===t.global.symbol}));e>-1&&(this.tokenHoldScan=o.r[e]);var n=Object(b.l)(this.tokenHoldScan.chainId);this.global.multicallAddress=n.multicallAddress,this.web3=new h.a(new h.a.providers.HttpProvider(n.rpcUrls[0]))}},created:function(){this.initConfig()}},k=g,v=(n("64ba"),n("2877")),x=Object(v.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"content"},[n("div",{staticClass:"inputBox"},[n("div",{staticClass:"inputContext inputContextLeft"},[n("div",{staticClass:"label"},[n("div",{staticClass:"textBox"},[n("span",[t._v(t._s(t.$t("tokenHoldScan.chain"))+" "),n("el-tooltip",{attrs:{content:t.$t("tokenHoldScan.selectChain"),effect:"dark",placement:"top-start"}},[n("i",{staticClass:"el-icon-question"})])],1),n("svg-icon",{style:"color: "+t.tokenHoldScan.color,attrs:{"icon-class":t.tokenHoldScan.icon}})],1)]),n("div",{staticClass:"switchBox"},[n("el-select",{staticStyle:{width:"100%"},attrs:{"value-key":"id",placeholder:t.$t("pleaseChoose")},on:{change:t.selectChange},model:{value:t.tokenHoldScan,callback:function(e){t.tokenHoldScan=e},expression:"tokenHoldScan"}},t._l(t.tokenHoldScanList,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e}},[n("span",{staticStyle:{float:"left"}},[t._v(t._s(e.name))]),n("span",{staticStyle:{float:"right","font-size":"13px"}},[n("svg-icon",{style:"color:"+e.color,attrs:{"icon-class":e.icon}})],1)])})),1)],1)]),n("div",{staticClass:"inputContext inputContextRight"},[n("div",{staticClass:"label"},[n("div",{staticClass:"textBox"},[n("span",[t._v(t._s(t.$t("tokenHoldScan.nftAddress"))+" "),n("el-tooltip",{attrs:{content:t.$t("tokenHoldScan.tokenTips"),effect:"dark",placement:"top-start"}},[n("i",{staticClass:"el-icon-question"})])],1)])]),n("div",{staticClass:"switchBox"},[n("el-select",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.select,expression:"loading.select"}],staticStyle:{width:"100%"},attrs:{"value-key":"address",filterable:"",remote:"","remote-method":t.remoteSelect,placeholder:t.$t("tokenHoldScan.tokenTips")},model:{value:t.selectToken,callback:function(e){t.selectToken=e},expression:"selectToken"}},t._l(t.userTokenAddress,(function(e){return n("el-option",{key:e.address,attrs:{label:e.name,value:e}},[n("span",{staticStyle:{float:"left"}},[t._v(t._s(e.name))]),n("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.address))])])})),1)],1)])]),n("div",{staticClass:"search"},[n("el-button",{attrs:{icon:"el-icon-search",size:"success",loading:t.loading.scan},on:{click:function(e){return t.scanToken()}}},[t._v(t._s(t.$t("tokenHoldScan.scan")))])],1),t.show.progress?n("div",{staticClass:"progress"},[n("el-progress",{attrs:{"text-inside":!0,"stroke-width":24,percentage:t.progress,status:"success"}})],1):t._e(),t.show.editor?n("div",{staticClass:"editor"},[n("div",{staticClass:"label"},[n("span",[t._v(t._s(t.$t("result")))]),n("span",[t._v("Address,NFTID")])]),n("json-editor",{ref:"jsonEditor",staticClass:"editor",model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._m(0)],1):t._e(),t.show.editor?n("div",{staticClass:"searchBox"},[n("el-button",{attrs:{type:"success",loading:t.loading.exp},on:{click:function(e){return t.exportExcel()}}},[n("svg-icon",{attrs:{"icon-class":"excel","class-name":"excel"}}),t._v(" "+t._s(t.$t("export"))+" Execl ")],1)],1):t._e()])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"label label-remark",staticStyle:{"justify-content":"center"}},[n("span",[t._v("Done by TokenTool.App")])])}],!1,null,"66adcced",null);e.default=x.exports}}]);