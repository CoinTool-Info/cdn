(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4b1a57b0"],{"2bdc":function(e,t,r){"use strict";r.r(t);var a=r("1da1"),n=(r("96cf"),r("d3b7"),r("25f0"),r("99af"),r("b0c0"),r("159b"),r("a9e3"),r("3603")),o=r("a561"),s=r("05b3"),l=r("a809"),c=r("99e5"),i=r.n(c),u=r("51d2"),f=r("e95b"),d=r("ed08"),m=r("b893"),b=r("3e80"),p=r("3b66"),g=r("901e"),h=r.n(g),k=r("2f62"),v=r("c030"),x={name:"orders",components:{loadPrivateKey:l.a,SwitchNetwork:o.a},computed:Object(k.d)({getGasPriceCom:function(){var e=0;return this.platform.gasUsed&&(e=this.platform.gasUsed*this.global.gasPrice,e=v.utils.formatUnits(v.utils.parseUnits(e.toString(),"gwei")),e=new h.a(e).toNumber()),e}}),data:function(){return{panicBuyingList:s.i,panicBuying:{},platform:{},tradeCoin:[],web3:null,timer:null,loading:{approve:!1,initForm:!1,saveConfig:!1,buying:!1,selling:!1,getTokenPrice:!1},dialog:{loadPrv:!1,cmdInfo:!1,switchNetwork:!1},global:{chainId:0,address:"",network:"test..",rpcNodeArray:[],symbol:"",gasPrice:0,maxGas:0,marks:{},factory:"",path:[],sellPath:[],provider:null,cmdInfo:[],flag:!1,isVip:!1,multiSenderAddress:"",time:""},form:{rpcNode:"",privateKey:"",address:"",type:0,usdtToken:"",usdtTokenBalance:0,balance:0,contract:"",tradeToken:{},poolToken:{},minAmount:"",buyAmount:"",buyCount:"",failRetry:!1,resultCheck:!0,balanceToken:0,sellAmount:"",sellCount:1,contractPrice:"",orderPrice:"",tokenName:"",tokenSymbol:"",tokenDecimals:0,monitorTime:5e3},advanced:{slippage:"",switch:!0},buy:{},sell:{}}},methods:{loadNode:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a=e.nodeUrl,t.web3.setProvider(new i.a.providers.HttpProvider(a)),t.global.provider=new b.a(a),t.form.rpcNode=a;case 4:case"end":return r.stop()}}),r)})))()},changeNetwork:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.dialog.switchNetwork=!0;case 1:case"end":return t.stop()}}),t)})))()},stopReturn:function(){this.global.flag=!0},handleClose:function(){this.dialog.cmdInfo=!1,this.global.flag=!0},getPing:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.web3){t.next=11;break}return r=Date.now(),t.next=5,e.web3.eth.getChainId();case 5:t.sent,a=e.form.rpcNode.indexOf("quiknode"),e.global.network=a>-1?Object(d.f)(1,23):Date.now()-r,e.getTokenPrice(),e.initSell();case 11:case"end":return t.stop()}}),t)})))()},getUserData:function(e){var t=e.privateKey,r=e.address;this.form.privateKey=t,this.form.address=r,this.web3.eth.accounts.wallet.clear(),this.web3.eth.accounts.wallet.add(t),this.getUserBalance(),this.joinVip()},getUserBalance:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var r,a,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.web3.eth.getBalance(e.form.address);case 2:return r=t.sent,e.form.balance=e.web3.utils.fromWei(r,"ether"),t.next=6,new e.web3.eth.Contract(u.abi,e.form.usdtToken);case 6:return a=t.sent,t.next=9,a.methods.decimals().call();case 9:return n=t.sent,t.next=12,a.methods.balanceOf(e.form.address).call();case 12:o=t.sent,e.form.usdtTokenBalance=Object(d.d)(o,n);case 14:case"end":return t.stop()}}),t)})))()},approveUsdt:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.form.tradeToken.address!==e.form.usdtToken){t.next=17;break}return t.next=3,new e.web3.eth.Contract(u.abi,e.form.usdtToken);case 3:return r=t.sent,t.next=6,r.methods.allowance(e.form.address,e.platform.router).call();case 6:if(!(t.sent>0)){t.next=9;break}return t.abrupt("return",!0);case 9:return t.next=11,r.methods.approve(e.platform.router,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff").estimateGas({from:e.form.address});case 11:return a=t.sent,a=parseInt(1.5*a),t.next=15,r.methods.approve(e.platform.router,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff").send({from:e.form.address,gas:a}).then((function(e){return!0})).catch((function(e){return!1}));case 15:return n=t.sent,t.abrupt("return",n);case 17:return t.abrupt("return",!0);case 18:case"end":return t.stop()}}),t)})))()},approve:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.form.address){t.next=3;break}return e.$message.error("私钥信息未导入"),t.abrupt("return");case 3:if(e.form.contract){t.next=6;break}return e.$message.error("合约信息未导入"),t.abrupt("return");case 6:if(e.web3.utils.isAddress(e.form.contract)){t.next=9;break}return e.$message.error("合约地址有误"),t.abrupt("return");case 9:return t.next=11,new e.web3.eth.Contract(u.abi,e.form.contract);case 11:return r=t.sent,e.loading.approve=!0,t.next=16,r.methods.allowance(e.form.address,e.platform.router).call();case 16:if(!(t.sent>0)){t.next=22;break}return e.loading.approve=!1,e.$message.success("授权成功"),t.abrupt("return");case 22:return t.next=24,r.methods.approve(e.platform.router,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff").estimateGas({from:e.form.address});case 24:return a=t.sent,a=parseInt(1.5*a),t.next=28,r.methods.approve(e.platform.router,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff").send({from:e.form.address,gas:a}).then((function(e){return!0})).catch((function(t){return e.$message.error(t.message),!1}));case 28:n=t.sent,e.loading.approve=!1,n&&e.$message.success("授权成功");case 32:case"end":return t.stop()}}),t)})))()},buying:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function r(){var a,n,o,s,l,c,i,u,m,b,p,g,k;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t.loading.buying=!0,r.next=4,t.buyValidata();case 4:if(a=r.sent,t.global.cmdInfo.push("校验信息是否成功:"+a),!a){r.next=79;break}if(n=t.form.tradeToken.address===t.global.address,t.global.cmdInfo.push("是否是本链币下单:"+n),o=t.form.buyCount?t.form.buyCount:1,t.global.cmdInfo.push("本次操作需要下单".concat(o,"次")),s=new v.Wallet(t.form.privateKey),t.global.cmdInfo.push("当前操作的钱包地址:".concat(s.address)),l=s.connect(t.global.provider),1!==e){r.next=33;break}t.global.cmdInfo.push("计算价格中...");case 16:if(!t.global.flag){r.next=20;break}return t.global.cmdInfo.push("暂停..."),r.abrupt("return");case 20:if(!(t.form.monitorTime>0)){r.next=23;break}return r.next=23,new Promise((function(e){return setTimeout(e,t.form.monitorTime)}));case 23:return r.next=25,t.getTokenPrice();case 25:if("0"!==t.form.contractPrice&&0!==t.form.contractPrice){r.next=27;break}return r.abrupt("continue",16);case 27:if(t.global.cmdInfo.push("挂单价格：".concat(t.form.orderPrice," /USDT")),t.global.cmdInfo.push("当前TOKEN价格：".concat(t.form.contractPrice," /USDT")),-1!==new h.a(t.form.contractPrice).comparedTo(t.form.orderPrice)){r.next=31;break}return r.abrupt("break",33);case 31:r.next=16;break;case 33:c=new v.Contract(t.platform.router,f.abi,l),i=0;case 35:if(!(i<o)){r.next=79;break}if(!t.global.flag){r.next=39;break}return t.global.cmdInfo.push("暂停..."),r.abrupt("return");case 39:u=null;case 40:return m=Math.floor(Date.now()/1e3)+1200,t.global.cmdInfo.push("开始第".concat(i+1,"次下单操作")),b=n?v.utils.parseUnits(t.form.buyAmount,"ether"):Object(d.c)(t.form.buyAmount,t.global.route.input.decimals),t.global.cmdInfo.push("下单金额：".concat(t.form.buyAmount,"，转换后金额：").concat(b)),r.next=46,t.calcSlippage();case 46:if(p=r.sent,t.global.cmdInfo.push("滑点比例：".concat(t.advanced.slippage?t.advanced.slippage:"20","，滑点检测设置：").concat(p)),g=null,!n){r.next=55;break}return r.next=52,c.swapExactETHForTokensSupportingFeeOnTransferTokens(p,t.global.path,s.address,m,{gasLimit:v.utils.hexlify(t.platform.gasUsed),gasPrice:v.utils.parseUnits(t.global.gasPrice.toString(),"gwei"),value:b});case 52:g=r.sent,r.next=58;break;case 55:return r.next=57,c.swapExactTokensForTokensSupportingFeeOnTransferTokens(b,p,t.global.path,s.address,m,{gasLimit:v.utils.hexlify(t.platform.gasUsed),gasPrice:v.utils.parseUnits(t.global.gasPrice.toString(),"gwei")});case 57:g=r.sent;case 58:if(t.global.cmdInfo.push("生成TXID："+g.hash),!t.form.failRetry&&!t.form.resultCheck){r.next=75;break}t.global.cmdInfo.push("开始查询下载状态："),k=1;case 62:if(t.global.flag){r.next=74;break}return t.global.cmdInfo.push("开始第".concat(k++,"轮查询状态")),r.next=66,new Promise((function(e){return setTimeout(e,1e3)}));case 66:return r.next=68,t.web3.eth.getTransactionReceipt(g.hash);case 68:if(!(u=r.sent)){r.next=72;break}return r.abrupt("break",74);case 72:r.next=62;break;case 74:t.global.cmdInfo.push("下单"+(u.status?"成功":"失败"));case 75:if(u&&!u.status&&t.form.failRetry&&!t.global.flag){r.next=40;break}case 76:i++,r.next=35;break;case 79:t.global.cmdInfo.push("结束操作");case 80:return r.prev=80,t.loading.buying=!1,r.finish(80);case 83:case"end":return r.stop()}}),r,null,[[0,,80,83]])})))()},sellValidata:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var r,a,n,o,s,l,c,i,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.dialog.cmdInfo=!0,e.global.flag=!1,e.global.cmdInfo=[],e.global.sellPath=[],e.global.cmdInfo.push("初始化信息"),e.global.cmdInfo.push("校验信息"),e.form.address){t.next=10;break}return e.$message.error("私钥信息未导入"),e.global.cmdInfo.push("私钥信息未导入"),t.abrupt("return",!1);case 10:if(e.form.contract){t.next=14;break}return e.$message.error("合约信息未导入"),e.global.cmdInfo.push("合约信息未导入"),t.abrupt("return",!1);case 14:if(e.web3.utils.isAddress(e.form.contract)){t.next=18;break}return e.$message.error("合约地址有误"),e.global.cmdInfo.push("合约地址有误"),t.abrupt("return",!1);case 18:if(e.form.balanceToken){t.next=22;break}return e.$message.error("余额不足"),e.global.cmdInfo.push("余额不足"),t.abrupt("return",!1);case 22:if(e.form.sellAmount&&0!==e.form.sellAmount){t.next=26;break}return e.$message.error("出售数量不能为空"),e.global.cmdInfo.push("出售数量不能为空"),t.abrupt("return",!1);case 26:return t.next=28,new e.web3.eth.Contract(u.abi,e.form.contract);case 28:return r=t.sent,t.next=31,r.methods.symbol().call().catch((function(e){return null}));case 31:return a=t.sent,t.next=34,r.methods.allowance(e.form.address,e.platform.router).call();case 34:if(!(t.sent<=0)){t.next=39;break}return e.$message.error("合约未授权，请提前授权合约."),e.global.cmdInfo.push("合约未授权，请提前授权合约."),t.abrupt("return",!1);case 39:if(n=e.form.sellCount?e.form.sellCount:1,1!==new h.a(e.form.sellAmount).multipliedBy(n).comparedTo(e.form.balanceToken)){t.next=45;break}return e.$message.error("出售数量不能超出总余额"),e.global.cmdInfo.push("出售数量不能超出总余额"),t.abrupt("return",!1);case 45:return t.next=47,e.initSell();case 47:return t.next=49,p.Fetcher.fetchTokenData(e.global.chainId,e.form.contract,e.global.provider);case 49:if(o=t.sent,s=null,l=null,"-1"!==e.form.poolToken.address){t.next=70;break}c=0;case 54:if(!(c<e.panicBuying.poolToken.length-1)){t.next=68;break}return t.next=57,p.Fetcher.fetchTokenData(e.global.chainId,e.panicBuying.poolToken[c].address,e.global.provider);case 57:return s=t.sent,t.next=60,p.Fetcher.fetchPairData(o,s,e.global.provider,e.platform.name).catch((function(e){return null}));case 60:if(!(l=t.sent)){t.next=64;break}return e.global.cmdInfo.push("开始检测：".concat(a," - ").concat(e.panicBuying.poolToken[c].name," 交易对【存在】")),t.abrupt("break",68);case 64:e.global.cmdInfo.push("开始检测：".concat(a," - ").concat(e.panicBuying.poolToken[c].name," 交易对【不存在】"));case 65:c++,t.next=54;break;case 68:t.next=77;break;case 70:return t.next=72,p.Fetcher.fetchTokenData(e.global.chainId,e.form.poolToken.address,e.global.provider);case 72:return s=t.sent,t.next=75,p.Fetcher.fetchPairData(o,s,e.global.provider,e.platform.name).catch((function(e){return null}));case 75:l=t.sent,e.global.cmdInfo.push("开始检测：".concat(a," - ").concat(e.form.poolToken.name," 交易对").concat(l?"【存在】":"【不存在】"));case 77:if(null!==l){t.next=81;break}return e.$message.error("未能检测到Token的流动性池子，请检测合约是否正确"),e.global.cmdInfo.push("未能检测到Token的流动性池子，请检测合约是否正确"),t.abrupt("return",!1);case 81:if(e.global.sellPath.push(o.address),e.global.sellPath.push(s.address),s.address.toUpperCase()===e.form.tradeToken.address.toUpperCase()){t.next=94;break}return e.global.sellPath.push(e.form.tradeToken.address),t.next=87,p.Fetcher.fetchTokenData(e.global.chainId,e.form.tradeToken.address,e.global.provider);case 87:return i=t.sent,t.next=90,p.Fetcher.fetchPairData(s,i,e.global.provider,e.platform.name).catch((function(e){return null}));case 90:f=t.sent,e.global.route=new p.Route([l,f],o),t.next=95;break;case 94:e.global.route=new p.Route([l],o);case 95:return t.abrupt("return",!0);case 96:case"end":return t.stop()}}),t)})))()},selling:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function r(){var a,n,o,s,l,c,i,u,m,b,p,g,k,x;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t.loading.selling=!0,r.next=4,t.sellValidata();case 4:if(a=r.sent,t.global.cmdInfo.push("校验信息是否成功:"+a),!a){r.next=78;break}if(n=t.form.tradeToken.address===t.global.address,t.global.cmdInfo.push("初始化操作"),o=t.form.sellCount?t.form.sellCount:1,t.global.cmdInfo.push("本次操作需要下单".concat(o,"次")),s=new v.Wallet(t.form.privateKey),t.global.cmdInfo.push("当前操作的钱包地址:".concat(s.address)),l=s.connect(t.global.provider),1!==e){r.next=33;break}t.global.cmdInfo.push("计算价格中...");case 16:if(!t.global.flag){r.next=20;break}return t.global.cmdInfo.push("暂停..."),r.abrupt("return");case 20:if(!(t.form.monitorTime>0)){r.next=23;break}return r.next=23,new Promise((function(e){return setTimeout(e,t.form.monitorTime)}));case 23:return r.next=25,t.getTokenPrice();case 25:if("0"!==t.form.contractPrice&&0!==t.form.contractPrice){r.next=27;break}return r.abrupt("continue",16);case 27:if(t.global.cmdInfo.push("挂单价格：".concat(t.form.orderPrice," /USDT")),t.global.cmdInfo.push("当前TOKEN价格：".concat(t.form.contractPrice," /USDT")),1!==new h.a(t.form.contractPrice).comparedTo(t.form.orderPrice)){r.next=31;break}return r.abrupt("break",33);case 31:r.next=16;break;case 33:c=new v.Contract(t.platform.router,f.abi,l),i=0;case 35:if(!(i<o)){r.next=77;break}if(!t.global.flag){r.next=39;break}return t.global.cmdInfo.push("暂停..."),r.abrupt("return");case 39:return u=t.advanced.slippage?t.advanced.slippage:"20",r.next=42,t.sellCalcSlippage(u);case 42:if(m=r.sent,t.global.cmdInfo.push("滑点检测设置："+m),b=Math.floor(Date.now()/1e3)+1200,p=Object(d.c)(t.form.sellAmount,t.form.tokenDecimals),g=null,!n){r.next=53;break}return r.next=50,c.swapExactTokensForETHSupportingFeeOnTransferTokens(p,m,t.global.sellPath,s.address,b,{gasLimit:v.utils.hexlify(t.platform.gasUsed),gasPrice:v.utils.parseUnits(t.global.gasPrice.toString(),"gwei")});case 50:g=r.sent,r.next=56;break;case 53:return r.next=55,c.swapExactTokensForTokensSupportingFeeOnTransferTokens(p,m,t.global.sellPath,s.address,b,{gasLimit:v.utils.hexlify(t.platform.gasUsed),gasPrice:v.utils.parseUnits(t.global.gasPrice.toString(),"gwei")});case 55:g=r.sent;case 56:if(t.global.cmdInfo.push("生成TXID："+g.hash),t.global.cmdInfo.push("开始查询下载状态："),k=null,!t.form.failRetry&&!t.form.resultCheck){r.next=74;break}x=1;case 61:if(t.global.flag){r.next=73;break}return t.global.cmdInfo.push("开始第".concat(x++,"轮查询状态")),r.next=65,new Promise((function(e){return setTimeout(e,1e3)}));case 65:return r.next=67,t.web3.eth.getTransactionReceipt(g.hash);case 67:if(!(k=r.sent)){r.next=71;break}return r.abrupt("break",73);case 71:r.next=61;break;case 73:t.global.cmdInfo.push("下单"+(k.status?"成功":"失败"));case 74:i++,r.next=35;break;case 77:t.loading.selling=!1;case 78:t.global.cmdInfo.push("结束操作");case 79:return r.prev=79,t.loading.selling=!1,r.finish(79);case 82:case"end":return r.stop()}}),r,null,[[0,,79,82]])})))()},calcPrice:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.global.cmdInfo.push("计算此次交易得到的Tokens数量"),t.buy.totalAmount=new h.a(0),t.buy.buyAmount=new h.a(0),e.forEach((function(e){var r=Object(m.o)(e),a=t.web3.utils.hexToNumberString("0x"+r[2]);t.buy.totalAmount=t.buy.totalAmount.plus(v.utils.formatUnits(a,t.buy.token0.decimals)),t.buy.buyAmount=t.buy.buyAmount.plus(t.form.buyAmount)})),!t.buy.buyAmount.isZero()){r.next=7;break}return t.global.cmdInfo.push(t.buy.buyAmount.toString()),r.abrupt("return");case 7:t.global.cmdInfo.push("总共花费:".concat(t.buy.buyAmount.toString()," ").concat(t.form.tradeToken.symbol,",购买了:").concat(t.buy.totalAmount.toString())),t.buy.token1.address===t.form.usdtToken?(t.buy.even=t.buy.buyAmount.dividedBy(t.buy.totalAmount),t.global.cmdInfo.push("当前买入的平均价格:".concat(t.buy.even.toNumber()," /USDT"))):(t.buy.even=t.buy.buyAmount.dividedBy(t.buy.totalAmount),t.global.cmdInfo.push("当前买入的平均价格:".concat(t.buy.even.toNumber()," /").concat(t.global.symbol))),t.advanced.switch&&t.intellectOut();case 10:case"end":return r.stop()}}),r)})))()},intellectOut:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var r,a,n,o,s,l,c,i,u,m,b,g,k;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.global.cmdInfo.push("智能出本计算中"),r=e.buy.even.multipliedBy(1+e.advanced.increaseRate/100).toString(),a=e.buy.totalAmount.multipliedBy(e.advanced.sellRate/100).toString(),e.global.cmdInfo.push("当前买入的平均价格:".concat(e.buy.even.toNumber()," /").concat(e.global.symbol,",上涨百分之").concat(e.advanced.increaseRate,"≈").concat(r,",出售百分之").concat(e.advanced.sellRate,"≈").concat(a)),n=null,o=null,e.form.tradeToken.address.toUpperCase()===e.buy.token1.address.toUpperCase()){t.next=13;break}return t.next=9,p.Fetcher.fetchTokenData(e.global.chainId,e.form.tradeToken.address,e.global.provider);case 9:return n=t.sent,t.next=12,p.Fetcher.fetchPairData(n,e.buy.token1,e.global.provider,e.platform.name).catch((function(e){return null}));case 12:o=t.sent;case 13:return s=[],l=null,t.next=18,p.Fetcher.fetchPairData(e.buy.token0,e.buy.token1,e.global.provider,e.platform.name).catch((function(e){return null}));case 18:if(c=t.sent,s.push(e.buy.token0.address),o&&n?(s.push(e.buy.token1.address),s.push(n.address),l=new p.Route([c,o],e.buy.token0,n)):(s.push(e.buy.token1.address),l=new p.Route([c],e.buy.token0,e.buy.token1)),e.global.cmdInfo.push("当前价格：".concat(l.midPrice.toSignificant())),!(new h.a(l.midPrice.toSignificant()).comparedTo(r)>-1)){t.next=34;break}return i=new v.Wallet(e.form.privateKey),e.global.cmdInfo.push("当前操作的钱包地址:".concat(i.address)),u=i.connect(e.global.provider),m=new v.Contract(e.platform.router,f.abi,u),b=Math.floor(Date.now()/1e3)+1200,g=Object(d.c)(a,e.buy.token0.decimals),t.next=31,m.swapExactTokensForTokensSupportingFeeOnTransferTokens(g,"0",s,i.address,b,{gasLimit:v.utils.hexlify(e.platform.gasUsed),gasPrice:v.utils.parseUnits(e.global.gasPrice.toString(),"gwei")});case 31:return k=t.sent,e.global.cmdInfo.push("出售完成，TXID :".concat(k.hash)),t.abrupt("return");case 34:return t.next=36,new Promise((function(e){return setTimeout(e,3e4)}));case 36:t.next=13;break;case 38:case"end":return t.stop()}}),t)})))()},getTokenPrice:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var r,a,n,o,s,l,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.form.contract){t.next=2;break}return t.abrupt("return");case 2:return e.loading.getTokenPrice=!0,t.next=5,p.Fetcher.fetchTokenData(e.global.chainId,e.form.contract,e.global.provider);case 5:if(r=t.sent,a=null,n=null,"-1"!==e.form.poolToken.address){t.next=25;break}o=0;case 11:if(!(o<e.panicBuying.poolToken.length-1)){t.next=23;break}return t.next=14,p.Fetcher.fetchTokenData(e.global.chainId,e.panicBuying.poolToken[o].address,e.global.provider);case 14:return a=t.sent,t.next=17,p.Fetcher.fetchPairData(r,a,e.global.provider,e.platform.name).catch((function(e){return null}));case 17:if(!(n=t.sent)){t.next=20;break}return t.abrupt("break",23);case 20:o++,t.next=11;break;case 23:t.next=31;break;case 25:return t.next=27,p.Fetcher.fetchTokenData(e.global.chainId,e.form.poolToken.address,e.global.provider);case 27:return a=t.sent,t.next=30,p.Fetcher.fetchPairData(r,a,e.global.provider,e.platform.name).catch((function(e){return null}));case 30:n=t.sent;case 31:if(!n){t.next=50;break}if(s=null,a.address.toUpperCase()===e.form.usdtToken.toUpperCase()){t.next=37;break}return t.next=36,p.Fetcher.fetchTokenData(e.global.chainId,e.form.usdtToken,e.global.provider);case 36:s=t.sent;case 37:if(l=null,!s){t.next=45;break}return t.next=41,p.Fetcher.fetchPairData(a,s,e.global.provider,e.platform.name).catch((function(e){return null}));case 41:c=t.sent,l=new p.Route([n,c],r,s),t.next=46;break;case 45:l=new p.Route([n],r,a);case 46:e.form.contractPrice=l.midPrice.toSignificant(),t.next=51;break;case 50:e.$message.error("未能检测到Token的流动性池子，请检测合约是否正确");case 51:e.loading.getTokenPrice=!1;case 52:case"end":return t.stop()}}),t)})))()},calcSlippage:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var r,a,n,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(d.c)(e.form.buyAmount,e.global.route.input.decimals),t.next=3,p.Fetcher.fetchTokenData(e.global.chainId,e.form.tradeToken.address,e.global.provider);case 3:return a=t.sent,n=new p.Trade(e.global.route,new p.TokenAmount(a,r),p.TradeType.EXACT_INPUT),o=new p.Percent(e.advanced.slippage?e.advanced.slippage:"20","100"),s=n.minimumAmountOut(o).raw,t.abrupt("return",s.toString());case 8:case"end":return t.stop()}}),t)})))()},sellCalcSlippage:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function r(){var a,n,o,s,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=Object(d.c)(t.form.sellAmount,t.global.route.input.decimals),r.next=3,p.Fetcher.fetchTokenData(t.global.chainId,t.global.route.input.address,t.global.provider);case 3:return n=r.sent,o=new p.Trade(t.global.route,new p.TokenAmount(n,a),p.TradeType.EXACT_INPUT),s=new p.Percent(e,"100"),l=o.minimumAmountOut(s).raw,r.abrupt("return",l.toString());case 9:case"end":return r.stop()}}),r)})))()},saveConfig:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading.saveConfig=!0,t.next=3,e.buyValidata();case 3:t.sent&&e.$message.success("保存成功！"),e.loading.saveConfig=!1;case 6:case"end":return t.stop()}}),t)})))()},buyValidata:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var r,a,n,o,s,l,c,i,f,d,m,b;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.dialog.cmdInfo=!0,e.global.flag=!1,e.global.cmdInfo=[],e.global.cmdInfo.push("初始化信息"),e.global.path=[],e.getUserBalance(),e.global.cmdInfo.push("校验信息"),e.form.address){t.next=11;break}return e.$message.error("私钥信息未导入"),e.global.cmdInfo.push("私钥信息未导入"),t.abrupt("return",!1);case 11:if(e.form.contract){t.next=15;break}return e.$message.error("合约信息未导入"),e.global.cmdInfo.push("合约信息未导入"),t.abrupt("return",!1);case 15:if(e.web3.utils.isAddress(e.form.contract)){t.next=19;break}return e.$message.error("合约地址有误"),e.global.cmdInfo.push("合约地址有误"),t.abrupt("return",!1);case 19:if(e.form.buyAmount){t.next=23;break}return e.$message.error("购买金额不能为空"),e.global.cmdInfo.push("购买金额不能为空"),t.abrupt("return",!1);case 23:return t.next=25,new e.web3.eth.Contract(u.abi,e.form.contract);case 25:return r=t.sent,t.next=28,r.methods.symbol().call().catch((function(e){return null}));case 28:return a=t.sent,t.next=31,r.methods.name().call().catch((function(e){return null}));case 31:return n=t.sent,e.global.cmdInfo.push("开始检测流动池："),t.next=35,p.Fetcher.fetchTokenData(e.global.chainId,e.form.contract,e.global.provider,a,n);case 35:if(e.buy.token0=t.sent,"-1"!==e.form.poolToken.address){t.next=54;break}o=0;case 38:if(!(o<e.panicBuying.poolToken.length-1)){t.next=52;break}return t.next=41,p.Fetcher.fetchTokenData(e.global.chainId,e.panicBuying.poolToken[o].address,e.global.provider);case 41:return e.buy.token1=t.sent,t.next=44,p.Fetcher.fetchPairData(e.buy.token0,e.buy.token1,e.global.provider,e.platform.name).catch((function(e){return null}));case 44:if(e.buy.token0_token1=t.sent,!e.buy.token0_token1){t.next=48;break}return e.global.cmdInfo.push("开始检测：".concat(a," - ").concat(e.panicBuying.poolToken[o].name," 交易对【存在】")),t.abrupt("break",52);case 48:e.global.cmdInfo.push("开始检测：".concat(a," - ").concat(e.panicBuying.poolToken[o].name," 交易对【不存在】"));case 49:o++,t.next=38;break;case 52:t.next=61;break;case 54:return t.next=56,p.Fetcher.fetchTokenData(e.global.chainId,e.form.poolToken.address,e.global.provider);case 56:return e.buy.token1=t.sent,t.next=59,p.Fetcher.fetchPairData(e.buy.token0,e.buy.token1,e.global.provider,e.platform.name).catch((function(e){return null}));case 59:e.buy.token0_token1=t.sent,e.global.cmdInfo.push("开始检测：".concat(a," - ").concat(e.form.poolToken.name," 交易对").concat(e.buy.token0_token1?"【存在】":"【不存在】"));case 61:if(null!==e.buy.token0_token1){t.next=65;break}return e.$message.error("未能匹配到流动池交易对"),e.global.cmdInfo.push("未能匹配到流动池交易对"),t.abrupt("return",!1);case 65:if(s=null,l=null,e.form.tradeToken.address.toUpperCase()===e.buy.token1.address.toUpperCase()){t.next=74;break}return t.next=70,p.Fetcher.fetchTokenData(e.global.chainId,e.form.tradeToken.address,e.global.provider);case 70:return l=t.sent,t.next=73,p.Fetcher.fetchPairData(l,e.buy.token1,e.global.provider,e.platform.name).catch((function(e){return null}));case 73:s=t.sent;case 74:if(e.global.cmdInfo.push("检测余额是否足够"),c=e.form.buyCount?e.form.buyCount:1,i=e.platform.gasUsed*e.global.gasPrice,i=v.utils.formatUnits(v.utils.parseUnits(i.toString(),"gwei")),i=new h.a(i).multipliedBy(c).toNumber(),e.global.cmdInfo.push("本次抢购操作需要预留手续费：".concat(i," ").concat(e.global.symbol)),f=Number(e.form.buyAmount)*c,e.form.tradeToken.symbol!==e.global.symbol){t.next=90;break}if(e.global.cmdInfo.push("本次抢购操作总共需要花费：".concat(f+i," ").concat(e.global.symbol)),1!==new h.a(f+i).comparedTo(e.form.balance)){t.next=88;break}return d="".concat(e.global.symbol," 余额不足，本次操作需要大约≈").concat(f+i,"，当前余额：").concat(e.form.balance),e.$message.error(d),e.global.cmdInfo.push(d),t.abrupt("return",!1);case 88:t.next=100;break;case 90:if(1!==new h.a(i).comparedTo(e.form.balance)){t.next=95;break}return m="".concat(e.global.symbol," 余额不足，本次操作需要大约≈").concat(i,"，当前余额：").concat(e.form.balance),e.$message.error(m),e.global.cmdInfo.push(m),t.abrupt("return",!1);case 95:if(1!==new h.a(f).comparedTo(e.form.usdtTokenBalance)){t.next=100;break}return b="USDT 余额不足，本次操作需要大约≈".concat(f,"，当前余额：").concat(e.form.usdtTokenBalance),e.$message.error(b),e.global.cmdInfo.push(b),t.abrupt("return",!1);case 100:return s&&l?(e.global.path.push(l.address),e.global.route=new p.Route([s,e.buy.token0_token1],l)):e.global.route=new p.Route([e.buy.token0_token1],e.buy.token1),e.global.path.push(e.buy.token1.address),e.global.path.push(e.buy.token0.address),t.next=105,e.approveUsdt();case 105:if(t.sent){t.next=110;break}return e.global.cmdInfo.push("USDT授权失败,请检测网络或手续费是否足够"),t.abrupt("return",!1);case 110:return t.abrupt("return",!0);case 111:case"end":return t.stop()}}),t)})))()},joinVip:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,new e.web3.eth.Contract(n.abi,e.global.multiSenderAddress);case 3:return r=t.sent,t.next=6,r.methods.isVIP(e.form.address).call().catch((function(){return"0"}));case 6:if(a=t.sent,e.global.isVip="1"===a,"1"!==a){t.next=16;break}return t.next=11,r.methods.getTimeByCustomer(e.form.address).call();case 11:o=t.sent,e.form.time="9999999999999999"===o?"永久":parseTime(o),t.next=17;break;case 16:e.form.time="普通";case 17:case"end":return t.stop()}}),t)})))()},changeType:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(1!==e){r.next=10;break}if(t.global.isVip){r.next=4;break}return t.$message.error("无权限使用，请联系电报管理员"),r.abrupt("return");case 4:return t.loading.initForm=!0,r.next=7,t.initSell();case 7:return r.next=9,t.getTokenPrice();case 9:t.loading.initForm=!1;case 10:t.form.type=e;case 11:case"end":return r.stop()}}),r)})))()},Max:function(){this.form.sellAmount=this.form.balanceToken},changeContract:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading.initForm=!0,t.next=4,e.initSell();case 4:return t.next=6,e.getTokenPrice();case 6:e.loading.initForm=!1;case 7:case"end":return t.stop()}}),t)})))()},initSell:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.form.contract){t.next=18;break}return t.next=3,new e.web3.eth.Contract(u.abi,e.form.contract);case 3:return r=t.sent,t.next=6,r.methods.symbol().call().catch((function(e){return null}));case 6:return e.form.tokenSymbol=t.sent,t.next=9,r.methods.name().call().catch((function(e){return null}));case 9:return e.form.tokenName=t.sent,t.next=12,r.methods.decimals().call().catch((function(e){return null}));case 12:if(e.form.tokenDecimals=t.sent,!e.form.address){t.next=18;break}return t.next=16,r.methods.balanceOf(e.form.address).call();case 16:a=t.sent,e.form.balanceToken=Object(d.d)(a,e.form.tokenDecimals);case 18:case"end":return t.stop()}}),t)})))()},onSelectChain:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.chainId===t.panicBuying.chainId){r.next=9;break}return t.loading.initForm=!0,t.panicBuying=e,t.platform=e.platform[0],t.reset(),r.next=8,t.initial();case 8:t.loading.initForm=!1;case 9:case"end":return r.stop()}}),r)})))()},onSelectPlatform:function(e){this.platform=e},reset:function(){this.global.path=[],this.global.network="test..",this.form.privateKey="",this.form.address="",this.form.balance=0,this.form.usdtTokenBalance=0,this.form.type=0,this.form.contract="",this.form.minAmount="",this.form.buyAmount="",this.form.buyCount="",this.advanced.slippage="",this.advanced.switch=!0,this.advanced.increaseRate="",this.advanced.sellRate=""},initial:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.form.rpcNode=e.panicBuying.rpcNode,e.form.usdtToken=e.panicBuying.usdtToken,e.form.tradeTokenAddress=e.panicBuying.symbol,e.form.poolTokenAddress=e.panicBuying.symbol,e.global.rpcNodeArray=e.panicBuying.rpcNodeArray,e.global.symbol=e.panicBuying.symbol,e.global.chainId=e.panicBuying.chainId,e.global.address=e.panicBuying.address,e.tradeCoin=[],e.tradeCoin.push({symbol:e.panicBuying.symbol,address:e.panicBuying.address}),e.tradeCoin.push({symbol:"USDT",address:e.panicBuying.usdtToken}),e.form.tradeToken=e.tradeCoin[0],e.form.poolToken=e.panicBuying.poolToken[3],e.global.gasPrice=e.panicBuying.gasPrice,e.global.maxGas=e.panicBuying.maxGas,e.web3=new i.a(new i.a.providers.HttpProvider(e.form.rpcNode)),e.global.provider=new b.a(e.form.rpcNode),t.next=19,e.web3.eth.getGasPrice();case 19:return r=t.sent,r=e.web3.utils.fromWei(r,"gwei"),e.global.gasPrice=Math.ceil(1.3*r),e.global.marks[e.global.gasPrice]=e.global.gasPrice,e.getPing(),e.timer&&clearInterval(e.timer),e.timer=setInterval(e.getPing,1e4),t.next=28,new e.web3.eth.Contract(f.abi,e.platform.router);case 28:return a=t.sent,t.next=31,a.methods.factory().call();case 31:e.global.factory=t.sent,n=Object(m.h)(e.global.chainId),e.global.multiSenderAddress=n.multiSenderAddress;case 34:case"end":return t.stop()}}),t)})))()}},watch:{"global.cmdInfo":function(e,t){document.getElementsByClassName("cmdInfo")[0]&&(document.getElementsByClassName("cmdInfo")[0].scrollTop=3e4),this.global.cmdInfo.length>200&&(this.global.cmdInfo=[])}},created:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.panicBuying=s.i[0],e.platform=s.i[0].platform[0],e.loading.initForm=!0,t.next=5,e.initial();case 5:e.loading.initForm=!1;case 6:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){clearInterval(this.timer)}},y=x,w=(r("aab14"),r("2877")),T=Object(w.a)(y,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("loadPrivateKey",{attrs:{show:e.dialog.loadPrv,web3:e.web3},on:{close:function(t){e.dialog.loadPrv=!1},getUserData:e.getUserData}}),r("SwitchNetwork",{attrs:{show:e.dialog.switchNetwork},on:{close:function(t){e.dialog.switchNetwork=!1},loadNode:e.loadNode}}),r("el-card",{staticClass:"box-card"},[r("span",[e._v("链")]),r("div",{staticClass:"chain"},e._l(e.panicBuyingList,(function(t){return r("div",{class:t.chainId===e.panicBuying.chainId?"active":"",on:{click:function(r){return e.onSelectChain(t)}}},[e._v(" "+e._s(t.chainName)+" ")])})),0),r("span",[e._v("交易所")]),r("div",{staticClass:"platform"},e._l(e.panicBuying.platform.filter((function(e){return e.panic})),(function(t){return r("div",{class:e.platform.router===t.router?"active":"",on:{click:function(r){return e.onSelectPlatform(t)}}},[r("img",{attrs:{width:"20",height:"20",src:t.icon}}),e._v(e._s(t.name)+" ")])})),0)]),r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.initForm,expression:"loading.initForm"}],ref:"form",attrs:{model:e.form,"label-width":"120px"}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"rpcNode"},[r("span",[e._v("节点："+e._s(e.form.rpcNode))]),r("span",[e._v("速度："+e._s(e.global.network)+"ms")]),r("el-button",{on:{click:e.changeNetwork}},[e._v("切换节点")])],1)]),r("el-card",{staticClass:"box-card"},[r("el-form-item",{attrs:{label:"钱包地址:"}},[r("el-input",{attrs:{disabled:"",placeholder:"请载入私钥获取地址"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}},[r("template",{slot:"append"},[r("el-button",{on:{click:function(t){e.dialog.loadPrv=!0}}},[e._v("载入私钥")])],1)],2),r("el-tag",{attrs:{type:"danger"}},[e._v("强烈推荐使用小额资产的小钱包进行抢币,需要私钥是为了省去确认操作，直接实现快速自动买卖.")]),r("el-tag",[e._v("本程序完全本地运行,不会上传私钥到服务器,欢迎监督检测.")])],1),r("el-form-item",{attrs:{label:"钱包余额:"}},[r("span",[e._v(e._s(e.form.balance)+" "+e._s(e.global.symbol))]),r("br"),r("span",[e._v(e._s(e.form.usdtTokenBalance)+" USDT")]),r("br"),r("span",[e._v("到期时间："+e._s(e.form.time))]),r("br")])],1),r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"bsBtn"},[r("el-button",{staticClass:"buyBtn",attrs:{type:"success",size:"medium",icon:0===e.form.type?"el-icon-check":""},on:{click:function(t){return e.changeType(0)}}},[e._v("买入")]),r("el-button",{staticClass:"sellBtn",attrs:{type:"danger",size:"medium",icon:1===e.form.type?"el-icon-check":""},on:{click:function(t){return e.changeType(1)}}},[e._v("卖出")])],1),r("el-form-item",{attrs:{label:"交易币种"}},[r("el-radio-group",{model:{value:e.form.tradeToken,callback:function(t){e.$set(e.form,"tradeToken",t)},expression:"form.tradeToken"}},e._l(e.tradeCoin,(function(t,a){return r("el-radio",{key:a,attrs:{label:t}},[e._v(e._s(t.symbol))])})),1)],1),r("el-form-item",{attrs:{label:"合约"}},[r("el-input",{attrs:{placeholder:"请输入合约地址"},on:{change:function(t){return e.changeContract()}},model:{value:e.form.contract,callback:function(t){e.$set(e.form,"contract",t)},expression:"form.contract"}},[r("template",{slot:"append"},[r("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.approve,expression:"loading.approve"}],on:{click:e.approve}},[e._v("提前授权")])],1)],2)],1),r("el-form-item",{attrs:{label:"流动池"}},[r("el-radio-group",{model:{value:e.form.poolToken,callback:function(t){e.$set(e.form,"poolToken",t)},expression:"form.poolToken"}},e._l(e.panicBuying.poolToken,(function(t,a){return r("el-radio",{key:a,attrs:{label:t}},[e._v(e._s(t.name))])})),1)],1),r("el-form-item",{attrs:{label:"当前余额"}},[r("el-input",{attrs:{disabled:""},model:{value:e.form.balanceToken,callback:function(t){e.$set(e.form,"balanceToken",t)},expression:"form.balanceToken"}},[r("template",{slot:"append"},[e._v(e._s(e.form.tokenName))])],2)],1),0===e.form.type?r("div",{staticStyle:{display:"flex"}},[r("el-form-item",{attrs:{label:"买入金额"}},[r("el-input",{attrs:{placeholder:"请输入买入金额"},model:{value:e.form.buyAmount,callback:function(t){e.$set(e.form,"buyAmount",t)},expression:"form.buyAmount"}},[r("template",{slot:"append"},[e._v(e._s(e.form.tradeToken.symbol))])],2)],1),r("el-form-item",{attrs:{label:"买入次数"}},[r("el-input",{attrs:{placeholder:"请输入买入次数，默认1"},model:{value:e.form.buyCount,callback:function(t){e.$set(e.form,"buyCount",t)},expression:"form.buyCount"}},[r("template",{slot:"append"},[e._v("次")])],2)],1)],1):e._e(),1===e.form.type?r("div",{staticStyle:{display:"flex"}},[r("el-form-item",{attrs:{label:"卖出数量"}},[r("el-input",{attrs:{placeholder:"请输入卖出数量"},model:{value:e.form.sellAmount,callback:function(t){e.$set(e.form,"sellAmount",t)},expression:"form.sellAmount"}},[r("template",{slot:"append"},[r("el-button",{on:{click:function(t){return e.Max()}}},[e._v("全部出售")])],1)],2)],1),r("el-form-item",{attrs:{label:"卖出次数"}},[r("el-input",{attrs:{placeholder:"请输入卖出次数，默认1"},model:{value:e.form.sellCount,callback:function(t){e.$set(e.form,"sellCount",t)},expression:"form.sellCount"}},[r("template",{slot:"append"},[e._v("次")])],2)],1)],1):e._e(),r("div",{staticStyle:{display:"flex"}},[r("el-form-item",{attrs:{label:"挂单价格"}},[r("el-input",{attrs:{placeholder:"请输入挂单价格"},model:{value:e.form.orderPrice,callback:function(t){e.$set(e.form,"orderPrice",t)},expression:"form.orderPrice"}})],1),r("el-form-item",{attrs:{label:"当前价格"}},[r("el-input",{attrs:{placeholder:"请输入合约信息",disabled:""},model:{value:e.form.contractPrice,callback:function(t){e.$set(e.form,"contractPrice",t)},expression:"form.contractPrice"}},[r("template",{slot:"append"},[r("el-button",{on:{click:function(t){e.form.orderPrice=e.form.contractPrice}}},[e._v("设置为挂单价")])],1)],2)],1)],1),r("div",{staticClass:"tipsInfo"},[0===e.form.type?r("el-tag",{attrs:{type:"danger",size:"medium"}},[e._v("例如：您设置买入金额为2"+e._s(e.global.symbol)+"，买入次数为5次，则科学家会自动连续购买2"+e._s(e.global.symbol)+"，买5次，一共买10"+e._s(e.global.symbol))]):e._e(),1===e.form.type?r("el-tag",{attrs:{type:"danger",size:"medium"}},[e._v("例如：您设置卖出数量为2，卖出次数为5次，则科学家会自动连续卖出2个，卖5次，一共卖出10个")]):e._e()],1),r("el-form-item",{attrs:{label:"抢购速度"}},[r("el-slider",{attrs:{min:e.global.gasPrice,max:e.global.maxGas},model:{value:e.global.gasPrice,callback:function(t){e.$set(e.global,"gasPrice",t)},expression:"global.gasPrice"}})],1),r("div",{staticClass:"tipsInfo"},[r("el-tag",{attrs:{type:"danger",size:"medium"}},[e._v("单次gas费用 "+e._s(e.global.gasPrice)+" ≈ "+e._s(e.getGasPriceCom)+" "+e._s(e.global.symbol)+" ( 最少预留约 "+e._s(2*e.getGasPriceCom)+" "+e._s(e.global.symbol)+" )")])],1),0===e.form.type?r("div",{staticStyle:{display:"flex"}},[r("el-form-item",{attrs:{label:"失败重试:"}},[r("el-switch",{model:{value:e.form.failRetry,callback:function(t){e.$set(e.form,"failRetry",t)},expression:"form.failRetry"}}),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"购买/出售失败则会无限重试，需小心谨慎",placement:"top"}},[r("i",{staticClass:"el-icon-question"})])],1),r("el-form-item",{attrs:{label:"Hash检查:"}},[r("el-switch",{model:{value:e.form.resultCheck,callback:function(t){e.$set(e.form,"resultCheck",t)},expression:"form.resultCheck"}}),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"下单完成后是否要检查本次购买是否成功，开启则需要多花几秒钟时间",placement:"top"}},[r("i",{staticClass:"el-icon-question"})])],1),r("el-form-item",{attrs:{label:"轮训间隔(毫秒):"}},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"价格监控轮训时间,根据自己网络调整.",placement:"top"}},[r("i",{staticClass:"el-icon-question"})]),r("el-input-number",{attrs:{min:0},model:{value:e.form.monitorTime,callback:function(t){e.$set(e.form,"monitorTime",t)},expression:"form.monitorTime"}})],1)],1):e._e()],1)],1),r("el-form",{ref:"advanced",attrs:{model:e.advanced,"label-width":"120px"}},[r("el-card",{staticClass:"box-card"},[r("el-form-item",{attrs:{label:"高级功能"}},[r("el-switch",{model:{value:e.advanced.switch,callback:function(t){e.$set(e.advanced,"switch",t)},expression:"advanced.switch"}})],1),r("el-form-item",{attrs:{label:"燃烧最大百分比"}},[r("el-input",{attrs:{placeholder:"默认20%，建议必填，避免滑点过大造成损失"},model:{value:e.advanced.slippage,callback:function(t){e.$set(e.advanced,"slippage",t)},expression:"advanced.slippage"}},[r("template",{slot:"append"},[e._v("%")])],2)],1)],1)],1),r("div",{staticClass:"startBtn"},[0===e.form.type?r("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.buying,expression:"loading.buying"}],attrs:{type:"primary"},on:{click:function(t){return e.buying(1)}}},[e._v("挂单买入")]):e._e(),0===e.form.type?r("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.buying,expression:"loading.buying"}],attrs:{type:"primary"},on:{click:function(t){return e.buying(0)}}},[e._v("立即买入")]):e._e(),1===e.form.type?r("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.selling,expression:"loading.selling"}],attrs:{type:"danger"},on:{click:function(t){return e.selling(1)}}},[e._v("挂单卖出")]):e._e(),1===e.form.type?r("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.selling,expression:"loading.selling"}],attrs:{type:"danger"},on:{click:function(t){return e.selling(0)}}},[e._v("立即卖出")]):e._e()],1),r("el-dialog",{attrs:{title:"操作信息",visible:e.dialog.cmdInfo,width:"100%","close-on-press-escape":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){return e.$set(e.dialog,"cmdInfo",t)},closed:e.handleClose}},[e.global.cmdInfo.length>0?r("div",{staticClass:"cmdInfo"},[r("ul",e._l(e.global.cmdInfo,(function(t,a){return r("li",[e._v("["+e._s(a)+"] "+e._s(t))])})),0)]):e._e(),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.stopReturn()}}},[e._v("停止")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleClose()}}},[e._v("返回")])],1)])],1)}),[],!1,null,"dfa2e150",null);t.default=T.exports},a561:function(e,t,r){"use strict";var a=r("1da1"),n=(r("96cf"),r("4de4"),r("d3b7"),r("99e5")),o=r.n(n),s={name:"SwitchNetwork",props:{show:{type:Boolean,default:!1}},data:function(){return{lWidth:"650px",nodeUrl:"",loading:{select:!1},restaurants:[{value:"https://bsc-dataseed1.binance.org/"},{value:"https://bsc-dataseed2.binance.org/"},{value:"https://bsc-dataseed3.binance.org/"},{value:"https://bsc-dataseed4.binance.org/"},{value:"https://bsc-dataseed2.defibit.io/"}]}},methods:{querySearch:function(e,t){var r=this.restaurants;t(e?r.filter(this.createFilter(e)):r)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},loadNode:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.nodeUrl){t.next=3;break}return e.$message.error("节点地址错误，请检查是否输入正确！"),t.abrupt("return");case 3:return t.prev=3,e.loading.select=!0,r=new o.a(new o.a.providers.HttpProvider(e.nodeUrl)),a=Date.now(),t.next=9,r.eth.getBlockNumber();case 9:n=t.sent,Date.now()-a,e.$message.success("当前区块:".concat(n)),e.$emit("loadNode",{nodeUrl:e.nodeUrl}),e.closeDialog(),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(3),e.$message.error(t.t0.message);case 20:return t.prev=20,e.loading.select=!1,t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[3,17,20,23]])})))()},closeDialog:function(){this.nodeUrl="",this.$emit("close")}},created:function(){document.body.clientWidth<640&&(this.lWidth="90%")}},l=s,c=r("2877"),i=Object(c.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("el-dialog",{staticClass:"loadPrvKey",attrs:{title:"切换节点",visible:e.show,"append-to-body":!0,"close-on-press-escape":!1,"close-on-click-modal":!1,"show-close":!0,width:e.lWidth,"before-close":e.closeDialog},on:{"update:visible":function(t){e.show=t}}},[r("div",{staticClass:"loadPrvKey",staticStyle:{display:"flex"}},[r("el-autocomplete",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.select,expression:"loading.select"}],staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入/选择节点完整地址"},model:{value:e.nodeUrl,callback:function(t){e.nodeUrl=t},expression:"nodeUrl"}}),r("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.select,expression:"loading.select"}],attrs:{type:"success"},on:{click:function(t){return e.loadNode()}}},[e._v("加载")])],1)])],1)}),[],!1,null,"e9bd782e",null);t.a=i.exports},a809:function(e,t,r){"use strict";var a=(r("99e5"),{name:"loadPrivateKey",props:{show:{type:Boolean,default:!1},web3:{}},data:function(){return{lWidth:"650px",privateKey:"",loading:{select:!1}}},methods:{loadPrv:function(){if(this.privateKey)try{var e=this.web3.eth.accounts.privateKeyToAccount(this.privateKey,!0);this.$emit("getUserData",e),this.closeDialog()}catch(e){this.$message.error(e.message)}else this.$message.error("私钥载入错误，请检查是否输入正确！")},closeDialog:function(){this.privateKey="",this.$emit("close")}},created:function(){document.body.clientWidth<640&&(this.lWidth="90%")}}),n=a,o=r("2877"),s=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("el-dialog",{staticClass:"loadPrvKey",attrs:{title:"加载私钥",visible:e.show,"append-to-body":!0,"close-on-press-escape":!1,"close-on-click-modal":!1,"show-close":!0,width:e.lWidth,"before-close":e.closeDialog},on:{"update:visible":function(t){e.show=t}}},[r("div",{staticClass:"loadPrvKey",staticStyle:{display:"flex"}},[r("el-input",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.select,expression:"loading.select"}],attrs:{"show-password":!0,placeholder:"请输入钱包私钥"},model:{value:e.privateKey,callback:function(t){e.privateKey=t},expression:"privateKey"}}),r("el-button",{attrs:{type:"success"},on:{click:function(t){return e.loadPrv()}}},[e._v("加载")])],1)])],1)}),[],!1,null,"8eccd106",null);t.a=s.exports},aab14:function(e,t,r){"use strict";r("e270")},e270:function(e,t,r){}}]);