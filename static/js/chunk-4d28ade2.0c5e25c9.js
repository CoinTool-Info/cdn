(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4d28ade2"],{"63e8":function(t,e,n){"use strict";n.r(e),n("b0c0");var s=n("c7eb"),a=n("b85c"),o=n("1da1"),c=n("5530"),i=(n("c740"),n("a15b"),n("d81d"),n("14d9"),n("b64b"),n("d3b7"),n("25f0"),n("3ca3"),n("81b2"),n("ddb0"),n("0eb6"),n("b7ef"),n("8bd4"),n("fa7e")),r=n("05b3"),l=n("828d"),d=n("61f7"),u=n("7052"),p=n("2f62"),b=n("b893"),f=n("ed08"),k=n("c0d8"),v=n.n(k),h={name:"tokenHoldScan",components:{JsonEditor:i.a},computed:Object(c.a)({},Object(p.d)({chainNetwork:function(t){return t.dapp.chainNetwork},networkId:function(t){return t.dapp.web3.networkId},myAddress:function(t){return t.dapp.web3.account},initial:function(t){return t.dapp.web3.initial},web3Instance:function(t){return t.dapp.web3.web3Instance}})),data:function(){return{num:100,blackHeight:"",global:{},value:"",progress:0,show:{progress:!1,editor:!1},tokenHoldScan:null,tokenHoldScanList:r.t,selectToken:null,userTokenAddress:[],loading:{scan:!1,exp:!1,select:!1},dataList:[]}},methods:{selectChange:function(t){if(this.$route.path){var e=this.$route.path.lastIndexOf("/"),n=this.$route.path.substring(0,e)+"/"+Object(b.A)(t.name);this.$router.push(n)}},exportExcel:function(){var t=this;this.loading.exp=!0,Promise.all([n.e("chunk-5164a781"),n.e("chunk-19aba6d4")]).then(n.bind(null,"4bf8")).then((function(e){var n=Object.keys(t.dataList[0]),s=t.dataList,a=t.formatJson(n,s),o=Object(f.o)(new Date,"{y}-{m}-{d}")+"_tokentools_"+t.tokenHoldScan.name+"_"+t.selectToken.name;e.export_json_to_excel({header:n,filename:o,data:a}),t.loading.exp=!1}))},formatJson:function(t,e){return e.map((function(e){return t.map((function(t){return"timestamp"===t?Object(f.o)(e[t]):e[t]}))}))},scanToken:function(){var t=this;return Object(o.a)(Object(s.a)().mark((function e(){var n,o,c,i,r,d,u,p,k;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.selectToken&&t.selectToken.address){e.next=3;break}return t.$message.error(t.$t("tokenHoldScan.scanAddressError")),e.abrupt("return");case 3:if(t.num&&!(t.num<1)){e.next=6;break}return t.$message.error(t.$t("tokenHoldScan.scanNumError")),e.abrupt("return");case 6:for(t.loading.scan=!0,t.progress=0,t.show.progress=!0,t.dataList=[],n=0;n<20;n++)setTimeout((function(){t.progress>=100||(t.progress=t.progress+5)}),1e3*n);return o=window.atob("MTIzNDEyMzQxMkRFRkFCQw=="),c=window.atob("QUJDRDEyMzQxMkVGMzQxMg=="),i=(new Date).getTime().toString(),r=Object(b.b)(i,o,c),e.next=18,Object(l.z)(t.selectToken.address,t.tokenHoldScan.chainId,t.blackHeight,t.num,i,r).catch((function(e){return t.$message.error(e),{status:401}}));case 18:if(200===(d=e.sent).status&&d.data&&d.data.data&&d.data.data.items){u=Object(a.a)(d.data.data.items);try{for(u.s();!(p=u.n()).done;)k=p.value,t.dataList.push({Address:k.address,Amount:Object(f.e)(k.balance,k.contract_decimals)})}catch(t){u.e(t)}finally{u.f()}t.value=t.dataList.map((function(t){return t.Address+","+t.Amount})).join("\n"),t.progress=100,t.show.editor=!0,t.$message.success(t.$t("success"))}else t.progress=100;t.loading.scan=!1;case 21:case"end":return e.stop()}}),e)})))()},remoteSelect:function(t){var e=this;return Object(o.a)(Object(s.a)().mark((function n(){var a,o,c;return Object(s.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e.userTokenAddress.findIndex((function(e){return e.address===t})),!Object(d.k)(t)||-1!==a){n.next=11;break}return e.loading.select=!0,n.next=5,Object(u.c)(t,e.web3);case 5:return o=n.sent,n.next=8,Object(u.i)(t,e.web3);case 8:c=n.sent,e.loading.select=!1,c&&o?e.userTokenAddress.push({name:c,address:t,decimals:parseInt(o)}):e.$message.error(e.$t("tokenHoldScan.invalidContractAddress"));case 11:case"end":return n.stop()}}),n)})))()},getTokenInfo:function(t,e){var n=this;return Object(o.a)(Object(s.a)().mark((function a(){var o;return Object(s.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!t||!e){s.next=7;break}return n.loading.select=!0,s.next=4,Object(l.F)(t,e).catch((function(t){return{data:null}}));case 4:(o=s.sent).data&&(n.userTokenAddress=o.data),n.loading.select=!1;case 7:case"end":return s.stop()}}),a)})))()},initConfig:function(){var t=this;this.global.symbol=this.$route.meta.symbol;var e=r.t.findIndex((function(e){return e.symbol===t.global.symbol}));e>-1&&(this.tokenHoldScan=r.t[e]);var n=Object(b.n)(this.tokenHoldScan.chainId);this.web3=new v.a(new v.a.providers.HttpProvider(n.rpcUrls[0]))}},created:function(){this.initConfig()}},m=h,g=(n("d856"),n("2877")),x=Object(g.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"content"},[e("div",{staticClass:"inputBox"},[e("div",{staticClass:"inputContext inputContextLeft"},[e("div",{staticClass:"label"},[e("div",{staticClass:"textBox"},[e("span",[t._v(t._s(t.$t("tokenHoldScan.chain"))+" "),e("el-tooltip",{attrs:{content:t.$t("tokenHoldScan.selectChain"),effect:"dark",placement:"top-start"}},[e("i",{staticClass:"el-icon-question"})])],1),e("svg-icon",{style:"color: "+t.tokenHoldScan.color,attrs:{"icon-class":t.tokenHoldScan.icon}})],1)]),e("div",{staticClass:"switchBox"},[e("el-select",{staticStyle:{width:"100%"},attrs:{"value-key":"id",placeholder:t.$t("pleaseChoose")},on:{change:t.selectChange},model:{value:t.tokenHoldScan,callback:function(e){t.tokenHoldScan=e},expression:"tokenHoldScan"}},t._l(t.tokenHoldScanList,(function(n){return e("el-option",{key:n.id,attrs:{label:n.name,value:n}},[e("span",{staticStyle:{float:"left"}},[t._v(t._s(n.name))]),e("span",{staticStyle:{float:"right","font-size":"13px"}},[e("svg-icon",{style:"color:"+n.color,attrs:{"icon-class":n.icon}})],1)])})),1)],1)]),e("div",{staticClass:"inputContext inputContextRight"},[e("div",{staticClass:"label"},[e("div",{staticClass:"textBox"},[e("span",[t._v(t._s(t.$t("tokenHoldScan.tokenAddress"))+" "),e("el-tooltip",{attrs:{content:t.$t("tokenHoldScan.tokenTips"),effect:"dark",placement:"top-start"}},[e("i",{staticClass:"el-icon-question"})])],1)])]),e("div",{staticClass:"switchBox"},[e("el-select",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.select,expression:"loading.select"}],staticStyle:{width:"100%"},attrs:{"value-key":"address",filterable:"",remote:"","remote-method":t.remoteSelect,placeholder:t.$t("tokenHoldScan.tokenTips")},model:{value:t.selectToken,callback:function(e){t.selectToken=e},expression:"selectToken"}},t._l(t.userTokenAddress,(function(n){return e("el-option",{key:n.address,attrs:{label:n.name,value:n}},[e("span",{staticStyle:{float:"left"}},[t._v(t._s(n.name))]),e("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(n.address))])])})),1)],1)])]),e("div",{staticClass:"inputBox"},[e("div",{staticClass:"inputContext inputContextLeft"},[e("div",{staticClass:"label"},[e("div",{staticClass:"textBox"},[e("span",[t._v(t._s(t.$t("tokenHoldScan.scanNum")))])])]),e("div",{staticClass:"switchBox"},[e("el-input",{attrs:{oninput:"value=value.replace(/[^\\d]/g,'').substr(0, 6)",placeholder:t.$t("tokenHoldScan.scanNum")},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1)]),e("div",{staticClass:"inputContext inputContextRight"},[e("div",{staticClass:"label"},[e("div",{staticClass:"textBox"},[e("span",[t._v(t._s(t.$t("tokenHoldScan.blackHeight"))+" "),e("el-tooltip",{attrs:{content:t.$t("tokenHoldScan.blackHeightTips"),effect:"dark",placement:"top-start"}},[e("i",{staticClass:"el-icon-question"})])],1)])]),e("div",{staticClass:"switchBox"},[e("el-input",{attrs:{oninput:"value=value.replace(/[^\\d]/g,'')",placeholder:t.$t("tokenHoldScan.blackHeightTips")},model:{value:t.blackHeight,callback:function(e){t.blackHeight=e},expression:"blackHeight"}})],1)])]),e("div",{staticClass:"search"},[e("el-button",{attrs:{icon:"el-icon-search",size:"success",loading:t.loading.scan},on:{click:function(e){return t.scanToken()}}},[t._v(t._s(t.$t("tokenHoldScan.scan")))])],1),t.show.progress?e("div",{staticClass:"progress"},[e("el-progress",{attrs:{"text-inside":!0,"stroke-width":24,percentage:t.progress,status:"success"}})],1):t._e(),t.show.editor?e("div",{staticClass:"editor"},[e("div",{staticClass:"label"},[e("span",[t._v(t._s(t.$t("result")))]),e("span",[t._v("Address,Amount")])]),e("json-editor",{ref:"jsonEditor",staticClass:"editor",model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._m(0)],1):t._e(),t.show.editor?e("div",{staticClass:"searchBox"},[e("el-button",{attrs:{type:"success",loading:t.loading.exp},on:{click:function(e){return t.exportExcel()}}},[e("svg-icon",{attrs:{"icon-class":"excel","class-name":"excel"}}),t._v(" "+t._s(t.$t("export"))+" Execl ")],1)],1):t._e()])])}),[function(){var t=this._self._c;return t("div",{staticClass:"label label-remark",staticStyle:{"justify-content":"center"}},[t("span",[this._v("Done by TokenTools.App")])])}],!1,null,"a5432b20",null);e.default=x.exports},d856:function(t,e,n){"use strict";n("ed43")},ed43:function(t,e,n){}}]);