(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5b5d27c6"],{"0b03":function(e,t,r){"use strict";r("5db3")},"5db3":function(e,t,r){},"8faa":function(e,t,r){"use strict";r.r(t),r("b0c0");var n=r("c7eb"),a=r("1da1"),s=r("5530"),o=(r("d9e2"),r("14d9"),r("c0d8")),c=r.n(o),i=r("b6ed"),d=r("fa7e"),m=r("8325"),u=r("2f62"),l=r("7aeb"),p=r("61f7"),b=r("b893"),k=r("ed08"),f=r("e9b6"),F=(r("901e"),r("79fa")),g=r("05b3"),v={name:"createToken",components:{JsonEditor:d.a,NetworkError:i.a},directives:{clipboard:m.a},computed:Object(s.a)({},Object(u.d)({chainNetwork:function(e){return e.dapp.chainNetwork},currentFee:function(e){return e.dapp.authUser.curFee},networkId:function(e){return e.dapp.web3.networkId},myAddress:function(e){return e.dapp.web3.account},initial:function(e){return e.dapp.web3.initial},menu:function(e){return e.settings.menu}})),watch:{initial:function(e){e&&this.getCreateFee()}},data:function(){var e=this;return{showFee:"0",baseCoin:"BNB",lWidth:"150px",decimalsCarry:k.e,bar:1,contractCode:f.source,dialog:{contractCode:!1},loading:{submit:!1,inAdmin:!1,updateOwner:!1,destroyOwner:!1,paused:!1,addBlackList:!1,burn:!1,mint:!1,updateFee:!1,tempDestroyOwner:!1},adminFrom:{ownerAddress:"",blackFlag:!0,blackAddress:"",burn:0,mintAmount:"",mintAddress:"",owner:"",name:"",symbol:"",totalSupply:0,txFee:0,burnFee:0,FeeAddress:"",decimals:18,paused:!1,contractAddress:"",newAddress:"",destroyTime:60},inAdminFrom:{address:"",flag:!1},standardTokenForm:{tokenName:"",symbol:"",supply:21e3,decimals:18},createTokenForm:{tokenName:"",symbol:"",supply:21e3,decimals:18,type:[],advancedSettings:!1,deflation:!1,transferFee:0,burnFee:0,feeAddress:"",tokenOwner:""},standardRules:{tokenName:[{required:!0,message:F.a.t("createToken.tokenNameMsg"),trigger:"blur"}],symbol:[{required:!0,message:F.a.t("createToken.symbolMsg"),trigger:"blur"}],supply:[{required:!0,message:F.a.t("createToken.supplyMsg"),trigger:"blur"}],decimals:[{required:!0,message:F.a.t("createToken.decimalsMsg"),trigger:"blur"}]},rules:{tokenName:[{required:!0,message:F.a.t("createToken.tokenNameMsg"),trigger:"blur"}],symbol:[{required:!0,message:F.a.t("createToken.symbolMsg"),trigger:"blur"}],supply:[{required:!0,message:F.a.t("createToken.supplyMsg"),trigger:"blur"}],decimals:[{required:!0,message:F.a.t("createToken.decimalsMsg"),trigger:"blur"}],tokenOwner:[{validator:function(t,r,n){e.createTokenForm.advancedSettings?""!==r?Object(p.k)(r)?n():n(new Error(e.$t("createToken.addressError"))):n(new Error(e.$t("createToken.inputAddressHint"))):n()},trigger:"blur"}],feeAddress:[{validator:function(t,r,n){e.createTokenForm.deflation?""!==r?Object(p.k)(r)?n():n(new Error(e.$t("createToken.addressError"))):n(new Error(e.$t("createToken.inputAddressHint"))):n()},trigger:"blur"}]}}},methods:{jumpUrl:function(e){this.$router.push(e)},mint:function(){var e=this;return Object(a.a)(Object(n.a)().mark((function t(){var r,a;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.adminFrom.mintAddress&&Object(p.k)(e.adminFrom.mintAddress)){t.next=3;break}return e.$message.error(e.$t("createToken.addressError")),t.abrupt("return");case 3:return e.loading.mint=!0,r=e.adminFrom.mintAmount>0?Object(k.d)(e.adminFrom.mintAmount,parseInt(e.adminFrom.decimals)):"0",t.next=7,Object(l.h)(e.adminFrom.contractAddress,e.adminFrom.mintAddress,r);case 7:a=t.sent,e.loading.mint=!1,a&&(e.$message.success(e.$t("success")),e.inAdmin());case 10:case"end":return t.stop()}}),t)})))()},burn:function(){var e=this;return Object(a.a)(Object(n.a)().mark((function t(){var r,a;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading.burn=!0,r=e.adminFrom.burn>0?Object(k.d)(e.adminFrom.burn,parseInt(e.adminFrom.decimals)):"0",t.next=4,Object(l.b)(e.adminFrom.contractAddress,r);case 4:a=t.sent,e.loading.burn=!1,a&&(e.$message.success(e.$t("success")),e.inAdmin());case 7:case"end":return t.stop()}}),t)})))()},addBlackList:function(){var e=this;return Object(a.a)(Object(n.a)().mark((function t(){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.adminFrom.blackAddress&&Object(p.k)(e.adminFrom.blackAddress)){t.next=3;break}return e.$message.error(e.$t("createToken.addressError")),t.abrupt("return");case 3:return e.loading.addBlackList=!0,t.next=6,Object(l.a)(e.adminFrom.contractAddress,e.adminFrom.blackAddress,e.adminFrom.blackFlag);case 6:t.sent&&e.$message.success(e.$t("success")),e.loading.addBlackList=!1;case 9:case"end":return t.stop()}}),t)})))()},paused:function(){var e=this;return Object(a.a)(Object(n.a)().mark((function t(){var r;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=!1,e.loading.paused=!0,!e.adminFrom.paused){t.next=8;break}return t.next=5,Object(l.i)(e.adminFrom.contractAddress);case 5:r=t.sent,t.next=11;break;case 8:return t.next=10,Object(l.l)(e.adminFrom.contractAddress);case 10:r=t.sent;case 11:e.loading.paused=!1,r&&e.$message.success(e.$t("success")),e.inAdmin();case 14:case"end":return t.stop()}}),t)})))()},destroyOwner:function(){var e=this;return Object(a.a)(Object(n.a)().mark((function t(){var r;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$confirm(e.$t("createToken.destroyOwnerTips"),e.$t("tokenLocks.Tips"),{confirmButtonText:e.$t("confirm"),cancelButtonText:e.$t("cancel"),type:"warning"}).then((function(){return!0})).catch((function(){return!1}));case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:return e.loading.destroyOwner=!0,t.next=8,Object(l.j)(e.adminFrom.contractAddress);case 8:r=t.sent,e.loading.destroyOwner=!1,r&&(e.$message.success(e.$t("success")),e.inAdmin());case 11:case"end":return t.stop()}}),t)})))()},updateOwner:function(){var e=this;return Object(a.a)(Object(n.a)().mark((function t(){var r;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.adminFrom.ownerAddress&&Object(p.k)(e.adminFrom.ownerAddress)){t.next=3;break}return e.$message.error(e.$t("createToken.addressError")),t.abrupt("return");case 3:if(e.adminFrom.ownerAddress!==e.adminFrom.owner){t.next=6;break}return e.$message.error(e.$t("createToken.addressSameError")),t.abrupt("return");case 6:return e.loading.updateOwner=!0,t.next=9,Object(l.k)(e.adminFrom.contractAddress,e.adminFrom.ownerAddress);case 9:r=t.sent,e.loading.updateOwner=!1,r&&(e.$message.success(e.$t("success")),e.inAdmin());case 12:case"end":return t.stop()}}),t)})))()},updateFee:function(){var e=this;return Object(a.a)(Object(n.a)().mark((function t(){var r,a;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading.updateFee=!0,r=e.adminFrom.feeAddress?e.adminFrom.feeAddress:"0x0000000000000000000000000000000000000000",t.next=5,Object(l.m)(e.adminFrom.contractAddress,e.adminFrom.txFee,e.adminFrom.burnFee,r);case 5:a=t.sent,e.loading.updateFee=!1,a&&(e.$message.success(e.$t("success")),e.inAdmin());case 8:case"end":return t.stop()}}),t)})))()},tempDestroyOwner:function(){var e=this;return Object(a.a)(Object(n.a)().mark((function t(){var r;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading.tempDestroyOwner=!0,t.next=3,Object(l.g)(e.adminFrom.contractAddress,e.adminFrom.destroyTime);case 3:r=t.sent,e.loading.tempDestroyOwner=!1,r&&(e.$message.success(e.$t("success")),e.inAdmin());case 6:case"end":return t.stop()}}),t)})))()},inAdmin:function(){var e=this;return Object(a.a)(Object(n.a)().mark((function t(){var r;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.inAdminFrom.address&&Object(p.k)(e.inAdminFrom.address)){t.next=3;break}return e.$message.error(e.$t("createToken.addressError")),t.abrupt("return");case 3:if(e.initial){t.next=6;break}return e.$message.error(e.$t("networkError.walletConn")),t.abrupt("return");case 6:return e.loading.inAdmin=!0,t.next=9,Object(l.f)(e.inAdminFrom.address);case 9:if(r=t.sent,e.loading.inAdmin=!1,r.owner&&Object(b.B)(r.owner)===Object(b.B)(e.myAddress)){t.next=16;break}return e.$message.error(e.$t("createToken.PermissionError")+r.owner),e.inAdminFrom.flag=!1,t.abrupt("return");case 16:e.adminFrom.owner=r.owner,e.adminFrom.name=r.name,e.adminFrom.symbol=r.symbol,e.adminFrom.totalSupply=r.totalSupply,e.adminFrom.txFee=r.txFee,e.adminFrom.burnFee=r.burnFee,e.adminFrom.FeeAddress=r.FeeAddress,e.adminFrom.decimals=parseInt(r.decimals),e.adminFrom.paused=r.paused,e.adminFrom.contractAddress=r.contractAddress,e.adminFrom.ownerAddress=r.owner,e.inAdminFrom.flag=!0;case 28:case"end":return t.stop()}}),t)})))()},clipboardSuccess:function(){this.$message.success(this.$t("success"))},onBar:function(e){this.bar=e},onCreateStandardToken:function(e){var t=this;return Object(a.a)(Object(n.a)().mark((function r(){var s;return Object(n.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.initial){r.next=3;break}return t.$message.error(t.$t("networkError.walletConn")),r.abrupt("return");case 3:s=(s=t.getCreateFee())||t.currentFee,t.$refs[e].validate(function(){var e=Object(a.a)(Object(n.a)().mark((function e(r){var a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=8;break}return t.loading.submit=!0,e.next=4,Object(l.c)(t.standardTokenForm.tokenName,t.standardTokenForm.symbol,t.standardTokenForm.decimals,t.standardTokenForm.supply,g.p,s);case 4:(a=e.sent)&&(t.$message.success(t.$t("success")),Object(b.c)(a,t.standardTokenForm.symbol,t.standardTokenForm.decimals)),t.loading.submit=!1;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return r.stop()}}),r)})))()},onCreateToken:function(e){var t=this;return Object(a.a)(Object(n.a)().mark((function r(){var s;return Object(n.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.initial){r.next=3;break}return t.$message.error(t.$t("networkError.walletConn")),r.abrupt("return");case 3:s=(s=t.getCreateFee())||t.currentFee,t.$refs[e].validate(function(){var e=Object(a.a)(Object(n.a)().mark((function e(r){var a,o,c,i;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=11;break}return a=t.createTokenForm.feeAddress?t.createTokenForm.feeAddress:g.l,o=t.createTokenForm.tokenOwner?t.createTokenForm.tokenOwner:t.myAddress,c=Object(b.t)(t.networkId),t.loading.submit=!0,e.next=7,Object(l.d)(t.createTokenForm.tokenName,t.createTokenForm.symbol,t.createTokenForm.decimals,t.createTokenForm.supply,t.createTokenForm.transferFee,t.createTokenForm.burnFee,a,o,g.p,s,t.createTokenForm.type.indexOf("铸币")>-1,c);case 7:(i=e.sent)&&(t.$message.success(t.$t("success")),Object(b.c)(i,t.createTokenForm.symbol,t.createTokenForm.decimals)),t.loading.submit=!1;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return r.stop()}}),r)})))()},getCreateFee:function(){var e=Object(b.w)(this.networkId);return e&&e.createPrice?(this.showFee=e.createPrice,this.baseCoin=e.symbol,c.a.utils.toWei(e.createPrice,"ether")):c.a.utils.toWei("1","ether")}},created:function(){document.body.clientWidth<640&&(this.lWidth="100px"),this.getCreateFee()}},w=v,T=(r("0b03"),r("2877")),y=Object(T.a)(w,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"card"},[t("div",{staticClass:"left"},[t("div",{staticClass:"codeView"},[t("svg-icon",{attrs:{"icon-class":"code"}}),t("a",{attrs:{target:"_blank",href:"https://docs.tokentools.app/token/create-token"}},[e._v(e._s(e.$t("mining.view")))])],1),t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"tokenAdmin"}}),t("h1",[e._v(e._s(e.$t("createToken.createToken")))]),t("p",{staticClass:"desc"},[e._v(e._s(e.$t("createToken.tips1")))]),t("p",{staticClass:"desc"},[e._v(e._s(e.$t("createToken.tips2")))]),t("p",{staticClass:"desc"},[e._v(e._s(e.$t("createToken.tips3")))]),t("p",{staticClass:"desc"},[e._v(e._s(e.$t("createToken.tips4")))]),t("p",{staticClass:"desc"},[e._v(e._s(e.$t("createToken.tips5")))]),t("div",{staticClass:"bottomBtn"},[t("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.jumpUrl("/other/ave/logo")}}},[e._v(e._s(e.$t("menu.aveLogo")))]),t("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.jumpUrl("/lock/create")}}},[e._v("Token Lock")]),t("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.jumpUrl("/other/vanityContractGenerator")}}},[e._v(e._s(e.$t("other.vanityContractGenerator")))])],1)],1),t("div",{staticClass:"right"},[t("div",{staticClass:"rightBox"},[t("div",{staticClass:"tabDiv"},[t("ul",{staticClass:"tabs"},[t("li",{class:1===e.bar?"on":"",on:{click:function(t){return e.onBar(1)}}},[e._v(e._s(e.$t("createToken.createToken")))]),t("li",{class:2===e.bar?"on":"",on:{click:function(t){return e.onBar(2)}}},[e._v(e._s(e.$t("createToken.createAdmin")))])])]),t("div",{staticClass:"formBox",style:1===e.bar?"display: block":"display: none"},[t("el-form",{ref:"standardTokenForm",attrs:{model:e.standardTokenForm,rules:e.rules,"status-icon":"","label-width":e.lWidth}},[t("el-form-item",{attrs:{label:e.$t("createToken.tokenName")+":",prop:"tokenName"}},[t("el-input",{attrs:{placeholder:"Good Luck Token"},model:{value:e.standardTokenForm.tokenName,callback:function(t){e.$set(e.standardTokenForm,"tokenName",t)},expression:"standardTokenForm.tokenName"}})],1),t("el-form-item",{attrs:{label:e.$t("createToken.symbol")+":",prop:"symbol"}},[t("el-input",{attrs:{placeholder:"GLT"},model:{value:e.standardTokenForm.symbol,callback:function(t){e.$set(e.standardTokenForm,"symbol",t)},expression:"standardTokenForm.symbol"}})],1),t("el-form-item",{attrs:{label:e.$t("createToken.initialSupply")+":",prop:"supply"}},[t("el-input",{model:{value:e.standardTokenForm.supply,callback:function(t){e.$set(e.standardTokenForm,"supply",t)},expression:"standardTokenForm.supply"}})],1),t("el-form-item",{attrs:{label:e.$t("createToken.decimals")+"(1-18):",prop:"decimals"}},[t("el-input-number",{attrs:{min:1,max:18},model:{value:e.standardTokenForm.decimals,callback:function(t){e.$set(e.standardTokenForm,"decimals",t)},expression:"standardTokenForm.decimals"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:e.loading.submit},on:{click:function(t){return e.onCreateStandardToken("standardTokenForm")}}},[e._v(e._s(e.$t("createToken.createBtn")))]),t("el-button",{attrs:{type:"success"},on:{click:function(t){return e.jumpUrl("/other/vanityContractGenerator")}}},[e._v(e._s(e.$t("other.vanityContractGenerator")))]),t("el-tag",{staticStyle:{"white-space":"normal",height:"auto"},attrs:{type:"warning"}},[e._v(" "+e._s(e.$t("createToken.createFee"))+": "+e._s(e.showFee)+" "+e._s(e.baseCoin)+" ")])],1)],1)],1),t("div",{staticClass:"formBox",style:2===e.bar?"display: block":"display: none"},[e.inAdminFrom.flag?e._e():t("el-form",{ref:"inAdminFrom",attrs:{model:e.inAdminFrom,"label-width":e.lWidth}},[t("el-form-item",{attrs:{label:e.$t("createToken.tokenAddress")+":"}},[t("el-input",{attrs:{placeholder:e.$t("createToken.inputTokenAddressHint")},model:{value:e.inAdminFrom.address,callback:function(t){e.$set(e.inAdminFrom,"address",t)},expression:"inAdminFrom.address"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:e.loading.inAdmin},on:{click:function(t){return e.inAdmin()}}},[e._v(e._s(e.$t("confirm")))])],1)],1),e.inAdminFrom.flag?t("el-form",{ref:"adminFrom",attrs:{model:e.adminFrom,"label-width":e.lWidth}},[t("el-form-item",{attrs:{label:e.$t("createToken.tokenName")+":"}},[t("el-tag",[e._v(e._s(e.adminFrom.name)+" "),t("el-link",{attrs:{target:"_blank",href:"/other/ave/logo"}},[e._v(e._s(e.$t("menu.aveLogo"))),t("i",{staticClass:"el-icon-user-solid el-icon--right"})])],1)],1),t("el-form-item",{attrs:{label:e.$t("createToken.supply")+":"}},[t("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.decimalsCarry(e.adminFrom.totalSupply,e.adminFrom.decimals)))])],1),t("el-form-item",{attrs:{label:e.$t("createToken.ownerAddress")+":"}},[t("el-input",{staticClass:"oper",attrs:{placeholder:e.$t("createToken.inputTokenAddressHint")},model:{value:e.adminFrom.ownerAddress,callback:function(t){e.$set(e.adminFrom,"ownerAddress",t)},expression:"adminFrom.ownerAddress"}}),t("el-button",{attrs:{type:"primary",loading:e.loading.updateOwner},on:{click:function(t){return e.updateOwner()}}},[e._v(e._s(e.$t("confirm")))])],1),t("el-form-item",{attrs:{label:e.$t("createToken.destroyOwner")+":"}},[t("el-button",{attrs:{type:"danger",loading:e.loading.destroyOwner},on:{click:function(t){return e.destroyOwner()}}},[e._v(e._s(e.$t("confirm")))])],1)],1):e._e()],1),t("div",{staticClass:"tips"},[e._v(e._s(e.$t("createToken.warmTips")))])])])]),t("el-dialog",{attrs:{title:e.$t("createToken.contractCode"),visible:e.dialog.contractCode,width:"50%",center:""},on:{"update:visible":function(t){return e.$set(e.dialog,"contractCode",t)}}},[t("div",{staticStyle:{height:"300px","overflow-y":"scroll"}},[t("json-editor",{ref:"jsonEditor",model:{value:e.contractCode,callback:function(t){e.contractCode=t},expression:"contractCode"}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialog.contractCode=!1}}},[e._v(e._s(e.$t("cancel")))]),t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.contractCode,expression:"contractCode",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.clipboardSuccess,expression:"clipboardSuccess",arg:"success"}],attrs:{type:"primary",icon:"el-icon-document-copy"}},[e._v(e._s(e.$t("copy")))])],1)])],1)}),[],!1,null,"d9c3bb2c",null);t.default=y.exports}}]);