(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-b636c6b4"],{"15ae":function(e,t,a){},"1c81":function(e){e.exports=JSON.parse('{"contractName":"Multicall2","abi":[{"inputs":[{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall2.Call[]","name":"calls","type":"tuple[]"}],"name":"aggregate","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"},{"internalType":"bytes[]","name":"returnData","type":"bytes[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall2.Call[]","name":"calls","type":"tuple[]"}],"name":"blockAndAggregate","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"},{"internalType":"bytes32","name":"blockHash","type":"bytes32"},{"components":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"internalType":"struct Multicall2.Result[]","name":"returnData","type":"tuple[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"}],"name":"getBlockHash","outputs":[{"internalType":"bytes32","name":"blockHash","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBlockNumber","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockCoinbase","outputs":[{"internalType":"address","name":"coinbase","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockDifficulty","outputs":[{"internalType":"uint256","name":"difficulty","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockGasLimit","outputs":[{"internalType":"uint256","name":"gaslimit","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockTimestamp","outputs":[{"internalType":"uint256","name":"timestamp","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"getEthBalance","outputs":[{"internalType":"uint256","name":"balance","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLastBlockHash","outputs":[{"internalType":"bytes32","name":"blockHash","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"requireSuccess","type":"bool"},{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall2.Call[]","name":"calls","type":"tuple[]"}],"name":"tryAggregate","outputs":[{"components":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"internalType":"struct Multicall2.Result[]","name":"returnData","type":"tuple[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"requireSuccess","type":"bool"},{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall2.Call[]","name":"calls","type":"tuple[]"}],"name":"tryBlockAndAggregate","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"},{"internalType":"bytes32","name":"blockHash","type":"bytes32"},{"components":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"internalType":"struct Multicall2.Result[]","name":"returnData","type":"tuple[]"}],"stateMutability":"nonpayable","type":"function"}]}')},"1f42":function(e,t,a){"use strict";a.r(t),a("4de4"),a("b0c0"),a("d3b7");var r=a("c7eb"),i=a("b85c"),s=a("1da1"),n=(a("c740"),a("d81d"),a("14d9"),a("13d5"),a("a434"),a("b680"),a("ac1f"),a("25f0"),a("3ca3"),a("5319"),a("2ca0"),a("498a"),a("159b"),a("ddb0"),a("ed08")),l=a("b893"),o=a("c0d8"),c=a.n(o),u=a("901e"),p=a.n(u),d=a("2f62"),m=a("8325"),f=(a("a9e3"),a("b64b"),a("05b3")),b=a("ec1b"),g=a.n(b),h=(a("79fa"),a("404b")),y={name:"evmMintDrawer",props:{dialogShow:{type:Boolean,default:!1,required:!0},chainId:{type:Number,default:null,required:!0},rpcNode:{type:String,default:null,required:!0},type:{type:Number,default:null,required:!0},showReceiveAddress:{type:Boolean,default:!0}},computed:Object(d.d)({device:function(e){return e.app.device},myAddress:function(e){return e.dapp.web3.account},showGasPrice:function(){if(new p.a(this.gas.normalEnd).multipliedBy(25e3).isZero())return 0;var e=new p.a(this.gas.normalEnd).multipliedBy(25e3).toNumber();return parseFloat(Object(n.e)(parseInt(e),9)).toFixed(6)+this.global.symbol}}),components:{CountTo:g.a},watch:{initial:function(e){e&&this.walletConn()},processIndex:function(){this.processIndex===this.maxIndex&&(this.loading.call=!1)}},data:function(){return{global:{symbol:null,chainId:null},form:{hexString:"",stringHex:"0x",hexType:1,feeType:1,gasPriceType:1,gasPrice:3,isLimitAutoGetGweiMax:!1,limitAutoGweiMax:0,gasPriceFrom:100,gasPriceTo:200,maxFee:0,priorityFee:0,slider:0,gasLimitType:1,gasLimitFrom:2e5,gasLimitTo:3e5,gasLimit:2e5,isSendSelf:!0,receiveAddress:""},gas:{speedStart:0,speedEnd:0,normalStart:0,normalEnd:0,slowStart:0,slowEnd:0,time:null,maxFee:0,priorityFee:0},loading:{gas:!1},item:null,timer:null,hexString:'data:,{"p":"asc-20","op":"mint","tick":"aval","amt":"100000000"}'}},methods:{walletConn:function(){this.form.receiveAddress||(this.form.receiveAddress=this.myAddress)},setGas:function(e){this.form.gasPrice=e.toFixed(1)},handleClose:function(e){},cancelForm:function(){this.$emit("closeDrawer")},confirm:function(){var e=this;return Object(s.a)(Object(r.a)().mark((function t(){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==e.form.gasPriceType){t.next=9;break}if(1!==e.form.feeType){t.next=5;break}if(e.form.gasPrice){t.next=5;break}return e.$message.error("GasPrice 不能为空！"),t.abrupt("return");case 5:if(2!==e.form.feeType){t.next=9;break}if(e.form.maxFee&&e.form.priorityFee){t.next=9;break}return e.$message.error("GasPrice 不能为空！"),t.abrupt("return");case 9:if(2!==e.form.gasPriceType){t.next=14;break}if(!e.form.isLimitAutoGetGweiMax){t.next=14;break}if(e.form.limitAutoGweiMax){t.next=14;break}return e.$message.error("MAX Gas(Gwei)  不能为空！"),t.abrupt("return");case 14:if(3!==e.form.gasPriceType){t.next=18;break}if(e.form.gasPriceFrom&&e.form.gasPriceTo){t.next=18;break}return e.$message.error("Gas Price 随机范围不能为空！"),t.abrupt("return");case 18:if(1!==e.form.gasLimitType){t.next=22;break}if(e.form.gasLimit&&!(e.form.gasLimit<=0)){t.next=22;break}return e.$message.error("Gas Limit 设置有误！"),t.abrupt("return");case 22:if(3!==e.form.gasLimitType){t.next=26;break}if(e.form.gasLimitFrom&&e.form.gasLimitTo){t.next=26;break}return e.$message.error("Gas Limit 范围设置有误！"),t.abrupt("return");case 26:if(e.form.isSendSelf){t.next=30;break}if(e.form.receiveAddress&&c.a.utils.isAddress(e.form.receiveAddress)){t.next=30;break}return e.$message.error("接收地址不能为空或者有误！"),t.abrupt("return");case 30:if(1!==e.form.hexType){t.next=34;break}if(e.form.stringHex){t.next=34;break}return e.$message.error("十六进制参数不能为空"),t.abrupt("return");case 34:if(2!==e.form.hexType){t.next=38;break}if(e.form.hexString){t.next=38;break}return e.$message.error("文本参数不能为空"),t.abrupt("return");case 38:e.$emit("confirmDrawer",{params:e.form});case 39:case"end":return t.stop()}}),t)})))()},loadGas:function(){var e=this;return Object(s.a)(Object(r.a)().mark((function t(){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading.gas=!0,t.next=3,e.getGasPrice();case 3:e.loading.gas=!1,e.get1559GasPrice();case 5:case"end":return t.stop()}}),t)})))()},get1559GasPrice:function(){var e=this;return Object(s.a)(Object(r.a)().mark((function t(){var a,i,s,n,l,o,c;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.web3){t.next=14;break}return t.next=3,e.web3.eth.getFeeHistory(10,"latest",[25,75]);case 3:if((a=t.sent).reward&&!(a.reward.length<10)){t.next=6;break}return t.abrupt("return");case 6:for(i=[],s=0;s<10;s++)i.push({blockNumber:Number(a.oldestBlock)+s,reward:a.reward[s].map((function(e){return parseFloat(e/1e9)})),baseFeePerGas:Math.round(Number(a.baseFeePerGas[s])/Math.pow(10,9)),gasUsedRatio:a.gasUsedRatio[s]});n=i.reduce((function(e,t){return new p.a(t.baseFeePerGas).plus(e)}),0).dividedBy(i.length),e.gas.maxFee=n.multipliedBy(1.63).toFixed(0),l=i.reduce((function(e,t){return new p.a(t.reward[0]).plus(e)}),0).dividedBy(i.length),o=i.reduce((function(e,t){return new p.a(t.reward[1]).plus(e)}),0).dividedBy(i.length),c=l.plus(o),e.gas.priorityFee=c.multipliedBy(.27).toFixed(2);case 14:case"end":return t.stop()}}),t)})))()},getGasPrice:function(){var e=this;return Object(s.a)(Object(r.a)().mark((function t(){var a,i;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.web3){t.next=13;break}return t.next=3,e.web3.eth.getGasPrice();case 3:a=t.sent,i=c.a.utils.fromWei(a,"gwei"),e.gas.slowStart=e.gas.slowEnd,e.gas.slowEnd=new p.a(i).toNumber(),e.gas.normalStart=e.gas.normalEnd,e.gas.normalEnd=new p.a(i).plus(1).toNumber(),e.gas.speedStart=e.gas.speedEnd,e.gas.speedEnd=new p.a(i).plus(2).toNumber(),e.gas.time=Object(n.o)(new Date),e.form.gasPrice=e.gas.speedEnd.toFixed(1);case 13:case"end":return t.stop()}}),t)})))()},getAnalyze:function(){var e=this;return Object(s.a)(Object(r.a)().mark((function t(){var a,i,s;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=e.$route.query.analyze)){t.next=7;break}return t.next=5,Object(h.d)(a,e.type);case 5:(i=t.sent)&&(s=JSON.parse(i),e.form.hexString=s.hexString,e.form.stringHex=s.stringHex,e.form.hexType=s.hexType,e.form.feeType=s.feeType,e.form.gasPriceType=s.gasPriceType,e.form.gasPrice=s.gasPrice,e.form.isLimitAutoGetGweiMax=s.isLimitAutoGetGweiMax,e.form.limitAutoGweiMax=s.limitAutoGweiMax,e.form.gasPriceFrom=s.gasPriceFrom,e.form.gasPriceTo=s.gasPriceTo,e.form.maxFee=s.maxFee,e.form.priorityFee=s.priorityFee,e.form.slider=s.slider,e.form.gasLimitType=s.gasLimitType,e.form.gasLimitFrom=s.gasLimitFrom,e.form.gasLimitTo=s.gasLimitTo,e.form.gasLimit=s.gasLimit,e.form.isSendSelf=s.isSendSelf,e.form.receiveAddress=s.receiveAddress,e.form.hex=s.hex);case 7:case"end":return t.stop()}}),t)})))()},initialData:function(){var e=this,t=Object(l.n)(this.chainId);this.web3=new c.a(new c.a.providers.HttpProvider(t.rpcUrls[0])),this.global.symbol=t.symbol,this.global.chainId=t.chainId,this.getGasPrice(),this.get1559GasPrice().then((function(){e.form.maxFee=e.gas.maxFee,e.form.priorityFee=e.gas.priorityFee})),this.item=f.c.filter((function(t){return t.chainId===e.chainId}))[0],this.getAnalyze(),this.walletConn(),this.timer&&clearInterval(this.timer),this.timer=setInterval(this.get1559GasPrice,15e3)}},created:function(){this.initialData()},destroyed:function(){this.timer&&clearInterval(this.timer)}},v=y,x=(a("3da7"),a("2877")),w=Object(x.a)(v,(function(){var e=this,t=e._self._c;return t("el-drawer",{attrs:{"before-close":e.handleClose,visible:e.dialogShow,withHeader:!1,"show-close":!1,"close-on-press-escape":!1,direction:"rtl",size:"mobile"===e.device?"400px":"520px"},on:{"update:visible":function(t){e.dialogShow=t}}},[t("div",{staticClass:"dialogBox"},[t("div",{staticClass:"gasList"},[t("ul",{staticClass:"ul"},[t("li",{on:{click:function(t){return e.setGas(e.gas.speedEnd)}}},[t("div",{staticClass:"iconBox fast-bg"},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"kuaisu"}})],1),t("h5",{staticClass:"speed"},[e._v(e._s(e.$t("gasPrice.fast")))]),t("count-to",{staticClass:"num fast",attrs:{"start-val":e.gas.speedStart,"end-val":e.gas.speedEnd,decimals:1,duration:2600}})],1),t("li",{on:{click:function(t){return e.setGas(e.gas.normalEnd)}}},[t("div",{staticClass:"iconBox normal-bg"},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"zhengchang"}})],1),t("h5",{staticClass:"speed"},[e._v(e._s(e.$t("gasPrice.normal")))]),t("count-to",{staticClass:"num normal",attrs:{"start-val":e.gas.normalStart,"end-val":e.gas.normalEnd,decimals:1,duration:2600}})],1),t("li",{on:{click:function(t){return e.setGas(e.gas.slowEnd)}}},[t("div",{staticClass:"iconBox slow-bg"},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"man"}})],1),t("h5",{staticClass:"speed"},[e._v(e._s(e.$t("gasPrice.slow")))]),t("count-to",{staticClass:"num slow",attrs:{"start-val":e.gas.slowStart,"end-val":e.gas.slowEnd,decimals:1,duration:2600}})],1)]),t("div",{staticClass:"right"},[t("div",{staticClass:"iconBox"},[t("svg-icon",{staticClass:"icon",style:void 0===e.item.color?"":"color: "+e.item.color,attrs:{"icon-class":e.item.icon}})],1),t("p",{staticClass:"chainName"},[e._v(e._s(e.global.symbol))]),t("p",{staticClass:"time"},[e._v(e._s(e.gas.time))]),t("div",{staticClass:"row"},[t("el-button",{attrs:{loading:e.loading.gas,type:"primary",size:"mini",icon:"el-icon-refresh-right",circle:""},on:{click:function(t){return e.loadGas()}}})],1)])]),t("el-form",{attrs:{model:e.form,"label-position":"left"}},[t("ul",{staticClass:"gasTips",style:"visibility: "+(2===e.form.feeType?"visible":"hidden")},[t("li",[t("span",{staticClass:"label"},[e._v("Max Fee：")]),t("span",{staticClass:"value"},[e._v(e._s(e.gas.maxFee))])]),t("li",[t("span",{staticClass:"label"},[e._v("Priority Fee：")]),t("span",{staticClass:"value"},[e._v(e._s(e.gas.priorityFee))])])]),t("el-form-item",{attrs:{prop:"gasPrice"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("div",{staticClass:"labelBoxLeft"},[t("div",{staticStyle:{display:"inline-block","z-index":"999",position:"relative"}},[e._v(" Gas Price(gwei) "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"钱包最少拥有"+e.showGasPrice,placement:"top"}},[t("i",{staticClass:"el-icon-warning tipsIcon"})])],1)]),t("div",{staticClass:"labelBoxRight"},[t("el-switch",{directives:[{name:"show",rawName:"v-show",value:1===e.form.gasPriceType,expression:"form.gasPriceType === 1"}],attrs:{"inactive-value":1,"active-value":2,"active-text":"EIP-1559"},model:{value:e.form.feeType,callback:function(t){e.$set(e.form,"feeType",t)},expression:"form.feeType"}}),t("span",{directives:[{name:"show",rawName:"v-show",value:1!==e.form.gasPriceType,expression:"form.gasPriceType !== 1"}],staticClass:"label",staticStyle:{"margin-left":"20px"}},[e._v(" 浮动Gas % "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Gas + ?%",placement:"top"}},[t("i",{staticClass:"el-icon-warning tipsIcon"})])],1)],1)]),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:12,xs:24}},[t("el-radio-group",{attrs:{size:"mini"},model:{value:e.form.gasPriceType,callback:function(t){e.$set(e.form,"gasPriceType",t)},expression:"form.gasPriceType"}},[t("el-radio-button",{attrs:{label:1}},[e._v("固定")]),t("el-radio-button",{attrs:{label:2}},[e._v("自动")]),t("el-radio-button",{attrs:{label:3}},[e._v("随机")])],1)],1),t("el-col",{attrs:{span:12,xs:24}},[1===e.form.feeType&&1===e.form.gasPriceType?t("el-input",{directives:[{name:"show",rawName:"v-show",value:1===e.form.gasPriceType,expression:"form.gasPriceType === 1"}],staticStyle:{width:"100%"},attrs:{size:"mini"},model:{value:e.form.gasPrice,callback:function(t){e.$set(e.form,"gasPrice",t)},expression:"form.gasPrice"}}):e._e(),t("el-slider",{directives:[{name:"show",rawName:"v-show",value:2===e.form.gasPriceType,expression:"form.gasPriceType === 2"}],attrs:{min:0,max:100,"show-input":""},model:{value:e.form.slider,callback:function(t){e.$set(e.form,"slider",t)},expression:"form.slider"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:3===e.form.gasPriceType,expression:"form.gasPriceType === 3"}],staticClass:"randowTimeForm"},[t("el-input",{attrs:{size:"mini"},model:{value:e.form.gasPriceFrom,callback:function(t){e.$set(e.form,"gasPriceFrom",t)},expression:"form.gasPriceFrom"}}),t("div",{staticClass:"flag"},[e._v("-")]),t("el-input",{attrs:{size:"mini"},model:{value:e.form.gasPriceTo,callback:function(t){e.$set(e.form,"gasPriceTo",t)},expression:"form.gasPriceTo"}})],1)],1)],1)],1),2===e.form.feeType&&1===e.form.gasPriceType?t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:12,xs:24}},[t("el-form-item",{attrs:{prop:"maxFee"}},[t("div",{attrs:{slot:"label"},slot:"label"},[t("span",[e._v("Max Fee：")])]),t("el-input",{attrs:{size:"mini",clearable:""},model:{value:e.form.maxFee,callback:function(t){e.$set(e.form,"maxFee",t)},expression:"form.maxFee"}})],1)],1),t("el-col",{attrs:{span:12,xs:24}},[t("el-form-item",{attrs:{prop:"priorityFee",label:"Priority Fee"}},[t("div",{attrs:{slot:"label"},slot:"label"},[t("span",[e._v("Priority Fee：")])]),t("el-input",{attrs:{size:"mini",clearable:""},model:{value:e.form.priorityFee,callback:function(t){e.$set(e.form,"priorityFee",t)},expression:"form.priorityFee"}})],1)],1)],1):e._e(),2===e.form.gasPriceType?t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:12,xs:24}},[t("el-form-item",{attrs:{prop:"isLimitAutoGetGweiMax"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(" 限制自动获取Gwei 最大值 "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"限制自动获取Gwei 最大值",placement:"top"}},[t("i",{staticClass:"el-icon-warning tipsIcon"})])],1)]),t("el-switch",{attrs:{"inactive-value":!1,"active-value":!0},model:{value:e.form.isLimitAutoGetGweiMax,callback:function(t){e.$set(e.form,"isLimitAutoGetGweiMax",t)},expression:"form.isLimitAutoGetGweiMax"}})],1)],1),t("el-col",{directives:[{name:"show",rawName:"v-show",value:e.form.isLimitAutoGetGweiMax,expression:"form.isLimitAutoGetGweiMax"}],attrs:{span:12,xs:24}},[t("el-form-item",{attrs:{prop:"maxGasPrice"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(" MAX Gas(Gwei) "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"自动获取的gas超过填写的Max Gwei则暂停发送",placement:"top"}},[t("i",{staticClass:"el-icon-warning tipsIcon"})])],1)]),t("el-input",{attrs:{size:"mini",clearable:""},model:{value:e.form.limitAutoGweiMax,callback:function(t){e.$set(e.form,"limitAutoGweiMax",t)},expression:"form.limitAutoGweiMax"}})],1)],1)],1):e._e(),t("el-form-item",{attrs:{prop:"gasLimit",label:"Gas Limit"}},[t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:12,xs:24}},[t("el-radio-group",{attrs:{size:"mini"},model:{value:e.form.gasLimitType,callback:function(t){e.$set(e.form,"gasLimitType",t)},expression:"form.gasLimitType"}},[t("el-radio-button",{attrs:{label:1}},[e._v("固定")]),t("el-radio-button",{attrs:{label:2}},[e._v("自动")]),t("el-radio-button",{attrs:{label:3}},[e._v("随机")])],1)],1),t("el-col",{attrs:{span:12,xs:24}},[1===e.form.gasLimitType?t("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini"},model:{value:e.form.gasLimit,callback:function(t){e.$set(e.form,"gasLimit",t)},expression:"form.gasLimit"}}):3===e.form.gasLimitType?t("div",{staticClass:"randowTimeForm"},[t("el-input",{attrs:{size:"mini"},model:{value:e.form.gasLimitFrom,callback:function(t){e.$set(e.form,"gasLimitFrom",t)},expression:"form.gasLimitFrom"}}),t("div",{staticClass:"flag"},[e._v("-")]),t("el-input",{attrs:{size:"mini"},model:{value:e.form.gasLimitTo,callback:function(t){e.$set(e.form,"gasLimitTo",t)},expression:"form.gasLimitTo"}})],1):e._e()],1)],1)],1),t("el-form-item",{attrs:{prop:"receiveAddress"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v("接收地址或合约地址(to)")]),t("div",{staticClass:"randowSenderNumber"},[t("el-switch",{attrs:{"active-text":"转给自己"},model:{value:e.form.isSendSelf,callback:function(t){e.$set(e.form,"isSendSelf",t)},expression:"form.isSendSelf"}})],1)]),e.form.isSendSelf?e.form.isSendSelf?t("div",{staticClass:"inputSendSelf"},[t("el-input",{attrs:{disabled:!0}}),t("span",{staticClass:"inputSendSelf_text"},[e._v("转给自己")])],1):e._e():t("el-input",{attrs:{clearable:""},model:{value:e.form.receiveAddress,callback:function(t){e.$set(e.form,"receiveAddress",t)},expression:"form.receiveAddress"}})],1),t("el-form-item",{attrs:{label:e.$t("batchCallAbi.hex"),prop:"hex"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("el-radio-group",{attrs:{size:"mini"},model:{value:e.form.hexType,callback:function(t){e.$set(e.form,"hexType",t)},expression:"form.hexType"}},[t("el-radio-button",{attrs:{label:1}},[e._v("16进制模式")]),t("el-radio-button",{attrs:{label:2}},[e._v("文本模式")])],1)],1),t("el-input",{directives:[{name:"show",rawName:"v-show",value:1===e.form.hexType,expression:"form.hexType === 1"}],staticClass:"textareaBox",attrs:{placeholder:"0x....",type:"textarea",rows:4},model:{value:e.form.stringHex,callback:function(t){e.$set(e.form,"stringHex",t)},expression:"form.stringHex"}}),t("el-input",{directives:[{name:"show",rawName:"v-show",value:2===e.form.hexType,expression:"form.hexType === 2"}],staticClass:"textareaBox",attrs:{placeholder:e.hexString,type:"textarea",rows:4},model:{value:e.form.hexString,callback:function(t){e.$set(e.form,"hexString",t)},expression:"form.hexString"}})],1),t("div",{staticClass:"btnBox"},[t("el-button",{staticClass:"btn",on:{click:function(t){return e.cancelForm()}}},[e._v(e._s(e.$t("cancel")))]),t("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){return e.confirm()}}},[e._v(e._s(e.$t("confirm")))])],1)],1)],1)])}),[],!1,null,"ce33b840",null),T=w.exports,C=a("3210"),k=a("7b64"),S=a("3e80"),_=a("7f80"),P=(a("7052"),a("c030")),F={name:"batchTransfer",computed:Object(d.d)({initial:function(e){return e.dapp.web3.initial},myAddress:function(e){return e.dapp.web3.account},networkId:function(e){return e.dapp.web3.networkId},device:function(e){return e.app.device},sunBalance:function(){return this.privateKeyObj&&this.privateKeyObj.length>0?this.privateKeyObj.reduce((function(e,t){return new p.a(t.balance).plus(e)}),0).toFixed(4):new p.a(0).toFixed(0)},addressCount:function(){return this.privateKeyObj?this.privateKeyObj.length:0},progress:function(){return 0===this.maxIndex?0:100*parseFloat(this.processIndex/this.maxIndex)}}),directives:{clipboard:m.a},components:{BatchCallDrawer:T,ErrorLogs:C.a},watch:{processIndex:function(){this.processIndex===this.maxIndex&&(this.loading.call=!1)}},data:function(){return{hiddenAddress:n.l,downFixed:l.l,gasPriceList:[],global:{symbol:null,chainId:null,baseUrl:null,rpcNode:null,provider:null,multicallAddress:null},dialog:{dialogShow:!1,import:!1,getChainId:!1},loading:{tableData:!1,import:!1,download:!1,call:!1,progressShow:!1},setting:{randomDelay:!1,isAsync:!1,delayTime:0,delayStart:0,delayEnd:1,cycles:1},importText:"",privateKeyObj:[],multipleSelection:[],processIndex:0,maxIndex:0,query:"",runFlag:!0,item:null}},methods:{openUrl:function(e){window.open(e,"_blank")},jumpRouter:function(e){var t=this;this.$router.push({query:{chainId:e.chainId}}),this.initialData(),this.$nextTick((function(){t.$refs.drawer.initialData()}))},stopSwap:function(){this.runFlag=!1,this.loading.call=!1},getLogs:function(){this.$store.dispatch("errorLog/showTxDialog")},addLogs:function(e,t,a,r,i){var s,l={isError:e};s=e?"["+Object(n.o)(new Date)+" | "+Object(n.l)(t)+" ] nonce："+a+" error："+i:"["+Object(n.o)(new Date)+" | "+Object(n.l)(t)+" ] nonce："+a+" send tx："+r,l.text=s,this.$store.dispatch("errorLog/addTxErrorLog",l)},confirmDrawer:function(e){var t=this;return Object(s.a)(Object(r.a)().mark((function a(){var s,n,l,o,u;return Object(r.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=e.params,t.dialog.dialogShow=!1,t.dialog.getChainId=!1,t.loading.progressShow=!0,t.loading.call=!0,t.runFlag=!0,t.processIndex=0,t.maxIndex=t.$refs.multipleTable.selection.length<=0?t.privateKeyObj.length:t.$refs.multipleTable.selection.length,n=t.$refs.multipleTable.selection.length<=0?t.privateKeyObj:t.$refs.multipleTable.selection,a.prev=10,!t.global.rpcNode.startsWith("wss://")&&!t.global.rpcNode.startsWith("ws://")){a.next=21;break}return t.global.web3=new c.a(new c.a.providers.WebsocketProvider(t.global.rpcNode)),a.next=15,t.global.web3.eth.getChainId();case 15:return t.global.chainId=a.sent,t.global.provider=new k.a(t.global.rpcNode),a.next=19,t.global.provider.getBlockNumber();case 19:a.next=28;break;case 21:return t.global.web3=new c.a(new c.a.providers.HttpProvider(t.global.rpcNode)),a.next=24,t.global.web3.eth.getChainId();case 24:return t.global.chainId=a.sent,t.global.provider=new S.a(t.global.rpcNode),a.next=28,t.global.provider.getBlockNumber();case 28:a.next=35;break;case 30:return a.prev=30,a.t0=a.catch(10),t.dialog.getChainId=!0,a.abrupt("return");case 35:return a.next=37,t.getWeb3Balance(t.privateKeyObj);case 37:l=Object(i.a)(n),a.prev=38,l.s();case 40:if((o=l.n()).done){a.next=52;break}if(u=o.value,t.runFlag){a.next=44;break}return a.abrupt("return");case 44:if(!t.setting.isAsync){a.next=48;break}t.sendCallAbi(u,s),a.next=50;break;case 48:return a.next=50,t.sendCallAbi(u,s);case 50:a.next=40;break;case 52:a.next=57;break;case 54:a.prev=54,a.t1=a.catch(38),l.e(a.t1);case 57:return a.prev=57,l.f(),a.finish(57);case 60:case"end":return a.stop()}}),a,null,[[10,30],[38,54,57,60]])})))()},sendCallAbi:function(e,t){var a=this;return Object(s.a)(Object(r.a)().mark((function i(){var s,o,u,d,m,f,b,g,h,y,v,x,w,T,C,k;return Object(r.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s=new P.Wallet(e.prv.replace("0x","")),o=s.connect(a.global.provider),i.next=4,a.global.web3.eth.getTransactionCount(s.address).catch((function(e){return 0}));case 4:return e.nonce=i.sent,i.next=7,a.global.web3.eth.getBalance(s.address).catch((function(e){return 0}));case 7:if(u=i.sent,e.balance=Object(n.e)(u),e.balanceStatus=1,!(e.balance<=0)){i.next=16;break}return e.resultStatus=2,e.resultErrorMsg="Insufficient balance",a.addLogs(!0,s.address,e.nonce,null,e.resultErrorMsg),a.processIndex++,i.abrupt("return");case 16:if(d=1===t.hexType?Object(l.F)(t.stringHex,s.address):c.a.utils.utf8ToHex(t.hexString.trim()),1===t.gasLimitType&&(m=t.gasLimit),3===t.gasLimitType&&(m=Object(n.i)(t.gasLimitFrom,t.gasLimitTo)),2!==t.feeType){i.next=24;break}b=c.a.utils.toWei(t.maxFee.toString(),"gwei"),g=c.a.utils.toWei(t.priorityFee.toString(),"gwei"),i.next=39;break;case 24:if(1===t.gasPriceType&&(f=c.a.utils.toWei(t.gasPrice.toString(),"gwei")),2!==t.gasPriceType){i.next=38;break}return i.next=28,a.global.web3.eth.getGasPrice();case 28:if(f=i.sent,t.slider>0&&(f=Math.ceil(f*(1+t.slider/100))),!t.isLimitAutoGetGweiMax){i.next=38;break}if(h=c.a.utils.toWei(t.limitAutoGweiMax.toString()),!(f>h)){i.next=38;break}return e.resultStatus=2,e.resultErrorMsg="Exceed Max Limit",a.processIndex++,i.abrupt("return");case 38:3===t.gasPriceType&&(y=Object(n.i)(t.gasPriceFrom,t.gasPriceTo),f=c.a.utils.toWei(y.toString(),"gwei"));case 39:if(v=t.isSendSelf?s.address:t.receiveAddress,2!==t.gasLimitType){i.next=52;break}return x={to:v,from:s.address,nonce:e.nonce,type:t.feeType,data:d,value:"0"},1===t.feeType?x.gasPrice="0x"+new p.a(f).toString(16):(x.maxFeePerGas="0x"+new p.a(b).toString(16),x.maxPriorityFeePerGas="0x"+new p.a(g).toString(16)),i.next=46,o.estimateGas(x).catch((function(t){return e.resultStatus=2,e.resultErrorMsg=t.reason,a.addLogs(!0,s.address,e.nonce,null,t.body),!1}));case 46:if(w=i.sent){i.next=50;break}return a.processIndex++,i.abrupt("return");case 50:m=w.toNumber();case 52:T=Object(r.a)().mark((function i(){var l,c,u,h;return Object(r.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.runFlag){r.next=2;break}return r.abrupt("return",{v:void 0});case 2:return l={to:v,from:s.address,nonce:e.nonce,type:t.feeType,gasLimit:"0x"+new p.a(m).toString(16),data:d,value:"0"},1===t.feeType?l.gasPrice="0x"+new p.a(f).toString(16):(l.maxFeePerGas="0x"+new p.a(b).toString(16),l.maxPriorityFeePerGas="0x"+new p.a(g).toString(16)),r.next=7,o.sendTransaction(l).catch((function(t){return e.resultStatus=2,e.resultErrorMsg=t.reason,a.addLogs(!0,s.address,e.nonce,null,e.resultErrorMsg),a.global.web3.eth.getTransactionCount(s.address).then((function(t){e.nonce=t})),!1}));case 7:if((c=r.sent)&&(e.resultStatus=1,e.resultTx=c.hash,a.addLogs(!1,s.address,e.nonce,e.resultTx,null),e.nonce=e.nonce+1),!a.setting.randomDelay){r.next=22;break}if(a.setting.delayStart!==a.setting.delayEnd){r.next=18;break}if(!((u=1e3*a.setting.delayEnd)>0)){r.next=16;break}return r.next=16,new Promise((function(e){return setTimeout(e,u)}));case 16:r.next=22;break;case 18:if(!((h=Object(n.i)(1e3*a.setting.delayStart,1e3*a.setting.delayEnd))>0)){r.next=22;break}return r.next=22,new Promise((function(e){return setTimeout(e,h)}));case 22:case"end":return r.stop()}}),i)})),k=0;case 54:if(!(k<parseInt(a.setting.cycles))){i.next=62;break}return i.delegateYield(T(),"t0",56);case 56:if(!(C=i.t0)){i.next=59;break}return i.abrupt("return",C.v);case 59:k++,i.next=54;break;case 62:a.processIndex++;case 63:case"end":return i.stop()}}),i)})))()},handleSelectionChange:function(e){this.multipleSelection=e},importAddress:function(){var e=this;if(this.importText){this.loading.import=!0;var t=this.importText.split("\n");this.privateKeyObj=[];var a=1,r=new Promise((function(r){setTimeout((function(){var s,n=Object(i.a)(t);try{var l=function(){var t=s.value;try{if(!t)return 0;var r=e.global.web3.eth.accounts.privateKeyToAccount(t,!0);if(e.privateKeyObj.findIndex((function(e){return e.address===r.address}))>-1)return 0;e.privateKeyObj.push({address:r.address,id:a++,prv:t,nonce:0,balance:0,balanceStatus:0,resultStatus:0,resultErrorMsg:"",resultTx:""})}catch(e){}};for(n.s();!(s=n.n()).done;)l()}catch(e){n.e(e)}finally{n.f()}r()}),100)}));r.then((function(){e.loading.import=!1,e.$message.success(e.$t("success")),e.dialog.import=!1,e.getWeb3Balance(e.privateKeyObj)}))}else this.$message.error(this.$t("batchCollection.textNull"))},addtokenClosed:function(){this.importText="",this.query=""},handleDelete:function(e,t){t.splice(e,1)},selectBalance:function(){this.getWeb3Balance(this.privateKeyObj)},getWeb3Balance:function(e){var t=this;if(e&&0!==e.length){this.loading.tableData=!0;var a=[];e.forEach((function(e){var r=e.address.replace("0x","");a.push({target:t.global.multicallAddress,callData:"0x4d2301cc000000000000000000000000".concat(r)})})),Object(_.d)(this.global.multicallAddress,a,this.global.web3).then((function(a){for(var r=0;r<e.length;r++){var i=t.global.web3.eth.abi.decodeParameter("uint256",a[r].returnData);e[r].balance=Object(n.e)(i),e[r].balanceStatus=1}})).finally((function(){t.loading.tableData=!1}))}},jumpTutorial:function(){window.open("https://docs.tokentools.app/multi/batch-transfer","_blank")},jumpToken:function(){var e=this.$route.path,t=e.substring(e.lastIndexOf("/"));window.open("/oneToMore"+t,"_blank")},jumpCreateWallet:function(){var e=this.$route.path,t=e.substring(e.lastIndexOf("/"));window.open("/createWallet"+t,"_blank")},jumpCollection:function(){var e=this.$route.path,t=e.substring(e.lastIndexOf("/"));window.open("/batchCollection"+t,"_blank")},toggleSelection:function(e){var t=this;this.$refs.multipleTable.clearSelection(),e&&e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)}))},saveRpc:function(){var e=this;return Object(s.a)(Object(r.a)().mark((function t(){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.dialog.getChainId=!1,!e.global.rpcNode.startsWith("https://")&&!e.global.rpcNode.startsWith("http://")){t.next=8;break}return e.global.web3=new c.a(new c.a.providers.HttpProvider(e.global.rpcNode)),t.next=7,e.global.web3.eth.getChainId();case 7:e.global.provider=new S.a(e.global.rpcNode);case 8:if(!e.global.rpcNode.startsWith("wss://")&&!e.global.rpcNode.startsWith("ws://")){t.next=13;break}return e.global.web3=new c.a(new c.a.providers.WebsocketProvider(e.global.rpcNode)),t.next=12,e.global.web3.eth.getChainId();case 12:e.global.provider=new k.a(e.global.rpcNode);case 13:e.loading.rpc=!1,e.dialog.rpc=!1,t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),e.$message.error(t.t0.message),e.dialog.getChainId=!0;case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))()},delSelect:function(){if(0!==this.$refs.multipleTable.selection.length){var e=this.$refs.multipleTable.selection.map((function(e){return e.id}));this.privateKeyObj=this.privateKeyObj.filter((function(t){return-1===e.indexOf(t.id)}))}else this.$message.error(this.$t("batchCollection.selectionTips"))},exportExcel:function(){var e=this;0!==this.$refs.multipleTable.selection.length?(this.loading.download=!0,Promise.all([a.e("chunk-5164a781"),a.e("chunk-19aba6d4")]).then(a.bind(null,"4bf8")).then((function(t){var a=["id","address","balance","txId"],r=e.$refs.multipleTable.selection,i=e.formatJson(a,r),s=e.global.symbol+Object(n.o)(new Date,"{h}{i}{s}");t.export_json_to_excel({header:a,filename:s,data:i}),e.loading.download=!1}))):this.$message.error(this.$t("batchCollection.selectionTips"))},clipboardSuccess:function(){this.$message({message:this.$t("copySuccess"),type:"success",duration:1500})},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return"timestamp"===e?Object(n.o)(t[e]):t[e]}))}))},showDrawer:function(){this.privateKeyObj.length<=0?this.$message.error(this.$t("batchCallAbi.privateKeyObjNullTips")):this.dialog.dialogShow=!0},closeDrawer:function(){this.dialog.dialogShow=!1},initialData:function(){this.gasPriceList=f.g.filter((function(e){return e.chainId}));var e=parseInt(this.$route.query.chainId);e||(e=56,this.$router.push({query:{chainId:56}})),this.item=this.gasPriceList.filter((function(t){return t.chainId===e}))[0];var t=Object(l.n)(e);this.global.symbol=t.symbol,this.global.chainId=t.chainId,this.global.baseUrl=t.blockExplorerUrls[0],this.global.rpcNode=t.rpcUrls[0],this.global.web3=new c.a(new c.a.providers.HttpProvider(t.rpcUrls[0])),this.global.provider=new S.a(t.rpcUrls[0]),this.global.multicallAddress=t.multicallAddress}},created:function(){this.initialData()}},$=F,A=(a("f649"),Object(x.a)($,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("batch-call-drawer",{ref:"drawer",attrs:{dialogShow:e.dialog.dialogShow,chainId:e.global.chainId,showReceiveAddress:!1,rpcNode:e.global.rpcNode,type:3},on:{confirmDrawer:e.confirmDrawer,closeDrawer:e.closeDrawer}}),t("div",{staticClass:"headerBox"},[t("div",{staticClass:"headerBg"},[t("h2",{on:{click:function(t){return e.jumpTutorial()}}},[e._v(e._s(e.$t("inscriptions.mintEvm"))),t("i",{staticClass:"el-icon-question tutorial"})]),t("div",{staticClass:"descBox"},[t("p",{staticClass:"desc"},[t("span",[e._v(e._s(e.$t("inscriptions.mintEvmDesc")))])]),e._m(0)])])]),t("div",{staticClass:"content"},[t("el-form",{staticStyle:{padding:"0 10px"},attrs:{"label-position":"top"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:24,xs:24}},[t("el-form-item",[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(" RPC节点 "),t("el-tooltip",{attrs:{effect:"dark",content:"选择公链,如果您想添加自定义公链,更改RPC地址即可!",placement:"top"}},[t("i",{staticClass:"el-icon-question icon"})])],1)]),t("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",value:e.item,"value-key":"name"},on:{change:e.jumpRouter}},[t("div",{staticClass:"selectPrefixBox",attrs:{slot:"prefix"},slot:"prefix"},[t("svg-icon",{staticClass:"icon",style:"color: "+e.item.color,attrs:{"icon-class":e.item.icon}})],1),e._l(e.gasPriceList,(function(a){return t("el-option",{key:a.name,attrs:{label:a.show,value:a}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.show))]),t("span",{style:"float: right; font-size: 16px;color:"+a.color},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":a.icon}})],1)])}))],2)],1)],1),t("el-col",{attrs:{span:8,xs:24}},[t("el-form-item",{attrs:{label:"执行次数"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(" 执行次数 "),t("el-tooltip",{attrs:{effect:"dark",content:"每个地址执行交互次数，默认使用1就可以",placement:"top"}},[t("i",{staticClass:"el-icon-question icon"})])],1)]),t("el-input-number",{staticStyle:{width:"100%"},model:{value:e.setting.cycles,callback:function(t){e.$set(e.setting,"cycles",t)},expression:"setting.cycles"}})],1)],1),t("el-col",{attrs:{span:16,xs:24}},[t("el-form-item",[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(" RPC节点 "),t("span",[t("i",{directives:[{name:"show",rawName:"v-show",value:!e.dialog.getChainId,expression:"!dialog.getChainId"}]},[e._v("(ChainId："+e._s(e.global.chainId)+")")]),t("i",{directives:[{name:"show",rawName:"v-show",value:e.dialog.getChainId,expression:"dialog.getChainId"}],staticClass:"red"},[e._v("(获取ChainId失败，请尝试更换RPC)")]),t("el-tooltip",{attrs:{effect:"dark",content:"自动获取链ID",placement:"top"}},[t("i",{staticClass:"el-icon-question icon"})])],1)]),t("span",{staticClass:"more_rpc",on:{click:function(t){return e.openUrl("/other/chainList")}}},[e._v("更多 RPC")])]),t("el-input",{on:{input:e.saveRpc},model:{value:e.global.rpcNode,callback:function(t){e.$set(e.global,"rpcNode",t)},expression:"global.rpcNode"}})],1)],1),t("el-col",{attrs:{span:8,xs:24}},[t("el-form-item",[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(" 任务执行间隔(秒) "),t("el-tooltip",{attrs:{effect:"dark",content:"在每个钱包执行任务后会等待多少秒(使用公用RPC区块建议设置)",placement:"top"}},[t("i",{staticClass:"el-icon-question icon"})])],1),t("div",{staticClass:"randowTime"},[t("el-switch",{attrs:{"inactive-value":!1,"active-value":!0,"active-text":"随机延迟时间"},model:{value:e.setting.randomDelay,callback:function(t){e.$set(e.setting,"randomDelay",t)},expression:"setting.randomDelay"}})],1)]),e.setting.randomDelay?e._e():t("el-input-number",{staticStyle:{width:"100%"},model:{value:e.setting.delayTime,callback:function(t){e.$set(e.setting,"delayTime",t)},expression:"setting.delayTime"}}),e.setting.randomDelay?t("div",{staticClass:"randowTimeForm"},[t("el-input",{attrs:{clearable:""},model:{value:e.setting.delayStart,callback:function(t){e.$set(e.setting,"delayStart",t)},expression:"setting.delayStart"}}),t("div",{staticClass:"flag"},[e._v("-")]),t("el-input",{attrs:{clearable:""},model:{value:e.setting.delayEnd,callback:function(t){e.$set(e.setting,"delayEnd",t)},expression:"setting.delayEnd"}})],1):e._e()],1)],1),t("el-col",{attrs:{span:16,xs:24}},[t("el-form-item",[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("div",{staticClass:"labelBoxLeft"},[t("div",{staticStyle:{display:"inline-block","z-index":"999",position:"relative"}},[e._v(" "+e._s(e.$t("batchTransfer.runModel"))+" "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("batchTransfer.tips3"),placement:"top"}},[t("i",{staticClass:"el-icon-warning tipsIcon"})])],1)])]),t("el-radio-group",{attrs:{size:"medium"},model:{value:e.setting.isAsync,callback:function(t){e.$set(e.setting,"isAsync",t)},expression:"setting.isAsync"}},[t("el-radio-button",{attrs:{label:!1}},[e._v(e._s(e.$t("batchSwap.serial")))]),t("el-radio-button",{attrs:{label:!0}},[e._v(e._s(e.$t("batchSwap.parallel")))])],1)],1)],1)],1)],1),t("el-row",{staticStyle:{"margin-bottom":"20px",padding:"0 12px"}},[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"operationBtn"},[t("div",[t("el-button",{staticClass:"btn",attrs:{size:"small",icon:"el-icon-bottom",type:"primary"},on:{click:function(t){e.dialog.import=!0}}},[e._v(e._s(e.$t("batchTransfer.importAccount")))]),t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.download,expression:"loading.download"}],staticClass:"btn",attrs:{size:"small",icon:"el-icon-top",type:"primary"},on:{click:function(t){return e.exportExcel()}}},[e._v(e._s(e.$t("batchCollection.exportSelected")))]),t("el-button",{staticClass:"btn",attrs:{size:"small",icon:"el-icon-delete",type:"danger"},on:{click:function(t){return e.delSelect()}}},[e._v(e._s(e.$t("batchCollection.deleteSelected")))])],1),t("div",[t("span",{staticClass:"btnText",staticStyle:{"margin-right":"10px"},on:{click:function(t){return e.jumpToken()}}},[e._v(e._s(e.$t("batchSwap.oneToMore")))]),t("span",{staticClass:"btnText",staticStyle:{"margin-right":"10px"},on:{click:function(t){return e.jumpCollection()}}},[e._v(e._s(e.$t("batchSwap.batchCollection")))]),t("span",{staticClass:"btnText",staticStyle:{"margin-right":"10px"},on:{click:function(t){return e.jumpCreateWallet()}}},[e._v(e._s(e.$t("batchSwap.batchCreateWallet")))])])]),t("el-dialog",{attrs:{title:e.$t("batchTransfer.importAccount"),visible:e.dialog.import,width:"mobile"===e.device?"100%":"600px"},on:{"update:visible":function(t){return e.$set(e.dialog,"import",t)},closed:function(t){return e.addtokenClosed()}}},[t("span",[e._v(e._s(e.$t("batchCollection.privateFormat")))]),t("el-input",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.import,expression:"loading.import"}],attrs:{type:"textarea",rows:10,placeholder:e.$t("batchCollection.privateFormat")},model:{value:e.importText,callback:function(t){e.importText=t},expression:"importText"}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialog.import=!1}}},[e._v(e._s(e.$t("cancel")))]),t("el-button",{attrs:{type:"primary",loading:e.loading.import},on:{click:function(t){return e.importAddress()}}},[e._v(e._s(e.$t("confirm")))])],1)],1)],1)],1),t("el-row",{staticStyle:{"margin-bottom":"30px",padding:"0 12px"}},[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"transactionTable"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.tableData,expression:"loading.tableData"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"max-height":"500",data:e.privateKeyObj,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t("el-table-column",{attrs:{prop:"address","min-width":"mobile"==e.device?150:200,label:e.$t("address")+" ("+e.addressCount+")",align:"left"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-link",{attrs:{target:"_blank",href:e.global.baseUrl+"address/"+a.row.address}},[e._v(e._s(e.hiddenAddress(a.row.address)))]),t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:a.row.address,expression:"scope.row.address",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.clipboardSuccess,expression:"clipboardSuccess",arg:"success"}],staticClass:"btn",attrs:{type:"text"}},[t("svg-icon",{attrs:{"icon-class":"copy"}})],1)]}}])}),t("el-table-column",{attrs:{prop:"balance",label:e.global.symbol+" "+e.sunBalance,width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[0===a.row.balanceStatus?t("el-alert",{staticStyle:{"line-height":"18px","font-size":"14px"},attrs:{title:e.$t("batchSwap.notSelect"),closable:!1,center:"",type:"info"}}):e._e(),1===a.row.balanceStatus?t("span",[e._v(" "+e._s(e.downFixed(a.row.balance,5))+" "),t("i",{staticClass:"el-icon-success",staticStyle:{color:"green"}})]):e._e()]}}])}),t("el-table-column",{attrs:{prop:"result",label:e.$t("batchSwap.runResult"),width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[0===a.row.resultStatus?t("el-alert",{staticStyle:{"line-height":"18px","font-size":"14px"},attrs:{closable:!1,title:e.$t("batchSwap.notRun"),center:"",type:"info"}}):e._e(),2!==a.row.resultStatus||a.row.resultTx?e._e():t("el-alert",{staticStyle:{"line-height":"18px","font-size":"14px"},attrs:{closable:!1,center:"",type:"info"}},[t("i",{staticClass:"el-icon-error",staticStyle:{color:"#c03639"}}),e._v(e._s(a.row.resultErrorMsg)+" ")]),2===a.row.resultStatus&&a.row.resultTx?t("el-link",{attrs:{target:"_blank",href:e.global.baseUrl+"tx/"+a.row.resultTx}},[e._v(" "+e._s(a.row.resultErrorMsg)+" "),t("i",{staticClass:"el-icon-success",staticStyle:{color:"#c03639"}})]):e._e(),1===a.row.resultStatus&&a.row.resultTx?t("el-link",{attrs:{target:"_blank",href:e.global.baseUrl+"tx/"+a.row.resultTx}},[e._v(" "+e._s(e.hiddenAddress(a.row.resultTx))+" "),t("i",{staticClass:"el-icon-success",staticStyle:{color:"green"}})]):e._e()]}}])}),t("el-table-column",{attrs:{width:"100",label:e.$t("operate"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tooltip",{attrs:{content:e.$t("delete")}},[t("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.handleDelete(a.$index,e.privateKeyObj)}}})],1)]}}])})],1),t("div",{staticClass:"multipleBtn"},[t("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(t){e.toggleSelection(e.privateKeyObj.filter((function(e){return e.balance<=0})))}}},[e._v(e._s(e.$t("batchCallAbi.selectTokenZero")))]),t("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(t){return e.selectBalance()}}},[e._v(e._s(e.$t("batchCollection.getBalance")))]),t("el-button",{attrs:{size:"small",type:"danger",plain:""},on:{click:function(t){e.toggleSelection(e.privateKeyObj.filter((function(e){return 2===e.resultStatus})))}}},[e._v(e._s(e.$t("batchCollection.selectDelete")))]),t("span",{staticClass:"btnText",staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.$t("batchCallAbi.allBalance",[e.global.symbol]))+e._s(e.sunBalance))])],1)],1)])],1),t("div",{staticClass:"btnBox"},[t("el-button",{attrs:{type:"warning",size:"large"},on:{click:function(t){return e.stopSwap()}}},[e._v(" "+e._s(e.$t("batchSwap.stopSwap"))+" ")]),t("el-button",{attrs:{loading:e.loading.call,type:"primary",size:"large"},on:{click:function(t){return e.showDrawer()}}},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"coin-collection"}}),t("span",[e._v(e._s(e.$t("batchCallAbi.runCallAbi")))])],1),t("el-button",{attrs:{size:"large"},on:{click:function(t){return e.getLogs()}}},[e._v("查看日志")])],1),t("el-row",{staticStyle:{"margin-bottom":"30px",padding:"0 12px"}},[t("el-col",{directives:[{name:"show",rawName:"v-show",value:e.loading.progressShow,expression:"loading.progressShow"}],attrs:{span:24}},[t("el-progress",{attrs:{"text-inside":!0,"stroke-width":20,percentage:e.progress,status:"success"}})],1)],1)],1),t("error-logs")],1)}),[function(){var e=this,t=e._self._c;return t("p",{staticClass:"desc"},[t("span",{staticClass:"label"},[e._v("Network supports:")]),t("span",{staticClass:"network"},[e._v("ETH, BSC, ARB, ETHW, HECO, OP, OKT, MATIC, FTM, KCC, XDAI, TRX, AVAX,, CELO, MOVR, CRO,, EVMOS, BRISE, DOGECHAIN, ETC, SYSCOIN, CANTO...")])])}],!1,null,"4ef33852",null));t.default=A.exports},27:function(e,t){},28:function(e,t){},3210:function(e,t,a){"use strict";var r={name:"TxErrorLog",data:function(){return{dialogTableVisible:!1}},computed:{errorLogs:function(){return this.$store.getters.txErrorLogs},showDialog:function(){return this.$store.state.errorLog.showTxErrorDialog}},methods:{addtokenClosed:function(){this.$store.dispatch("errorLog/closeTxDialog")},clearAll:function(){this.$store.dispatch("errorLog/clearTxErrorLog")}}},i=(a("d91f"),a("2877")),s=Object(i.a)(r,(function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{"before-close":e.addtokenClosed,visible:e.showDialog,width:"80%"},on:{"update:visible":function(t){e.showDialog=t}}},[t("div",{attrs:{slot:"title"},slot:"title"},[t("span",{staticStyle:{"padding-right":"10px"}},[e._v("Log")]),t("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-delete"},on:{click:e.clearAll}},[e._v(e._s(e.$t("other.calcErrorLogs")))])],1),t("div",{staticClass:"codeBox"},e._l(e.errorLogs,(function(a){return t("p",{class:a.isError?"error":""},[e._v(e._s(a.text))])})),0)])}),[],!1,null,"0a8eb7fa",null);t.a=s.exports},"3da7":function(e,t,a){"use strict";a("8a3b")},6800:function(e,t,a){},"7f80":function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return u}));var r=a("c7eb"),i=a("1da1"),s=(a("99af"),a("4de4"),a("d81d"),a("14d9"),a("d3b7"),a("ac1f"),a("5319"),a("159b"),a("1c81")),n=a("cf29"),l=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,a,i){var l,o;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new i.eth.Contract(s.abi,t);case 2:return l=e.sent,o={name:"tryAggregate",erc20:!0,data:[!0,a]},e.next=6,Object(n.d)(l,o);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),o=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,a,i,l){var o,c,u;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new l.eth.Contract(s.abi,i);case 2:return o=e.sent,c=[],a.forEach((function(e){var a=l.eth.abi.encodeParameter("uint256",e).replace("0x","");c.push({target:t,callData:"0x6352211e"+a})})),u={name:"tryAggregate",erc20:!0,data:[!1,c]},e.next=9,Object(n.d)(o,u).then((function(e){return e&&e.length>0&&e.filter((function(e){return e.success})).length>0?e.filter((function(e){return e.success})).map((function(e){return l.eth.abi.decodeParameter("address",e.returnData)})):null})).catch((function(){return null}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,a,r,i){return e.apply(this,arguments)}}(),c=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,a,i,l){var o,c,u,p,d;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new l.eth.Contract(s.abi,i);case 2:return o=e.sent,c=["0x8462151c","0x438b6300","0xd63d4af0"],u=l.utils.stripHexPrefix(a),p=[],c.forEach((function(e){p.push({target:t,callData:"".concat(e,"000000000000000000000000").concat(u)})})),d={name:"tryAggregate",erc20:!0,data:[!1,p]},e.next=10,Object(n.d)(o,d).then((function(e){if(e&&e.length>0&&e.filter((function(e){return e.success})).length>0){var t=e.filter((function(e){return e.success}))[0];return l.eth.abi.decodeParameter(["uint256[]"],t.returnData)}return null})).catch((function(){return null}));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t,a,r,i){return e.apply(this,arguments)}}(),u=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,a,i,l,o){var c,u,p,d,m;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new o.eth.Contract(s.abi,l);case 2:for(c=e.sent,u=[],p=0;p<t;p++)d=o.eth.abi.encodeParameters(["address","uint256"],[i,p]).replace("0x",""),u.push({target:a,callData:"0x2f745c59".concat(d)});return m={name:"tryAggregate",erc20:!0,data:[!1,u]},e.next=8,Object(n.d)(c,m).then((function(e){if(e&&e.length>0&&e.filter((function(e){return e.success})).length>0){var t=[];return e.filter((function(e){return e.success})).forEach((function(e){var a=o.eth.abi.decodeParameter("uint256",e.returnData);t.push(a)})),t}return null})).catch((function(){return null}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,a,r,i,s){return e.apply(this,arguments)}}()},"8a3b":function(e,t,a){},d91f:function(e,t,a){"use strict";a("6800")},ec1b:function(e,t,a){e.exports=function(e){function t(r){if(a[r])return a[r].exports;var i=a[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var a={};return t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,r){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=2)}([function(e,t,a){var r=a(4)(a(1),a(5),null,null);e.exports=r.exports},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(3);t.default={props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator:function(e){return e>=0}},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default:function(e,t,a,r){return a*(1-Math.pow(2,-10*e/r))*1024/1023+t}}},data:function(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown:function(){return this.startVal>this.endVal}},watch:{startVal:function(){this.autoplay&&this.start()},endVal:function(){this.autoplay&&this.start()}},mounted:function(){this.autoplay&&this.start(),this.$emit("mountedCallback")},methods:{start:function(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=(0,r.requestAnimationFrame)(this.count)},pauseResume:function(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause:function(){(0,r.cancelAnimationFrame)(this.rAF)},resume:function(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,(0,r.requestAnimationFrame)(this.count)},reset:function(){this.startTime=null,(0,r.cancelAnimationFrame)(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count:function(e){this.startTime||(this.startTime=e),this.timestamp=e;var t=e-this.startTime;this.remaining=this.localDuration-t,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(t,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(t,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(t/this.localDuration):this.printVal=this.localStartVal+(this.localStartVal-this.startVal)*(t/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),t<this.localDuration?this.rAF=(0,r.requestAnimationFrame)(this.count):this.$emit("callback")},isNumber:function(e){return!isNaN(parseFloat(e))},formatNumber:function(e){e=e.toFixed(this.decimals);var t=(e+="").split("."),a=t[0],r=t.length>1?this.decimal+t[1]:"",i=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))for(;i.test(a);)a=a.replace(i,"$1"+this.separator+"$2");return this.prefix+a+r+this.suffix}},destroyed:function(){(0,r.cancelAnimationFrame)(this.rAF)}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.default=r.default,"undefined"!=typeof window&&window.Vue&&window.Vue.component("count-to",r.default)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=0,i="webkit moz ms o".split(" "),s=void 0,n=void 0;if("undefined"==typeof window)t.requestAnimationFrame=s=function(){},t.cancelAnimationFrame=n=function(){};else{t.requestAnimationFrame=s=window.requestAnimationFrame,t.cancelAnimationFrame=n=window.cancelAnimationFrame;for(var l=void 0,o=0;o<i.length&&(!s||!n);o++)l=i[o],t.requestAnimationFrame=s=s||window[l+"RequestAnimationFrame"],t.cancelAnimationFrame=n=n||window[l+"CancelAnimationFrame"]||window[l+"CancelRequestAnimationFrame"];s&&n||(t.requestAnimationFrame=s=function(e){var t=(new Date).getTime(),a=Math.max(0,16-(t-r)),i=window.setTimeout((function(){e(t+a)}),a);return r=t+a,i},t.cancelAnimationFrame=n=function(e){window.clearTimeout(e)})}t.requestAnimationFrame=s,t.cancelAnimationFrame=n},function(e,t){e.exports=function(e,t,a,r){var i,s=e=e||{},n=typeof e.default;"object"!==n&&"function"!==n||(i=e,s=e.default);var l="function"==typeof s?s.options:s;if(t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns),a&&(l._scopeId=a),r){var o=Object.create(l.computed||null);Object.keys(r).forEach((function(e){var t=r[e];o[e]=function(){return t}})),l.computed=o}return{esModule:i,exports:s,options:l}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",[e._v("\n  "+e._s(e.displayValue)+"\n")])},staticRenderFns:[]}}])},f649:function(e,t,a){"use strict";a("15ae")}}]);