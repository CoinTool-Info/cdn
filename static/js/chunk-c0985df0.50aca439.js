(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c0985df0"],{3409:function(e,t,a){},"4be1":function(e,t,a){"use strict";a("3409")},"551b":function(e,t,a){"use strict";a.r(t),a("b0c0");var s=a("c7eb"),r=a("1da1"),i=a("5530"),n=(a("4de4"),a("d3b7"),a("25f0"),a("3ca3"),a("ddb0"),a("05b3")),o=a("2f62"),l=a("c0d8"),c=a.n(l),u=a("901e"),m=a.n(u),f=a("b893"),p=a("cf29"),d={name:"ethscriber",computed:Object(i.a)({},Object(o.d)({web3Instance:function(e){return e.dapp.web3.web3Instance},myAddress:function(e){return e.dapp.web3.account},initial:function(e){return e.dapp.web3.initial},networkId:function(e){return e.dapp.web3.networkId}})),watch:{initial:function(e){e&&this.walletConn()},"form.hexString":function(e){this.showParams=c.a.utils.utf8ToHex(e)},"form.stringHex":function(e){try{this.showParams=c.a.utils.hexToUtf8(e)}catch(e){this.showParams=null}}},data:function(){return{gasPriceList:[],item:null,form:{runCount:"5",hexString:"",stringHex:"",hexType:2,isSendSelf:!0,maxFee:"",priorityFee:"",gasPrice:"",receiveAddress:"",isOpen1559:!1,useMetamaskGas:!0},gasInfo1559:{maxFee:"",priorityFee:"",baseFee:""},hexString:'data:,{"p":"asc-20","op":"mint","tick":"aval","amt":"100000000"}',stringHex:"0x646174613a2c7b2270223a226173632d3230222c226f70223a226d696e74222c227469636b223a226176616c222c22616d74223a22313030303030303030227d",showParams:"",runFlag:!1,loading:!1}},methods:{starRun:function(){var e=this;return Object(r.a)(Object(s.a)().mark((function t(){var a,r,i,n,o,l,u,f,d,h;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.initial){t.next=3;break}return e.$message.error(e.$t("batchSendNft.connectWallet")),t.abrupt("return");case 3:if(a=e.form.isSendSelf?e.myAddress:e.form.receiveAddress,c.a.utils.isAddress(a)){t.next=7;break}return e.$message.error(e.$t("batchSend.invalidAddress")),t.abrupt("return");case 7:if(r=1,e.form.useMetamaskGas){t.next=28;break}if(e.form.isOpen1559){t.next=17;break}if(e.form.gasPrice){t.next=13;break}return e.$message.error("Gas Price 不能为空!"),t.abrupt("return");case 13:r=1,i=c.a.utils.toWei(e.form.gasPrice.toString(),"gwei"),t.next=26;break;case 17:if(e.form.maxFee){t.next=20;break}return e.$message.error("Max Fee 不能为空!"),t.abrupt("return");case 20:if(e.form.priorityFee){t.next=23;break}return e.$message.error("Priority Fee 不能为空!"),t.abrupt("return");case 23:n=c.a.utils.toWei(e.form.maxFee.toString(),"gwei"),o=c.a.utils.toWei(e.form.priorityFee.toString(),"gwei"),r=2;case 26:t.next=32;break;case 28:return t.next=30,e.web3Instance.eth.getGasPrice();case 30:l=t.sent,i=Math.ceil(1.2*l);case 32:u=1===e.form.hexType?e.form.stringHex:c.a.utils.utf8ToHex(e.form.hexString),e.runFlag=!0,e.loading=!0,f=parseInt(e.form.runCount),d=Object(s.a)().mark((function t(){var l,c;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.runFlag){t.next=2;break}return t.abrupt("return",1);case 2:return l={from:e.myAddress,to:a,data:u,type:r.toString()},1===r?l.gasPrice="0x"+new m.a(i).toString(16):2===r&&(l.maxFeePerGas="0x"+new m.a(n).toString(16),l.maxPriorityFeePerGas="0x"+new m.a(o).toString(16)),t.next=7,e.web3Instance.eth.sendTransaction(l).catch((function(t){e.$message.error(t.message)}));case 7:(c=t.sent)&&(Object(p.a)({address:e.myAddress,hash:c.transactionHash,summary:"Mint Inscription",status:1}),setTimeout((function(){Object(p.a)({address:e.myAddress,hash:c.transactionHash,summary:"Mint Inscription",status:2})}),500));case 9:case"end":return t.stop()}}),t)})),h=0;case 38:if(!(h<f)){t.next=45;break}return t.delegateYield(d(),"t0",40);case 40:if(!t.t0){t.next=42;break}return t.abrupt("break",45);case 42:h++,t.next=38;break;case 45:e.loading=!1;case 46:case"end":return t.stop()}}),t)})))()},stopRun:function(){this.runFlag=!1,this.loading=!1},example:function(){1===this.form.hexType?this.form.stringHex=this.stringHex:this.form.hexString=this.hexString},jumpRouter:function(e){var t=this;return Object(r.a)(Object(s.a)().mark((function a(){var r;return Object(s.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.chainId===t.networkId){a.next=6;break}return r=Object(f.n)(e.chainId),a.next=4,Object(f.f)({chainId:e.chainId,chainName:r.chainName,name:r.name,symbol:r.symbol,decimals:r.decimals,rpcUrls:r.rpcUrls,blockExplorerUrls:r.blockExplorerUrls}).catch((function(e){t.$message.error(e.message)}));case 4:a.sent&&(t.item=e);case 6:case"end":return a.stop()}}),a)})))()},shareDialogShow:function(){this.$store.dispatch("app/setShareDialogShow",!0)},walletConn:function(){var e=this;this.form.receiveAddress=this.myAddress,this.gasPriceList.filter((function(t){return t.chainId===e.networkId})).length>0?this.item=this.gasPriceList.filter((function(t){return t.chainId===e.networkId}))[0]:this.item=this.gasPriceList.filter((function(e){return 1===e.chainId}))[0]},initialData:function(){this.gasPriceList=n.g.filter((function(e){return e.chainId})),this.item=this.gasPriceList.filter((function(e){return 1===e.chainId}))[0];var e=this.$route.query,t=e.hex,a=e.type;"string"===a?(this.form.hexType=2,this.form.hexString=t):"hex"===a&&(this.form.hexType=1,this.form.stringHex=t),this.initial&&this.walletConn()}},created:function(){this.initialData()}},h=d,x=(a("4be1"),a("2877")),b=Object(x.a)(h,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"flexBox"},[t("div",{staticClass:"header"},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"mint"}}),t("span",{staticClass:"headerTitle"},[e._v("铭文铭刻")])],1),t("div",{staticClass:"content"},[t("div",{staticClass:"checkAll"},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"share"},on:{click:function(t){return e.shareDialogShow()}}})],1),t("el-form",{attrs:{"label-position":"top",model:e.form}},[t("el-form-item",{attrs:{label:"Chain:"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{value:e.item,"value-key":"name"},on:{change:e.jumpRouter}},[t("div",{staticClass:"selectPrefixBox",attrs:{slot:"prefix"},slot:"prefix"},[t("svg-icon",{staticClass:"icon",style:"color: "+e.item.color,attrs:{"icon-class":e.item.icon}})],1),e._l(e.gasPriceList,(function(a){return t("el-option",{key:a.name,attrs:{label:a.show,value:a}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.show))]),t("span",{style:"float: right; font-size: 16px;color:"+a.color},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":a.icon}})],1)])}))],2)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12,xs:24}},[t("el-form-item",{attrs:{prop:"receiveAddress"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v("接收地址")]),t("div",{staticClass:"labelBoxLeft"},[t("el-switch",{attrs:{"inactive-value":!1,"active-value":!0,"active-text":"转给自己"},model:{value:e.form.isSendSelf,callback:function(t){e.$set(e.form,"isSendSelf",t)},expression:"form.isSendSelf"}})],1)]),e.form.isSendSelf?t("div",{staticClass:"inputSendSelf"},[t("el-input",{staticStyle:{width:"100%"},attrs:{disabled:!0}}),t("span",{staticClass:"inputSendSelf_text"},[e._v("转给自己")])],1):t("el-input",{staticStyle:{width:"100%"},attrs:{clearable:!0},model:{value:e.form.receiveAddress,callback:function(t){e.$set(e.form,"receiveAddress",t)},expression:"form.receiveAddress"}})],1)],1),t("el-col",{attrs:{span:12,xs:24}},[t("el-form-item",{attrs:{label:"钱包弹出交易次数:",prop:"runCount"}},[t("el-input",{model:{value:e.form.runCount,callback:function(t){e.$set(e.form,"runCount",t)},expression:"form.runCount"}})],1)],1),t("el-col",{attrs:{span:6,xs:24}},[t("el-form-item",{attrs:{prop:"gasPrice"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v("自定义Gas")])]),t("div",{staticClass:"switchBox"},[t("el-switch",{attrs:{"inactive-value":!1,"active-value":!0,"active-text":"自动Gas"},model:{value:e.form.useMetamaskGas,callback:function(t){e.$set(e.form,"useMetamaskGas",t)},expression:"form.useMetamaskGas"}})],1),t("div",{staticClass:"switchBox"},[t("el-switch",{directives:[{name:"show",rawName:"v-show",value:!e.form.useMetamaskGas,expression:"!form.useMetamaskGas"}],attrs:{"inactive-value":!1,"active-value":!0,"active-text":"EIP-1559"},model:{value:e.form.isOpen1559,callback:function(t){e.$set(e.form,"isOpen1559",t)},expression:"form.isOpen1559"}})],1)])],1),e.form.useMetamaskGas||e.form.isOpen1559?e._e():t("el-col",{attrs:{span:8,xs:24}},[t("el-form-item",{attrs:{label:"Gas Price(Gwei)",prop:"gasPrice"}},[t("el-input",{attrs:{size:"medium",oninput:"value=value.replace(/[^\\d\\.]/g,'')",placeholder:"0.00"},model:{value:e.form.gasPrice,callback:function(t){e.$set(e.form,"gasPrice",t)},expression:"form.gasPrice"}})],1)],1),!e.form.useMetamaskGas&&e.form.isOpen1559?t("el-col",{attrs:{span:8,xs:24}},[t("el-form-item",{attrs:{label:"Max Fee",prop:"maxFee"}},[t("el-input",{attrs:{size:"medium",oninput:"value=value.replace(/[^\\d\\.]/g,'')",placeholder:"0.00"},model:{value:e.form.maxFee,callback:function(t){e.$set(e.form,"maxFee",t)},expression:"form.maxFee"}})],1)],1):e._e(),!e.form.useMetamaskGas&&e.form.isOpen1559?t("el-col",{attrs:{span:8,xs:24}},[t("el-form-item",{attrs:{label:"Priority Fee",prop:"priorityFee"}},[t("el-input",{attrs:{size:"medium",oninput:"value=value.replace(/[^\\d\\.]/g,'')",placeholder:"0.00"},model:{value:e.form.priorityFee,callback:function(t){e.$set(e.form,"priorityFee",t)},expression:"form.priorityFee"}})],1)],1):e._e()],1),t("el-form-item",{staticClass:"item itemHexBox",attrs:{prop:"gasPrice"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("el-radio-group",{attrs:{size:"mini"},model:{value:e.form.hexType,callback:function(t){e.$set(e.form,"hexType",t)},expression:"form.hexType"}},[t("el-radio-button",{attrs:{label:1}},[e._v("16进制模式")]),t("el-radio-button",{attrs:{label:2}},[e._v("文本模式")])],1),t("div",{staticClass:"exampleBox"},[t("span",{staticClass:"example",on:{click:function(t){return e.example()}}},[e._v("Example")])])],1),t("el-input",{directives:[{name:"show",rawName:"v-show",value:1===e.form.hexType,expression:"form.hexType === 1"}],staticClass:"textareaBox",attrs:{placeholder:"0x....",type:"textarea",rows:4},model:{value:e.form.stringHex,callback:function(t){e.$set(e.form,"stringHex",t)},expression:"form.stringHex"}}),t("el-input",{directives:[{name:"show",rawName:"v-show",value:2===e.form.hexType,expression:"form.hexType === 2"}],staticClass:"textareaBox",attrs:{placeholder:e.hexString,type:"textarea",rows:4},model:{value:e.form.hexString,callback:function(t){e.$set(e.form,"hexString",t)},expression:"form.hexString"}})],1),t("div",[t("el-alert",{attrs:{closable:!1,title:"转换后："+e.showParams}})],1)],1),t("div",{staticClass:"btnBox"},[t("el-button",{staticClass:"btn",attrs:{type:"warning",size:"medium"},on:{click:function(t){return e.stopRun()}}},[e._v("停止")]),t("el-button",{staticClass:"btn",attrs:{type:"primary",loading:e.loading,size:"medium"},on:{click:function(t){return e.starRun()}}},[e._v("开始")])],1)],1)])])}),[],!1,null,"388167a0",null);t.default=b.exports}}]);