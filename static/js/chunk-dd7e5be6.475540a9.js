(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-dd7e5be6"],{"0fc9":function(t,e,a){"use strict";a("bdba")},"2d31":function(t,e,a){},"67fd":function(t,e,a){"use strict";a.r(e);var s=(a("d3b7"),a("159b"),a("828d"),a("7b4f")),r=(a("ac1f"),a("5319"),a("e9c4"),a("7c39")),n=a.n(r),o=a("21a6"),i={name:"MetaGenerate",props:{metaShow:{type:Boolean,default:!1}},computed:{exampleFlag:function(){return!!this.url}},data:function(){return{nftName:"",desc:"",attr:"",url:"",urlType:"",startId:"",endId:""}},methods:{generate:function(){var t=this,e=[];try{if(this.attr){var a=this.attr.split(",");for(var s in a){var r=a[s].split(":");e.push({trait_type:r[0],value:r[1]})}}}catch(t){}for(var i=(new n.a).folder("metadata"),l=this.startId;l<=this.endId;l++){var c={name:this.nftName+" #"+l,description:this.desc,attributes:e,image:this.url.replace("*",l)};i.file(l+".json",JSON.stringify(c))}i.generateAsync({type:"blob"}).then((function(e){Object(o.saveAs)(e,"metadata.zip"),t.$message.success(t.$t("success")),t.handleClose()}))},hrefUrl:function(t){if(1===this.urlType){var e=this.url.replace("*",t);if(e.indexOf("ipfs://")>=0)return"https://cloudflare-ipfs.com/ipfs/"+e.substr(7)}if(2===this.urlType)return this.url.replace("*",t)},formatUrl:function(t){return this.url.replace("*",t)},demoIpfs:function(){this.urlType=1,this.url="ipfs://bafybeica2s3zqypmulf7yhwzaff5zzkjh7naac7v2q37ar4thci3ckpada/*.gif"},demoHttp:function(){this.urlType=2,this.url="https://data.rareapepes.com/*.png"},demoAttr:function(){this.attr="Background:Orange,Eyes:Blue Beams,Skin:Robot"},handleClose:function(){this.$emit("metaClose")}}},l=i,c=(a("efa7"),a("2877")),u=Object(c.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{"close-on-press-escape":!1,"close-on-click-modal":!1,width:"600px",title:"MetaData Generate",visible:t.metaShow,center:"","before-close":t.handleClose},on:{"update:visible":function(e){t.metaShow=e}}},[a("div",{staticClass:"dialogBox"},[a("el-form",{attrs:{"label-position":"top"}},[a("el-form-item",{staticClass:"item",attrs:{label:"NFT Name"}},[a("el-input",{attrs:{placeholder:"e.g Habibiz"},model:{value:t.nftName,callback:function(e){t.nftName=e},expression:"nftName"}})],1),a("el-form-item",{staticClass:"item",attrs:{label:"Description"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"e.g Welcome to Hertz City!"},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1),a("el-form-item",{staticClass:"item",attrs:{label:"Attributes"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"e.g Background:Orange,Eyes:Blue Beams,Skin:Robot"},model:{value:t.attr,callback:function(e){t.attr=e},expression:"attr"}}),a("el-link",{attrs:{type:"primary"},on:{click:function(e){return t.demoAttr()}}},[t._v("Demo")])],1),a("el-form-item",{staticClass:"item",attrs:{label:"MetaData URL(Match tokenId using (*) sign)"}},[a("el-input",{attrs:{placeholder:"https://data.rareapepes.com/*.png",clearable:""},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}}),a("div",{staticClass:"exampleBtnBox"},[a("el-link",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){return t.demoIpfs()}}},[t._v("IMAGE IPFS Demo")]),a("el-link",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){return t.demoHttp()}}},[t._v("IMAGE HTTPS Demo")])],1),a("ul",{style:t.exampleFlag?"":"display: none"},[a("span",[t._v("Example")]),t._l(5,(function(e){return a("li",{key:e},[a("el-link",{attrs:{href:t.hrefUrl(e),target:"_blank"}},[t._v(" "+t._s(t.formatUrl(e))+" ")])],1)}))],2)],1),a("el-form-item",{staticClass:"item",attrs:{label:"Generate TokenId range"}},[a("el-col",{attrs:{span:11}},[a("el-input",{attrs:{placeholder:"1"},model:{value:t.startId,callback:function(e){t.startId=e},expression:"startId"}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:2,center:""}},[t._v("-")]),a("el-col",{attrs:{span:11}},[a("el-input",{attrs:{placeholder:"2000"},model:{value:t.endId,callback:function(e){t.endId=e},expression:"endId"}})],1)],1)],1),a("el-alert",{attrs:{type:"success"}},[t._v("Generate tokenId "+t._s(this.startId)+" to tokenId to "+t._s(this.endId)+" the metadata file")])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){return t.handleClose()}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){return t.generate()}}},[t._v("确认")])],1)])}),[],!1,null,"ae3f20d0",null),p={name:"ipfs",components:{MetaGenerate:u.exports},data:function(){return{fileHash:"",percentage:0,localFileList:[],loading:{upload:!1},show:{progress:!1,alert:!1,meta:!1},headers:{authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweGJDNDY2ODNBZUE4NDc1ZmI3QTBBMDA2RUQ4ZDFlZTNiZTlmZkU1QmMiLCJpc3MiOiJuZnQtc3RvcmFnZSIsImlhdCI6MTY3MDQwNzc4MTM1NiwibmFtZSI6IlRva2VuVG9vbCJ9._rY6vNuSjfVndZlJYdND1Sg4ayMsotvMkowSR3ttEh4"}}},methods:{clearFile:function(){this.$refs.upload.clearFiles(),this.loading.upload=!1,this.show.progress=!1,this.show.alert=!1,this.localFileList=[],this.percentage=0},submitUpload:function(){this.loading.upload=!0;var t=new FormData;this.fileLocalList.forEach((function(e){t.append("file",e.raw)})),this.show.progress=!0,Object(s.a)({action:"https://api.nft.storage/upload",headers:this.headers,onProgress:this.handleProgress,onError:this.handleError,onSuccess:this.handleSuccess},t)},handleSuccess:function(t){this.loading.upload=!1,t.ok&&(this.fileHash=t.value.cid,this.$message.success("Success! Your hash:"+this.fileHash),this.show.alert=!0)},handleProgress:function(t){this.percentage=t.percent},handleError:function(t){this.loading.upload=!1,this.$message.error(t.message)},onUploadChange:function(t,e){this.fileLocalList=e}}},d=p,f=(a("0fc9"),Object(c.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"header"},[a("svg-icon",{attrs:{"class-name":"icon-nft","icon-class":"nft"}}),a("span",[t._v("NFT IPFS")])],1),a("div",{staticClass:"content"},[a("div",{staticClass:"card"},[a("div",{staticClass:"uploadBox"},[a("div",{staticClass:"topBtnBox"},[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){t.show.meta=!0}}},[t._v("MetaData Generate")])],1),a("el-upload",{ref:"upload",attrs:{drag:"",action:"https://api.nft.storage/upload","auto-upload":!1,"on-change":t.onUploadChange,headers:t.headers,multiple:""}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("Drag the file here Or Click upload")])]),t.show.progress?a("div",{staticClass:"progressBox"},[a("el-progress",{attrs:{"text-inside":!0,"stroke-width":20,percentage:t.percentage}})],1):t._e(),t.show.alert?a("el-alert",{attrs:{type:"success","show-icon":"",closable:!1,title:"ipfs://"+t.fileHash+"/"}},[t._v(" "+t._s(t.fileHash)+" ")]):t._e(),a("div",{staticClass:"btnBox"},[a("el-button",{attrs:{size:"large"},on:{click:function(e){return t.clearFile()}}},[t._v("Reset")]),a("el-button",{attrs:{size:"large",loading:t.loading.upload,type:"success"},on:{click:t.submitUpload}},[t._v("Upload")])],1)],1)])]),a("meta-generate",{attrs:{metaShow:t.show.meta},on:{metaClose:function(e){t.show.meta=!1}}})],1)}),[],!1,null,"25a3b88a",null));e.default=f.exports},"7b4f":function(t,e,a){"use strict";function s(t,e){if("undefined"!=typeof XMLHttpRequest){var a=new XMLHttpRequest,s=t.action;a.upload&&(a.upload.onprogress=function(e){e.total>0&&(e.percent=parseInt(e.loaded/e.total*100)),t.onProgress(e)}),a.onerror=function(e){t.onError(e)},a.onload=function(){if(a.status<200||a.status>=300)return t.onError(function(t,e,a){var s;s=a.response?"".concat(a.response.error||a.response):a.responseText?"".concat(a.responseText):"fail to post ".concat(t," ").concat(a.status);var r=new Error(s);return r.status=a.status,r.method="post",r.url=t,r}(s,0,a));t.onSuccess(function(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch(t){return e}}(a))},a.open("post",s,!0),t.withCredentials&&"withCredentials"in a&&(a.withCredentials=!0);var r=t.headers||{};for(var n in r)r.hasOwnProperty(n)&&null!==r[n]&&a.setRequestHeader(n,r[n]);return a.send(e),a}}a.d(e,"a",(function(){return s})),a("99af")},bdba:function(t,e,a){},efa7:function(t,e,a){"use strict";a("2d31")}}]);